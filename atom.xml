<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>liushuaikobe</title>
  <subtitle>éšä¾¿åä¸ªæ§½è€Œå·²</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.liushuaiko.be/"/>
  <updated>2016-12-11T15:02:34.000Z</updated>
  <id>http://blog.liushuaiko.be/</id>
  
  <author>
    <name>liushuaikobe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Macä¸Šç»™æ ‘è“æ´¾å®‰è£…Raspbian</title>
    <link href="http://blog.liushuaiko.be/blog/2016/12/11/pi-raspbian/"/>
    <id>http://blog.liushuaiko.be/blog/2016/12/11/pi-raspbian/</id>
    <published>2016-12-11T14:55:18.000Z</published>
    <updated>2016-12-11T15:02:34.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;ä¸‹è½½imgæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#ä¸‹è½½imgæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½imgæ–‡ä»¶&quot;&gt;&lt;/a&gt;ä¸‹è½½imgæ–‡ä»¶&lt;/h2&gt;&lt;p&gt;åˆ°[è¿™é‡Œ]ä¸‹è½½imgæ–‡ä»¶ï¼Œè®°å¾—ä¸‹è½½å®Œæˆåæ¯”å¯¹ä¸€ä¸‹æ–‡ä»¶çš„æ‘˜è¦ï¼Œç¡®ä¿æ‹¿åˆ°çš„æ–‡ä»¶æ²¡æœ‰æŸåï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ shasum ~/Downloads/2016-09-23-raspbian-jessie-lite.zip&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è§£å‹zipæ–‡ä»¶ï¼Œå¾—åˆ°imgæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ ¼å¼åŒ–SD-Card&quot;&gt;&lt;a href=&quot;#æ ¼å¼åŒ–SD-Card&quot; class=&quot;headerlink&quot; title=&quot;æ ¼å¼åŒ–SD Card&quot;&gt;&lt;/a&gt;æ ¼å¼åŒ–SD Card&lt;/h2&gt;&lt;p&gt;è¦æ±‚SD Cardå¿…é¡»æ˜¯FATï¼Œä½¿ç”¨å‰å…ˆç”¨Disk Utilityæ ¼å¼åŒ–ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/raspbian-1.png&quot; alt=&quot;raspbian-1&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ«é€‰æˆä½ Macçš„ç¡¬ç›˜ï¼Œä¸ç„¶å¯å°±é…¸çˆ½äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;unmount-SD-Card&quot;&gt;&lt;a href=&quot;#unmount-SD-Card&quot; class=&quot;headerlink&quot; title=&quot;unmount SD Card&quot;&gt;&lt;/a&gt;unmount SD Card&lt;/h2&gt;&lt;p&gt;æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨&lt;code&gt;diskutil&lt;/code&gt;æ‰¾åˆ°ä½ çš„SD Cardå¹¶å–æ¶ˆæŒ‚è½½ï¼Œæœ¬ä¾‹ä¸­ï¼ŒSD Cardæ˜¯&lt;code&gt;/dev/disk2&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/raspbian-2.png&quot; alt=&quot;raspbian-2&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;çƒ§å…¥img&quot;&gt;&lt;a href=&quot;#çƒ§å…¥img&quot; class=&quot;headerlink&quot; title=&quot;çƒ§å…¥img&quot;&gt;&lt;/a&gt;çƒ§å…¥img&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å†™å…¥é•œåƒã€‚æ³¨æ„&lt;code&gt;if&lt;/code&gt;å‚æ•°çš„å€¼æ˜¯imgæ–‡ä»¶çš„pathï¼Œ&lt;code&gt;of&lt;/code&gt;å‚æ•°çš„å€¼æ˜¯ä¸Šä¸€æ­¥æ‰¾åˆ°çš„SD Cardçš„æ ‡è¯†ç¬¦ï¼Œä½†æ˜¯&lt;code&gt;disk2&lt;/code&gt;æ¢æˆäº†&lt;code&gt;rdisk2&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ sudo dd bs=1m if=/path/to/2016-09-23-raspbian-jessie-lite.img of=/dev/rdisk2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ•´ä¸ªè¿‡ç¨‹éœ€è¦å‡ åˆ†é’Ÿã€‚å®Œæ¯•åï¼Œç³»ç»Ÿå°±å®‰è£…å®Œæ¯•äº†ï¼Œæ’å…¥Raspberryï¼Œç³»ç»Ÿåˆå§‹è´¦æˆ·åå­—ä¸º&lt;code&gt;pi&lt;/code&gt;ï¼Œå¯†ç ä¸º&lt;code&gt;raspberry&lt;/code&gt;ï¼Œæèµ·ï¼&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¸‹è½½imgæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#ä¸‹è½½imgæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½imgæ–‡ä»¶&quot;&gt;&lt;/a&gt;ä¸‹è½½imgæ–‡ä»¶&lt;/h2&gt;&lt;p&gt;åˆ°[è¿™é‡Œ]ä¸‹è½½imgæ–‡ä»¶ï¼Œè®°å¾—ä¸‹è½½å®Œæˆåæ¯”å¯¹ä¸€ä¸‹æ–‡ä»¶çš„æ‘˜è¦ï¼Œç¡®ä¿æ‹¿åˆ°çš„æ–‡ä»¶æ²¡æœ‰æŸåï¼š&lt;/p&gt;
&lt;fi
    
    </summary>
    
      <category term="å…¶å®ƒ" scheme="http://blog.liushuaiko.be/categories/%E5%85%B6%E5%AE%83/"/>
    
    
      <category term="Raspberry" scheme="http://blog.liushuaiko.be/tags/Raspberry/"/>
    
  </entry>
  
  <entry>
    <title>NSNotificationé¿å‘æŒ‡å—</title>
    <link href="http://blog.liushuaiko.be/blog/2016/10/23/nsnotification-deadlock/"/>
    <id>http://blog.liushuaiko.be/blog/2016/10/23/nsnotification-deadlock/</id>
    <published>2016-10-23T08:53:39.000Z</published>
    <updated>2016-10-23T09:11:03.000Z</updated>
    
    <content type="html">&lt;p&gt;NSNotificationé¿å‘æŒ‡å—ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;é€šçŸ¥çš„å‘é€&quot;&gt;&lt;a href=&quot;#é€šçŸ¥çš„å‘é€&quot; class=&quot;headerlink&quot; title=&quot;é€šçŸ¥çš„å‘é€&quot;&gt;&lt;/a&gt;é€šçŸ¥çš„å‘é€&lt;/h2&gt;&lt;p&gt;ç›´æ¥çœ‹æ®µä»£ç ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; notificationName = &lt;span class=&quot;type&quot;&gt;NSNotification&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;Name&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;be.liushuaiko.test&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Register Observer: \(Thread.current)&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;NotificationCenter&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;.addObserver(&lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;, selector: #selector(notificationHandler), name: notificationName, object: &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;DispatchQueue&lt;/span&gt;.global().asyncAfter(deadline: &lt;span class=&quot;type&quot;&gt;DispatchTime&lt;/span&gt;.now() + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Post Notification: \(Thread.current)&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;NotificationCenter&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;.post(name: notificationName, object: &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Post Ended&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;notificationHandler&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;Thread&lt;/span&gt;.sleep(forTimeInterval: &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(#function + &lt;span class=&quot;string&quot;&gt;&quot;: \(Thread.current)&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨mainçº¿ç¨‹æ‰§è¡Œ&lt;code&gt;foo&lt;/code&gt;ï¼Œè¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Register Observer: &amp;lt;NSThread: 0x6080000717c0&amp;gt;&amp;#123;number = 1, name = main&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Post Notification: &amp;lt;NSThread: 0x61000007b8c0&amp;gt;&amp;#123;number = 3, name = (null)&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;notificationHandler(): &amp;lt;NSThread: 0x61000007b8c0&amp;gt;&amp;#123;number = 3, name = (null)&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Post Ended&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‡½æ•°ä¼Šå§‹ï¼Œåœ¨ä¸»çº¿ç¨‹æ³¨å†Œäº†ä¸€ä¸ªObserverï¼Œåœ¨æ”¶åˆ°notificationæ—¶ï¼Œæ‰§è¡Œ&lt;code&gt;notificationHandler&lt;/code&gt;æ–¹æ³•ã€‚1sååœ¨ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹post notificationã€‚è§‚å¯Ÿè¾“å‡ºï¼Œæœ‰å‡ ä¸ªç‚¹ï¼Œå„ä½å·¥å‹åœ¨ä½¿ç”¨Notificationæ—¶åŠ¡å¿…ç‰¢è®°ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘é€è€…åœ¨å“ªä¸ªçº¿ç¨‹&lt;strong&gt;å‘é€&lt;/strong&gt;çš„notificationï¼Œæ¥å—è€…æ³¨å†Œçš„selectorå°±åœ¨å“ªä¸ªçº¿ç¨‹è¢«&lt;strong&gt;æ‰§è¡Œ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å‘notificationæ˜¯ä¸€ä¸ª&lt;strong&gt;åŒæ­¥&lt;/strong&gt;çš„è¿‡ç¨‹ã€‚å‘é€çš„è¿‡ç¨‹ä¸­ï¼Œ&lt;code&gt;NotificationCenter&lt;/code&gt;æŸ¥è¯¢dispatch tableï¼Œå·²æ³¨å†Œçš„Observerçš„selectoré€ä¸ªè¢«æ‰§è¡Œï¼Œå½“å…¨éƒ¨æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œé€šçŸ¥æ‰å‘é€å®Œæ¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;å®‰å…¨éšæ‚£&quot;&gt;&lt;a href=&quot;#å®‰å…¨éšæ‚£&quot; class=&quot;headerlink&quot; title=&quot;å®‰å…¨éšæ‚£&quot;&gt;&lt;/a&gt;å®‰å…¨éšæ‚£&lt;/h2&gt;&lt;p&gt;å¦ä¸€ä¸ªæ·»åŠ Observerçš„æ–¹æ³•å…è®¸æ¥æ”¶è€…æŒ‡å®šä¸€ä¸ªblockå’Œä¸€ä¸ª&lt;code&gt;OperationQueue&lt;/code&gt;ï¼Œå½“æ”¶åˆ°é€šçŸ¥çš„æ—¶å€™ï¼Œblockä¼šè¢«addåˆ°è¿™ä¸ªqueueä¸Šæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;func addObserver(forName name: NSNotification.Name?,&lt;br&gt;          object obj: Any?,&lt;br&gt;           queue: OperationQueue?,&lt;br&gt;           using block: @escaping (Notification) -&amp;gt; Void) -&amp;gt; NSObjectProtocol&lt;/p&gt;
&lt;p&gt;ç”±äº&lt;code&gt;OperationQueue&lt;/code&gt;å¯¹ä½¿ç”¨è€…å±è”½äº†çº¿ç¨‹çš„æ¦‚å¿µï¼Œè¿™ä¸ªæ–¹æ³•ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¾¿åˆ©çš„åŒæ—¶ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ï¼Œä¹Ÿä¼šäº§ç”Ÿä¸¥é‡ä¸”éš¾äºè°ƒè¯•çš„é—®é¢˜â€”â€”çº¿ç¨‹æ­»é”ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;foo&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æ³¨å†Œä¸€ä¸ªanonymousçš„Observerï¼Œæä¾›ä¸€ä¸ªblock&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// æœŸå¾…æ”¶åˆ°é€šçŸ¥æ—¶ï¼Œè¿™ä¸ªblockè¢«addåˆ°main operation queueæ‰§è¡Œ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;NotificationCenter&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;.addObserver(forName: notificationName, object: &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, queue: &lt;span class=&quot;type&quot;&gt;OperationQueue&lt;/span&gt;.main) &amp;#123; &lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;This will never print: + \(Thread.current)&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åœ¨ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹å‘é€é€šçŸ¥&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ç”¨ä¸€ä¸ªsemaphoreï¼Œèµ·åˆ°join threadçš„ä½œç”¨ï¼Œé˜²æ­¢main threadè¿‡æ—©é€€å‡º&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; semaphore = &lt;span class=&quot;type&quot;&gt;DispatchSemaphore&lt;/span&gt;(value: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;DispatchQueue&lt;/span&gt;.global().async &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Post Notification: \(Thread.current)&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ERROR: å‘é€notificationçš„çº¿ç¨‹å¡æ­»åœ¨è¿™é‡Œ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// æœ¬çº¿ç¨‹ç­‰å¾…æ¯ä¸ªobserverå¤„ç†å®Œæ¯•&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;NotificationCenter&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;.post(name: notificationName, object: &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        semaphore.signal()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Post Ended&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    semaphore.wait() &lt;span class=&quot;comment&quot;&gt;// ERROR: main threadå¡æ­»åœ¨è¿™é‡Œ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;This will never print, neither&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¼€å§‹åœ¨main threadæ³¨å†Œäº†ä¸€ä¸ªåŒ¿åçš„Observerï¼Œåœ¨æ”¶åˆ°é€šçŸ¥æ—¶ï¼Œç»™å®šçš„blockä¼šè¢«addåˆ°main operation queueä¸Šæ‰§è¡Œã€‚main queueä¸€å®šæ˜¯åœ¨main threadæ‰§è¡Œçš„ã€‚ä¹‹åï¼Œåœ¨ä¸€ä¸ªbackground threadå¼‚æ­¥å‘é€é€šçŸ¥ã€‚ä»£ç ä¸­ä½¿ç”¨äº†ä¸€ä¸ªsemaphoreæ¥é˜²æ­¢main threadé€€å‡ºï¼Œæœ¬æ„æ˜¯è®©main threadç­‰å¾…background threadæ‰§è¡Œå®Œæˆåï¼ˆé€šçŸ¥å‘é€å®Œæ¯•ï¼‰æ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œå¦åˆ™å°±é˜»å¡åœ¨&lt;code&gt;semaphore.wait()&lt;/code&gt;å¤„ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹æ‰§è¡Œè¿‡ç¨‹ã€‚å…ˆçœ‹main threadï¼Œé¦–å…ˆæ³¨å†ŒObserverï¼Œæ²¡é—®é¢˜ï¼Œå¾€ä¸‹èµ°ï¼›æ¥ç€ç»™æŸbackground threadä¸€ä¸ªblockï¼Œè®©å…¶å¼‚æ­¥æ‰§è¡Œï¼Œæ³¨æ„main threadä¸ä¼šç­‰åœ¨è¿™é‡Œï¼Œæäº¤äº†blockåç«‹åˆ»å¾€ä¸‹èµ°ï¼Œåˆ°&lt;code&gt;semaphore.wait()&lt;/code&gt;ï¼Œç”±äºsemaphoreçš„èµ„æºæ•°ä¸º0ï¼Œåœ¨semaphoreæ”¶åˆ°signalï¼ˆVæ“ä½œï¼‰å‰ï¼Œmain threadéƒ½ä¼šå¡åœ¨è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆbackground threadå‘¢ï¼ŸNotification Centerå‘é€é€šçŸ¥ï¼ŒæŸ¥è‡ªå·±çš„dispatch tableï¼Œå‡†å¤‡åœ¨main threadä¸Šæ‰§è¡ŒObserveræ³¨å†Œçš„blockï¼Œä½†æ˜¯main threadå´ç”±äºå¡åœ¨&lt;code&gt;semaphore.wait()&lt;/code&gt;å¤„æ— æ³•æ‰§è¡Œè¯¥blockï¼Œè€Œbackground threadä¹Ÿå°±ç”±äºæ— æ³•å®Œæˆå‘é€é€šçŸ¥çš„è¿‡ç¨‹è€Œæ— æ³•å¯¹semaphoreå‘é€signalï¼Œä¹Ÿå¡æ­»äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªçº¿ç¨‹å› ä¸ºäº’ç›¸ç­‰å¾…å¯¹æ–¹æ‰§è¡Œå®Œæ¯•è€Œäº§ç”Ÿæ­»é”ã€‚è¿™ä¸€åˆ‡ï¼Œéƒ½æ˜¯å› ä¸ºå‘é€é€šçŸ¥æ˜¯ä¸€ä¸ªåŒæ­¥çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…æ‰§è¡Œ&lt;code&gt;foo&lt;/code&gt;ï¼Œä¼šå‘ç°ç¨‹åºç¨‹åºè¾“å‡ºäº†â€œPost Notificationâ€åï¼Œä¾¿æ¯«æ— ååº”ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Post Notification: &amp;lt;NSThread: 0x61800006dc00&amp;gt;&amp;#123;number = 3, name = (null)&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æŸ¥çœ‹æ­¤æ—¶çš„çº¿ç¨‹æ ˆï¼Œå‘ç°è·Ÿæˆ‘ä»¬åˆ†æçš„ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/NSNotification-deadlock.png&quot; alt=&quot;stack&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠŠä¸Šé¢æ³¨å†ŒObserveræ—¶æä¾›çš„operation queueæ”¹ä¸ºä¸€ä¸ªè‡ªå®šä¹‰çš„queueï¼Œå¦‚ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ª&lt;code&gt;OperationQueue()&lt;/code&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬å‘ç°ä¸€åˆ‡å›å½’æ­£å¸¸ï¼Œè¾“å‡ºå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Post Notification: &amp;lt;NSThread: 0x608000079280&amp;gt;&amp;#123;number = 3, name = (null)&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;This will never print: + &amp;lt;NSThread: 0x6080000791c0&amp;gt;&amp;#123;number = 4, name = (null)&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Post Ended&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;This will never print, neither&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢ä¾‹å­çš„ä»£ç è¿‡äºåˆ»æ„ï¼Œåœ¨å®é™…çš„ç”Ÿäº§å®è·µä¸­ï¼Œæ²¡äººä¼šå»é˜»å¡ä¸»çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œå¦‚&lt;a href=&quot;https://medium.com/@elfenlaid/the-good-the-bad-and-the-notification-275198fa2e86#.h1bnvclk7&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;é‡Œè¯´çš„ï¼Œå¯¹dispatch once tokençš„äº‰å¤ºä¹Ÿä¼šå¼•å‘ç±»ä¼¼çš„æ­»é”ã€‚å¦‚æœ‰å¿…è¦ï¼Œè¯·è¯»ä¸€ä¸‹ã€‚å› æ­¤åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼ŒåŠ¡å¿…å°å¿ƒã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;NSNotificationé¿å‘æŒ‡å—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
      <category term="NSNotification" scheme="http://blog.liushuaiko.be/tags/NSNotification/"/>
    
  </entry>
  
  <entry>
    <title>å‡ ä»¶æå‡å·¥ä½œæ•ˆç‡çš„åˆ©å™¨</title>
    <link href="http://blog.liushuaiko.be/blog/2016/08/18/alfred-vim-tmux/"/>
    <id>http://blog.liushuaiko.be/blog/2016/08/18/alfred-vim-tmux/</id>
    <published>2016-08-18T14:25:55.000Z</published>
    <updated>2016-08-18T14:31:49.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ€è¿‘ç”¨çš„å‡ ä»¶åˆ©å™¨ï¼Œå¤§å¤§æé«˜äº†æˆ‘çš„å·¥ä½œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Alfredçš„Clipboardå’ŒSnippets&quot;&gt;&lt;a href=&quot;#Alfredçš„Clipboardå’ŒSnippets&quot; class=&quot;headerlink&quot; title=&quot;Alfredçš„Clipboardå’ŒSnippets&quot;&gt;&lt;/a&gt;Alfredçš„Clipboardå’ŒSnippets&lt;/h2&gt;&lt;p&gt;Alfredåº”è¯¥ä»å¾ˆæ—©çš„ç‰ˆæœ¬å°±æœ‰è¿™äº›åŠŸèƒ½äº†ï¼Œè€Œæˆ‘å±…ç„¶ä¸Šå‘¨æ‰æŒæ¡ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ç»å¸¸è¢«æèµ·çš„searchå’Œworkflowå¤–ï¼ŒAlfredè¿˜å¯ä»¥å®ç°Text Expandçš„åŠŸèƒ½ï¼Œç§°ä¸ºã€Snippetã€ã€‚å³äº‹å…ˆå®šä¹‰å¥½ä¸€äº›Snippetå’Œå¯¹åº”çš„ç¼©å†™ï¼ŒAlfredä¼šå…¨å±€Observeä½ çš„è¾“å…¥ï¼ˆéœ€è¦ç»™Alfredè¾…åŠ©åŠŸèƒ½æ§åˆ¶ç”µè„‘çš„æƒé™ï¼‰ï¼Œå¦‚æœè¾“å…¥å‘½ä¸­äº†æŸä¸ªç¼©å†™è¯ï¼Œå®ƒä¼šç«‹åˆ»æŠŠç¼©å†™è¯æ›¿æ¢æˆå¯¹åº”çš„Snippetã€‚å¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/alfred_1.gif&quot; alt=&quot;alfred_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å…³é—­Observeï¼Œé‡‡ç”¨é€šè¿‡Hotkeyå”¤é†’AlfredæŸ¥æ‰¾çš„æ–¹å¼ï¼Œå¦‚ä¸‹å›¾ã€‚å¯åœ¨Alfred Preference -&amp;gt; Features -&amp;gt; Snippetsé‡Œè¿›è¡ŒHotkeyç­‰å…·ä½“è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/alfred_2.gif&quot; alt=&quot;alfred_2&quot;&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†è¿™ä¸ªåŠŸèƒ½å¤–ï¼ŒAlfredè¿˜å¯ä»¥ä¿å­˜ç³»ç»Ÿå‰ªè´´æ¿çš„è®°å½•ã€‚è¿™ä¸ªä¹Ÿå¾ˆå®ç”¨ï¼Œæˆ‘ç»å¸¸æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šåœ¨iTermé‡Œé¢å¤åˆ¶äº†ä¸€ä¸ªå•è¯ï¼Œç„¶ååˆ°AppCodeé‡Œå»Findï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œåˆè¦å»å…¶å®ƒåœ°æ–¹æŸ¥æ‰¾è¿™ä¸ªè¯ï¼ŒæŒ‰ä¸‹Cmd + væ—¶ï¼Œå‘ç°å‰ªè´´æ¿å·²ç„¶è¢«è¦†ç›–ã€‚æœ‰äº†Alfredï¼Œæœ€è¿‘ç²˜è´´äº†ä»€ä¹ˆï¼Œéšæ—¶è°ƒå‡ºï¼Œä¸€ç›®äº†ç„¶ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº›å±é™©ï¼Œå› ä¸ºç¨æœ‰ä¸æ…ï¼Œæ›¾ç»ç²˜è´´è¿‡çš„ç¾ç¾çš„ä¸œè¥¿éƒ½ä¼šè¢«ä¿å­˜èµ·æ¥çœ‹åˆ°ğŸ˜¬ï¼Œå¥½åœ¨å¯ä»¥é…ç½®å¿½ç•¥æ¥è‡ªæŸäº›æŒ‡å®šåº”ç”¨çš„å¤åˆ¶å†…å®¹ã€‚è¯¦ç»†å¯ä»¥åœ¨Alfred Preference -&amp;gt; Features -&amp;gt; Clipboardé‡Œè®¾ç½®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;AppCodeçš„Vim-Plugin&quot;&gt;&lt;a href=&quot;#AppCodeçš„Vim-Plugin&quot; class=&quot;headerlink&quot; title=&quot;AppCodeçš„Vim Plugin&quot;&gt;&lt;/a&gt;AppCodeçš„Vim Plugin&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªæ˜¯ä¹‹å‰Vimæ“ä½œä¸ç†Ÿç»ƒæ—¶ï¼Œè¢«æˆ‘è£…äº†å¸ï¼Œå¸äº†åˆè£…çš„ä¸€ä¸ªAppCodeæ’ä»¶ã€‚ä¸ä»…æ˜¯AppCodeï¼Œå…¶å®ƒJetBrainså®¶çš„IDEéƒ½å¯ä»¥å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/alfred_3.png&quot; alt=&quot;vim&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æŠŠå¿˜äº†çš„Vimå‘½ä»¤é‡æ–°æ¡äº†æ¡ï¼Œåˆè¶é—²æš‡æ—¶å­¦äº†äº›é«˜çº§Vimæ“ä½œæŠ€å·§ï¼Œå¼ºè¿«è‡ªå·±é€‚åº”Vim Modeä¸‹çš„AppCodeï¼Œå‘ç°å…¶å­¦ä¹ æ›²çº¿è·ŸåŒæ‹¼å¾ˆç±»ä¼¼ï¼Œä¸ç†Ÿç»ƒçš„æ—¶å€™ï¼Œçš„ç¡®æœ‰ç‚¹æ…¢æœ‰ç‚¹ç€æ€¥ï¼Œè¿™æ—¶åƒä¸‡åˆ«æ”¾å¼ƒï¼Œéšç€æ—¶é—´çš„ç§¯ç´¯ï¼Œä¼šè¶Šæ¥è¶Šhighã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸ä¼šå¿˜è®°é‚£ä¸ªä¸‹åˆï¼ŒåŒäº‹ä»¬æŒªåŠ¨ã€æ•²å‡»ç€é¼ æ ‡ï¼Œ è€Œæˆ‘ç†Ÿç»ƒåœ°ç§»åŠ¨ç€å…‰æ ‡ï¼Œå†é…åˆAppCodeçš„æ— æ•Œä»£ç ç¼–è¾‘ï¼Œå®ŒæˆæŸæ–¹æ³•æœ€åä¸€è¡Œä»£ç ï¼Œå³æ‰‹å°æŒ‡æ•²ä¸‹å›è½¦ï¼Œå½¢æˆçš„é‚£é“å®Œç¾çš„å¼§çº¿ã€‚&lt;/p&gt;
&lt;p&gt;BTWï¼Œä¸€ç¯‡ä¸å¯å¤šå¾—çš„å…¥é—¨Vimçš„å¥½æ–‡ï¼š[ç®€æ˜ Vim ç»ƒçº§æ”»ç•¥]ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ä»½å¥½çš„Tmuxé…ç½®æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#ä¸€ä»½å¥½çš„Tmuxé…ç½®æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ä»½å¥½çš„Tmuxé…ç½®æ–‡ä»¶&quot;&gt;&lt;/a&gt;ä¸€ä»½å¥½çš„Tmuxé…ç½®æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;æ›¾ç»æˆ‘ä½¿ç”¨iTermçš„ä¸€ä¸ªä¸»è¦åŸå› æ˜¯å®ƒå¯ä»¥æ–¹ä¾¿çš„æ¨ªç«–åˆ†å±ï¼Œç›´åˆ°æˆ‘å‘ç°äº†[tmux]ã€‚è¿™é‡Œä¸åštmuxçš„ä»‹ç»ã€‚ä¸€ä»½å¥½çš„tmux config fileæ›´æ˜¯èƒ½è®©ä½ å¦‚è™æ·»ç¿¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¯¹å¦‚ä½•é…ç½®tmuxè¿˜æ¯”è¾ƒç”Ÿç–ï¼Œä¸æ”¾å…ˆå»è¯»ä¸€è¯»[åˆ«äºº]çš„[é…ç½®æ–‡ä»¶]ï¼Œç®€å•åšä¸€äº›é…ç½®ï¼Œä½¿ç”¨ä¸€æ®µæ—¶é—´ï¼Œé€æ¸æˆä¸ºè€å¸æœºåï¼Œå†åšæ›´è¯¦ç»†ã€å…¨é¢ï¼Œç¬¦åˆè‡ªå·±ä½¿ç”¨ä¹ æƒ¯çš„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ç¢°å·§è·Ÿæˆ‘ä¸€æ ·æœ‰ä¸¤å°Macï¼Œä½¿ç”¨iCloud Driveæˆ–è€…å…¶å®ƒäº‘åŒæ­¥å¹³å°åŒæ­¥è¿™äº›æ‚ä¸ƒæ‚å…«çš„é…ç½®æ–‡ä»¶æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥iCloud Driveä¸ºä¾‹ï¼Œæ–°å»ºä¸€ä¸ªMacConfigæ–‡ä»¶å¤¹ï¼Œç”¨äºä¿å­˜éœ€è¦åŒæ­¥çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæŠŠtmuxçš„é…ç½®æ–‡ä»¶æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå‘½åä¸º&lt;code&gt;tmux.conf&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/alfred_4.png&quot; alt=&quot;tmux&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹ååœ¨ç”¨æˆ·ç›®å½•å»ºç«‹ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªé…ç½®æ–‡ä»¶çš„è½¯è¿æ¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ln -s ~/Library/Mobile\ Documents/com~apple~CloudDocs/MacConfig/tmux.conf .tmux.conf
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨å¦ä¸€å°Macä¸Šå»ºç«‹åŒæ ·çš„è½¯è¿æ¥ï¼Œå³å®ç°äº†åŒæ­¥ã€‚&lt;/p&gt;
&lt;p&gt;å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œç¥ç©å¾—å¼€å¿ƒã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ç”¨çš„å‡ ä»¶åˆ©å™¨ï¼Œå¤§å¤§æé«˜äº†æˆ‘çš„å·¥ä½œæ•ˆç‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·é›†" scheme="http://blog.liushuaiko.be/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="Alfred" scheme="http://blog.liushuaiko.be/tags/Alfred/"/>
    
      <category term="vim" scheme="http://blog.liushuaiko.be/tags/vim/"/>
    
      <category term="tmux" scheme="http://blog.liushuaiko.be/tags/tmux/"/>
    
  </entry>
  
  <entry>
    <title>ä¸Clangå…±èˆ â€”â€” __attribute__</title>
    <link href="http://blog.liushuaiko.be/blog/2016/08/03/clang-attribute/"/>
    <id>http://blog.liushuaiko.be/blog/2016/08/03/clang-attribute/</id>
    <published>2016-08-03T13:53:28.000Z</published>
    <updated>2016-08-03T13:59:17.000Z</updated>
    
    <content type="html">&lt;p&gt;__attribute__æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œç”¨äºåœ¨Cã€C++ã€Objective-Cä¸­ä¿®é¥°å˜é‡ã€å‡½æ•°ã€å‚æ•°ã€æ–¹æ³•ã€ç±»ç­‰ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;ä½¿ç”¨-attribute&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-attribute&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨__attribute__&quot;&gt;&lt;/a&gt;ä½¿ç”¨__attribute__&lt;/h2&gt;&lt;p&gt;åˆç†ä½¿ç”¨__attribute__æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»™ç¼–è¯‘å™¨æä¾›ä¸Šä¸‹æ–‡ï¼Œå¸®åŠ©ç¼–è¯‘å™¨åšä¼˜åŒ–ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æ”¶åˆ°æ˜¾è‘—çš„ä¼˜åŒ–æ•ˆæœ&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å™¨ä¼šæ ¹æ®__attribute__äº§ç”Ÿä¸€äº›ç¼–è¯‘è­¦å‘Šï¼Œä½¿ä»£ç æ›´è§„èŒƒ&lt;/li&gt;
&lt;li&gt;ç»™ä»£ç é˜…è¯»è€…æä¾›å¿…è¦çš„æ³¨è§£ï¼ŒåŠ©å…¶ç†è§£ä»£ç æ„å›¾&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ€»ä¹‹ï¼Œ__attribute__èµ·åˆ°äº†ç»™ç¼–è¯‘å™¨æä¾›ä¸Šä¸‹æ–‡çš„ä½œç”¨ã€‚ä»»ä½•å¯ä»¥ç»™ç¼–è¯‘å™¨æä¾›ä¸€äº›é¢å¤–çš„ä¿¡æ¯çš„æœºä¼šï¼Œéƒ½åº”è¯¥æŠŠæ¡ä½ã€‚ä½†æ˜¯åŠ¡å¿…è¦è®°ä½ï¼Œå½“ä¸ç¡®å®šæ˜¯å¦è¯¥æ·»åŠ __attribute__æˆ–è€…ä¸çŸ¥é“æ˜¯å¦ç”¨å¯¹äº†__attribute__æ—¶ï¼Œæœæ–­åˆ æ‰å§ï¼Œå› ä¸ºæä¾›äº†é”™è¯¯çš„ä¸Šä¸‹æ–‡ï¼Œè¿˜ä¸å¦‚ä¸æä¾›ï¼Œç”±æ­¤å¼•èµ·çš„é”™è¯¯é€šå¸¸å¾ˆéš¾è¢«å‘ç°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€äº›æ ¸å¿ƒçš„-attribute&quot;&gt;&lt;a href=&quot;#ä¸€äº›æ ¸å¿ƒçš„-attribute&quot; class=&quot;headerlink&quot; title=&quot;ä¸€äº›æ ¸å¿ƒçš„__attribute__&quot;&gt;&lt;/a&gt;ä¸€äº›æ ¸å¿ƒçš„__attribute__&lt;/h2&gt;&lt;p&gt;å¾ˆå¤šç¼–è¯‘å™¨å’Œå¹³å°éƒ½æ”¯æŒ__attribute__ï¼Œäº†è§£æ¯ä¸ªå¹³å°ä¸Šæ¯ç§æ¶æ„çš„æ¯ä¸ª__attribute__æŒ‡ä»¤çš„ROIå¤ªä½äº†ï¼Œæˆ‘ä»¬é€‰ä¸€äº›è¾ƒä¸ºå¸¸ç”¨çš„æ·»åŠ åˆ°å·¥å…·åŒ…é‡Œï¼Œå°±èƒ½äº‹åŠåŠŸå€ã€‚&lt;/p&gt;
&lt;h3 id=&quot;attribute-objc-requires-super&quot;&gt;&lt;a href=&quot;#attribute-objc-requires-super&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((objc_requires_super))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((objc_requires_super))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œå‘ç¼–è¯‘å™¨è¡¨æ˜ï¼Œå½“å­ç±»è¦†ç›–è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¿…é¡»è¦è°ƒç”¨superã€‚ä½†æ˜¯è¿™ä¸ªæŒ‡ä»¤ä¸åˆ¶çº¦è°ƒç”¨superçš„ä½ç½®ï¼Œç¼–è¯‘å™¨ä»…æ£€æŸ¥è°ƒç”¨ä¸å¦ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚åœ¨è¦†ç›–&lt;code&gt;dealloc&lt;/code&gt;æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€åè°ƒç”¨&lt;code&gt;[super dealloc]&lt;/code&gt;ï¼Œè¿™æ˜¯æ»¡è¶³requires superè¦æ±‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;Foundationé‡Œæä¾›äº†å®&lt;code&gt;NS_REQUIRES_SUPER&lt;/code&gt;ï¼Œè¯¦è§NSObjcRuntime.hã€‚&lt;/p&gt;
&lt;h3 id=&quot;attribute-unused&quot;&gt;&lt;a href=&quot;#attribute-unused&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((unused))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((unused))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªå˜é‡æˆ–å‡½æ•°ï¼Œè¡¨æ˜å˜é‡æˆ–å‡½æ•°å¯èƒ½æš‚æ—¶æ²¡ç”¨åˆ°ï¼Œä½†æ˜¯ä¸ºäº†ä»£ç çš„æ‰©å±•æ€§æˆ–è€…å…¶å®ƒåŸå› æ˜¯æœ‰ç”¨çš„ï¼Œè¯·æ±‚ç¼–è¯‘å™¨ä¸è¦äº§ç”Ÿç¼–è¯‘è­¦å‘Šã€‚&lt;/p&gt;
&lt;h3 id=&quot;attribute-sentinel&quot;&gt;&lt;a href=&quot;#attribute-sentinel&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((sentinel))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((sentinel))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;sentinelè¿™ä¸ªè‹±æ–‡å•è¯æ˜¯ã€Œå“¨å…µã€çš„æ„æ€ï¼Œå…¶ç”¨äºä¿®é¥°ä¸€ä¸ªæ¥æ”¶å¯å˜å‚æ•°çš„æ–¹æ³•æˆ–å‡½æ•°ï¼Œè¡¨è¾¾æ–¹æ³•æˆ–å‡½æ•°æœ€åä¸€ä¸ªå‚æ•°éœ€ä¸ºnilçš„è¯‰æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;BTWï¼Œå¯ä»¥ç”¨&lt;code&gt;__attribute__((sentinel(index))&lt;/code&gt;æ¥æ ‡æ˜éœ€è¦&lt;strong&gt;å€’æ•°&lt;/strong&gt;ç¬¬&lt;code&gt;index&lt;/code&gt;ä¸ªå‚æ•°ä¸ºnilã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­å‚è§&lt;code&gt;NSArray&lt;/code&gt;çš„&lt;code&gt;initWithObjects:&lt;/code&gt;æ–¹æ³•ï¼ŒFoundationé‡Œé¢æä¾›äº†å®&lt;code&gt;NS_REQUIRES_NIL_TERMINATION&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;attribute-const&quot;&gt;&lt;a href=&quot;#attribute-const&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((const))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((const))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªæ–¹æ³•æˆ–è€…å‡½æ•°ï¼Œè¡¨æ˜è¿™ä¸ªå‡½æ•°ä¸å»æ£€æµ‹å’Œä¿®æ”¹ä»»ä½•ä¸œè¥¿æˆ–çŠ¶æ€ï¼Œå®ƒçš„è¿”å›å€¼åªä¾èµ–å‡½æ•°çš„å‚æ•°ã€‚å‚æ•°æ˜¯å¼•ç”¨ä¼ é€’çš„å‡½æ•°åŠ¡å¿…ä¸è¦ä½¿ç”¨è¿™ä¸ªattributeï¼Œç±»ä¼¼ï¼Œå¦‚æœå‡½æ•°é‡Œé¢è°ƒç”¨äº†éconstçš„å‡½æ•°ï¼Œä¹Ÿç¦æ­¢ä½¿ç”¨è¿™ä¸ªattributeï¼Œæ³¨æ„è¿™é‡Œç”¨ã€Œç¦æ­¢ã€è¿™ä¸ªè¯ä¸å¤ªç¡®åˆ‡ï¼Œå¤§æ„æ˜¯è¿™ç±»å‡½æ•°å‹æ ¹å°±ä¸æ˜¯constçš„å‡½æ•°ï¼Œç”¨äº†å¿…ç„¶ä¼šå‡ºé”™ã€‚å¦å¤–å¦‚æœè¿™ä¸ªattributeç”¨åœ¨äº†ä¸€ä¸ªæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸Šï¼Œä¹Ÿæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚&lt;code&gt;int square(int n) __attribute__((const));&lt;/code&gt;ï¼Œè¿™ä¸ªæ±‚å¹³æ–¹çš„å‡½æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªconstå‡½æ•°ã€‚å®ƒçš„è¿”å›å€¼å°±åªè·Ÿå‚æ•°næœ‰å…³ç³»ï¼Œæ— éœ€æ£€æµ‹ä»€ä¹ˆï¼Œä¼ è¿‡æ¥6ï¼Œè¿”å›å€¼æ°¸è¿œæ˜¯å¸¸é‡36ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæŒ‡å®šäº†é«˜åº¦ä¼˜åŒ–çš„ç¼–è¯‘é€‰é¡¹ï¼Œé€šå¸¸ç¼–è¯‘å™¨ä¼šæŠŠconstå‡½æ•°è°ƒç”¨çš„å‚æ•°å’Œç»“æœç¼“å­˜èµ·æ¥ä»¥æé«˜æ€§èƒ½ã€‚è¿™ä¹Ÿæ˜¯è¿™ä¸ªattributeç”¨é”™ä¼šå¾ˆéš¾debugçš„åŸå› ï¼Œå› ä¸ºå¯èƒ½ç¼–è¯‘å™¨ä¸ä¼šåœ¨DEBUGæ¨¡å¼ä¸‹åšç¼–è¯‘ä¼˜åŒ–ï¼Œå¯¼è‡´å‡½æ•°çš„æ¯æ¬¡è°ƒç”¨æ˜¯æ­£ç¡®çš„ï¼Œè€Œåœ¨RELEASEæ¨¡å¼ä¸‹ï¼Œç»è¿‡ä¼˜åŒ–çš„ä»£ç æ‰§è¡Œæ—¶ï¼ŒæŠŠä¸€ä¸ªä¸æ˜¯constçš„å‡½æ•°çš„æ‰§è¡Œç»“æœç¼“å­˜èµ·æ¥ï¼Œå‡ºç°è¯¡å¼‚çš„bugï¼Œç”šè‡³éœ€è¦å»çœ‹æ±‡ç¼–ä»£ç æ‰èƒ½æ‰¾å‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦æœ‰&lt;code&gt;__attribute__((pure))&lt;/code&gt;ï¼Œæ¯”constæ¡ä»¶ç¨å¾®å®½æ¾ä¸€äº›ï¼Œæ ‡æ˜äº†å‡½æ•°é™¤äº†ä¾èµ–å…¶å‚æ•°å¤–ï¼Œè¿˜å¯ä»¥ä¾èµ–ä¸€äº›global/staticçš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èæ‰€æœ‰å•ä¾‹ç±»çš„&lt;code&gt;sharedInstance&lt;/code&gt;æ–¹æ³•éƒ½ä½¿ç”¨constæ³¨è§£ã€‚æ­¤å¤–ï¼Œå¦‚æœä¸€ä¸ªç±»çš„ç±»æ–¹æ³•ç»å¸¸è¢«è°ƒç”¨è€Œä¸”æ˜¯constæˆ–è€…pureï¼Œé‚£ä¹ˆä¸å¦¨æŠŠå®ƒç”¨çº¯Cå‡½æ•°å®ç°ï¼Œä¼šæœ‰ä¸é”™çš„æ€§èƒ½æå‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è·Ÿå†…å­˜ç®¡ç†ç›¸å…³çš„-attribute&quot;&gt;&lt;a href=&quot;#è·Ÿå†…å­˜ç®¡ç†ç›¸å…³çš„-attribute&quot; class=&quot;headerlink&quot; title=&quot;è·Ÿå†…å­˜ç®¡ç†ç›¸å…³çš„__attribute__&quot;&gt;&lt;/a&gt;è·Ÿå†…å­˜ç®¡ç†ç›¸å…³çš„__attribute__&lt;/h2&gt;&lt;h3 id=&quot;attribute-objc-precise-lifetime&quot;&gt;&lt;a href=&quot;#attribute-objc-precise-lifetime&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((objc_precise_lifetime))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((objc_precise_lifetime))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨è¿™ä¸ªattributeä¿®é¥°ä¸€ä¸ªå˜é‡ï¼Œé˜²æ­¢ARCè¿‡æ—©é‡Šæ”¾å®ƒã€‚å³å‘ç¼–è¯‘å™¨è¡¨æ˜ï¼Œå˜é‡åœ¨å®ƒæ‰€å¤„çš„æ•´ä¸ªä½œç”¨åŸŸå†…ï¼Œéƒ½åº”è¢«è®¤ä¸ºæ˜¯æœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;Foundationé‡Œæä¾›äº†å®&lt;code&gt;NS_VALID_UNTIL_END_OF_SCOPE&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;- (&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)foo &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    NS_VALID_UNTIL_END_OF_SCOPE MyObject *obj = [[MyObject alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    NSValue *value = [NSValue valueWithPointer:obj];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å¦‚æœæ²¡æœ‰å‰é¢çš„ä¿®é¥°ç¬¦ï¼Œ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// objå¯èƒ½åœ¨é«˜åº¦ä¼˜åŒ–ç¼–è¯‘è¿‡çš„ç¨‹åºé‡Œï¼Œè¢«æ”¾åœ¨NSValueé‡Œä¹‹åå°±ä¼šè¢«ARCé‡Šæ”¾äº†&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ä¸‹é¢å†å»è®¿é—®objå°±ä¼šcrash&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    MyObject *objAgain = [value pointerValue];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    objAgain.bar();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;attribute-objc-returns-inner-pointer&quot;&gt;&lt;a href=&quot;#attribute-objc-returns-inner-pointer&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((objc_returns_inner_pointer))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((objc_returns_inner_pointer))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œé˜²æ­¢ARCè¿‡æ—©é‡Šæ”¾è¿™ä¸ªæ–¹æ³•çš„æ‰€æœ‰è€…ã€‚Foundationé‡Œæä¾›äº†å®&lt;code&gt;NS_RETURNS_INNER_POINTER&lt;/code&gt;ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ ‡æ˜äº†è¿™ä¸ªæ–¹æ³•è¿”å›äº†ä¸€ä¸ªæŒ‡å‘æ–¹æ³•æ‰€æœ‰è€…è‡ªèº«æˆ–å…¶å†…éƒ¨å†…å­˜çš„æŒ‡é’ˆï¼Œæœ‰ç‚¹ç»•ï¼Œä¾‹å­è§&lt;code&gt;NSMutableData&lt;/code&gt;é‡Œçš„&lt;code&gt;mutableBytes&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸ªå…·ä½“çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    NSMutableData *buffer = [[NSMutableData alloc] initWithLength:&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// mutableBytesè¿”å›äº†ä¸€ä¸ªæŒ‡å‘bufferå†…éƒ¨å†…å­˜çš„æŒ‡é’ˆ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt;* cBuffer = buffer.mutableBytes;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å¦‚æœæ²¡æœ‰NS_RETURNS_INNER_POINTERä¿®é¥°&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ°æ­¤ä¸ºæ­¢ARCå¯èƒ½é”€æ¯buffer&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// é‚£ä¹ˆåç»­å¯¹cBufferçš„æ“ä½œå¯èƒ½ä¼šå¯¼è‡´crash&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;memcpy&lt;/span&gt;(cBuffer, &lt;span class=&quot;string&quot;&gt;&quot;1234567&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;attribute-ns-returns-retained&quot;&gt;&lt;a href=&quot;#attribute-ns-returns-retained&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((ns_returns_retained))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((ns_returns_retained))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;åœ¨Objective-Cé‡Œï¼Œå¾ˆå¤šæ–¹æ³•çš„å‘½åéƒ½æ˜¯æœ‰çº¦å®šçš„å«ä¹‰çš„ã€‚æ¯”å¦‚ä»¥&lt;code&gt;alloc&lt;/code&gt;ã€&lt;code&gt;new&lt;/code&gt;ã€&lt;code&gt;copy&lt;/code&gt;ã€&lt;code&gt;mutableCopy&lt;/code&gt;å¼€å¤´çš„æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªretain countä¸º1çš„å¯¹è±¡ã€‚å¯¹äºé‚£äº›æœªéµå®ˆè¿™äº›çº¦å®šï¼Œå´åšäº†ç±»ä¼¼æ“ä½œçš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;__attribute__((ns_returns_retained))&lt;/code&gt;æ¥æ ‡æ˜ï¼Œä½†å¦‚æœæ–¹æ³•éµå®ˆäº†å‘½åçº¦å®šï¼Œå°±ä¸å¿…å†ä¿®é¥°ã€‚&lt;/p&gt;
&lt;p&gt;å¦è§ï¼š&lt;br&gt;&lt;code&gt;__attribute__((objc_method_family(X)))&lt;/code&gt;&lt;br&gt;&lt;code&gt;__attribute__((ns_returns_not_retained))&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;attribute-ns-consumes-self&quot;&gt;&lt;a href=&quot;#attribute-ns-consumes-self&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((ns_consumes_self))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((ns_consumes_self))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œè¡¨æ˜è¿™ä¸ªæ–¹æ³•&lt;strong&gt;å¯èƒ½&lt;/strong&gt;ä¼šæ›´æŠŠæ¶ˆæ¯æ¥å—è€…æ¢æˆå¦ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä½¿æ¶ˆæ¯æ¥æ”¶è€…çš„retain countä¸º0ã€‚ä¾‹å­è§&lt;code&gt;NSObject&lt;/code&gt;é‡Œçš„&lt;code&gt;awakeAfterUsingCoder:&lt;/code&gt;æ–¹æ³•ï¼›å¦‚æœ‰å¿…è¦ï¼Œè¯·ç¨å¾®è¯»ä¸€ä¸‹æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;Foundationé‡Œé¢æä¾›äº†è¿™ä¸ªattributeçš„å®&lt;code&gt;NS_REPLACES_RECEIVER&lt;/code&gt;ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; NS_REPLACES_RECEIVER __attribute__((ns_consumes_self)) NS_RETURNS_RETAINED&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;attribute-objc-arc-weak-reference-unavailable&quot;&gt;&lt;a href=&quot;#attribute-objc-arc-weak-reference-unavailable&quot; class=&quot;headerlink&quot; title=&quot;__attribute__((objc_arc_weak_reference_unavailable))&quot;&gt;&lt;/a&gt;&lt;code&gt;__attribute__((objc_arc_weak_reference_unavailable))&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;ç”¨äºä¿®é¥°ä¸€ä¸ªç±»ï¼Œæ ‡æ˜è¿™ä¸ªç±»ä¸æ”¯æŒå¯¹å®ƒå®ä¾‹çš„å¼±å¼•ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…¶å®ƒæœ‰ç”¨çš„-attribute&quot;&gt;&lt;a href=&quot;#å…¶å®ƒæœ‰ç”¨çš„-attribute&quot; class=&quot;headerlink&quot; title=&quot;å…¶å®ƒæœ‰ç”¨çš„__attribute__&quot;&gt;&lt;/a&gt;å…¶å®ƒæœ‰ç”¨çš„__attribute__&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__attribute__((constructor(â€¦)))&lt;/code&gt;å’Œ&lt;code&gt;__attribute__((destructor(â€¦)))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__attribute__((enable_if(â€¦)))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__attribute__((cleanup))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡çŒ®&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.twitter.com/2014/attribute-directives-in-objective-c&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;__attribute__ directives in Objective-C&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nshipster.com/__attribute__/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;__attribute__&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://clang.llvm.org/docs/AttributeReference.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Clang Attribute Doc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Attribute-Syntax.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GCC Attribute doc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;__attribute__æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œç”¨äºåœ¨Cã€C++ã€Objective-Cä¸­ä¿®é¥°å˜é‡ã€å‡½æ•°ã€å‚æ•°ã€æ–¹æ³•ã€ç±»ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç¨‹åºè®¾è®¡è¯­è¨€" scheme="http://blog.liushuaiko.be/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="Clang" scheme="http://blog.liushuaiko.be/tags/Clang/"/>
    
      <category term="attribute" scheme="http://blog.liushuaiko.be/tags/attribute/"/>
    
  </entry>
  
  <entry>
    <title>KBtalKing Race IIæŒ‰é”®ç¼–ç¨‹æ‰‹è®°</title>
    <link href="http://blog.liushuaiko.be/blog/2016/07/24/kbtalking-programing/"/>
    <id>http://blog.liushuaiko.be/blog/2016/07/24/kbtalking-programing/</id>
    <published>2016-07-24T14:51:43.000Z</published>
    <updated>2016-07-24T14:55:51.000Z</updated>
    
    <content type="html">&lt;p&gt;å…¥æ‰‹è¿™æ¬¾çº¢è½´æœºæ¢°é”®ç›˜å·²ç»ä¸€å¹´åŠå¤šäº†ï¼Œç›´åˆ°æœ€è¿‘æ‰æŒæ¡äº†å®ƒçš„è‡ªå®šä¹‰æŒ‰é”®ç¼–ç¨‹æŠ€å·§ã€‚å‰å‡ å¤©å¾—çŸ¥ï¼Œè¿™ä¸ªé”®ç›˜å±…ç„¶åœäº§äº†ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/IMG_0009.JPG&quot; alt=&quot;keyboard&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;æŒ‰é”®ç¼–ç¨‹&quot;&gt;&lt;a href=&quot;#æŒ‰é”®ç¼–ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;æŒ‰é”®ç¼–ç¨‹&quot;&gt;&lt;/a&gt;æŒ‰é”®ç¼–ç¨‹&lt;/h2&gt;&lt;p&gt;æ‰€è°“æŒ‰é”®ç¼–ç¨‹ï¼Œå°±æ˜¯è®©ä¸€ä¸ªæŒ‰é”®åœ¨ä¸åŠŸèƒ½é”®&lt;code&gt;Pn&lt;/code&gt;ä¸€èµ·æŒ‰ä¸‹æ—¶ï¼Œå“åº”ä¸ºä¸€äº›æŒ‰é”®çš„ç»„åˆã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒæŠŠæˆ‘ä»¬ç»å¸¸éœ€è¦è¾“å…¥çš„æ–‡å­—å†…å®¹ç®€åŒ–ä¸ºä¸€æ¬¡æŒ‰é”®å³å¯è¾“å…¥å®Œæˆï¼Œå¤§å¤§æé«˜äº†å·¥ä½œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äººæåˆ°ä¸ºä»€ä¹ˆä¸ä½¿ç”¨è¾“å…¥æ³•çš„è‡ªå®šä¹‰çŸ­è¯­ï¼Ÿå¥½å§ï¼Œè¾“å…¥æ³•è‡ªå®šä¹‰çŸ­è¯­çš„å‰ææ˜¯â€œè¾“å…¥æ³•â€ï¼ŒæŒ‰é”®ç¼–ç¨‹åªéœ€è¦é”®ç›˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ­¥éª¤&quot;&gt;&lt;a href=&quot;#æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;æ­¥éª¤&quot;&gt;&lt;/a&gt;æ­¥éª¤&lt;/h2&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æƒ³è¾¾åˆ°ï¼ŒæŒ‰&lt;code&gt;Pn + P&lt;/code&gt;ï¼Œå“åº”ä¸º&lt;code&gt;ggpull&lt;/code&gt;çš„ç›®çš„ï¼Œé‚£ä¹ˆæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‰&lt;code&gt;Fn + å³ä¾§Ctrl&lt;/code&gt;ï¼Œè¿›å…¥ç¼–ç¨‹æ¨¡å¼ï¼Œæ­¤æ—¶é”®ç›˜æŒ‰é”®ç¯ç†„ç­ï¼ŒPnç¯é—ªçƒ&lt;/li&gt;
&lt;li&gt;æŒ‰&lt;code&gt;P&lt;/code&gt;ï¼Œæ­¤æ—¶ï¼ŒPnç¯å¸¸äº®&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡æŒ‰ä¸‹&lt;code&gt;G&lt;/code&gt;ã€&lt;code&gt;G&lt;/code&gt;ã€&lt;code&gt;P&lt;/code&gt;ã€&lt;code&gt;U&lt;/code&gt;ã€&lt;code&gt;L&lt;/code&gt;ã€&lt;code&gt;L&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŒ‰&lt;code&gt;Fn&lt;/code&gt;ï¼Œç»“æŸç¼–ç¨‹ï¼ŒPnç¯é—ªçƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœæƒ³ç»§ç»­ç»™å…¶å®ƒæŒ‰é”®ç¼–ç¨‹ï¼Œé‡å¤2-4å³å¯ï¼Œå¦åˆ™æŒ‰&lt;code&gt;Fn + å³ä¾§Ctrl&lt;/code&gt;ï¼ŒPnç¯ç†„ç­ï¼Œç¼–ç¨‹ç»“æŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æµ‹è¯•ä¸€ä¸‹ï¼ŒæŒ‰ä½&lt;code&gt;Pn&lt;/code&gt;ï¼ŒåŒæ—¶æŒ‰ä¸‹&lt;code&gt;P&lt;/code&gt;ï¼Œ&lt;code&gt;ggpull&lt;/code&gt;åœ¨å±å¹•ä¸Šå›æ˜¾äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç»“è¯­&quot;&gt;&lt;a href=&quot;#ç»“è¯­&quot; class=&quot;headerlink&quot; title=&quot;ç»“è¯­&quot;&gt;&lt;/a&gt;ç»“è¯­&lt;/h2&gt;&lt;p&gt;æˆ‘ä½¿ç”¨çš„æ˜¯zshä½œä¸ºç»ˆç«¯ï¼Œoh-my-zshä½œä¸ºé…ç½®ï¼Œåœ¨ç»ˆç«¯è¾“å…¥&lt;code&gt;zsh_stats&lt;/code&gt;ï¼Œå¯ä»¥åˆ—å‡ºæœ€å¸¸è¾“å…¥çš„20ä¸ªå‘½ä»¤ï¼Œé€‰æ‹©ä¸€äº›ä½¿ç”¨ä¸Šè¿°æ–¹å¼ç®€åŒ–è¾“å…¥å§ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å…¥æ‰‹è¿™æ¬¾çº¢è½´æœºæ¢°é”®ç›˜å·²ç»ä¸€å¹´åŠå¤šäº†ï¼Œç›´åˆ°æœ€è¿‘æ‰æŒæ¡äº†å®ƒçš„è‡ªå®šä¹‰æŒ‰é”®ç¼–ç¨‹æŠ€å·§ã€‚å‰å‡ å¤©å¾—çŸ¥ï¼Œè¿™ä¸ªé”®ç›˜å±…ç„¶åœäº§äº†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·é›†" scheme="http://blog.liushuaiko.be/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="KBtalKing" scheme="http://blog.liushuaiko.be/tags/KBtalKing/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¸­Optionalçš„mapå’ŒflatMap</title>
    <link href="http://blog.liushuaiko.be/blog/2016/07/13/swift-optional-map/"/>
    <id>http://blog.liushuaiko.be/blog/2016/07/13/swift-optional-map/</id>
    <published>2016-07-13T14:31:57.000Z</published>
    <updated>2016-07-13T14:36:37.000Z</updated>
    
    <content type="html">&lt;p&gt;ç”¨è¿‡Swiftçš„è¯»è€…æƒ³å¿…å¯¹&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;flatMap&lt;/code&gt;ä¸é™Œç”Ÿï¼Œå®ƒä»¬å®šä¹‰åœ¨&lt;code&gt;SequenceType&lt;/code&gt;åè®®åŠå…¶extensionä¸­ï¼Œè®²å®ƒä»¬ç”¨æ³•çš„æ–‡ç« ä¸€å¤§å †ï¼Œæˆ‘å°±ä¸æ‹¾äººç‰™æ…§äº†ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ä½†æ˜¯ä¸çŸ¥è¯»è€…æ˜¯å¦çŸ¥é“ï¼ŒSwiftä¸­çš„Optionalç±»å‹ï¼Œä¹Ÿæœ‰&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;flatMap&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆçœ‹è¿™æ ·çš„åœºæ™¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; avatarURL: &lt;span class=&quot;type&quot;&gt;String&lt;/span&gt;? = &lt;span class=&quot;string&quot;&gt;&quot;http://blog.liushuaiko.be/images/avatar.PNG&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸å¦¨å‡è®¾&lt;code&gt;avatarURL&lt;/code&gt;çš„æ¥æºä»¥åŠæ˜¯å¦æœ‰å€¼æˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ª&lt;code&gt;Optional&amp;lt;String&amp;gt;&lt;/code&gt;ç±»å‹ã€‚åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ç³»åˆ—çš„åˆ¤æ–­èµ‹å€¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; _avatarURL = avatarURL &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; url = &lt;span class=&quot;type&quot;&gt;NSURL&lt;/span&gt;(string: _avatarURL) &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(url.absoluteString)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·çš„åœºæ™¯é€šå¸¸åœ¨è§£æç½‘ç»œè¯·æ±‚è¿”å›çš„JSONæ—¶å¾ˆå¸¸è§ï¼Œä¸çŸ¥ä¸è§‰å°±å‡ºç°äº†æ‰€è°“çš„ã€Œå¤§æ‹¬å·é˜¶æ¢¯ã€ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç”¨Optionalç±»å‹ä¸­å®šä¹‰çš„&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;flatMap&lt;/code&gt;æ¥é¿å…è¿™ç§æƒ…å†µï¼Œå…ˆçœ‹ä¸‹ç”¨äº†ä¹‹åä¼šå˜æˆä»€ä¹ˆæ ·å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;avatarURL.flatMap &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;NSURL&lt;/span&gt;(string: $&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;.&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;($&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;.absoluteString)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ‰“å¼€&lt;code&gt;Optional&lt;/code&gt;çš„å®šä¹‰ï¼Œ&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;flatMap&lt;/code&gt;ä¸€è§ˆæ— ä½™ï¼Œä½ åº”è¯¥é¡ºä¾¿å‘ç°ï¼ŒOptionalåœ¨Swifté‡Œæ˜¯ä¸€ä¸ªenumã€‚&lt;/p&gt;
&lt;p&gt;å»æ‰&lt;code&gt;@noescape&lt;/code&gt;å’Œ&lt;code&gt;throws&lt;/code&gt;ï¼Œå®ƒä»¬çš„åŸå‹æ›´åŠ æ¸…æ™°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;map&lt;/span&gt;&amp;lt;U&amp;gt;&lt;span class=&quot;params&quot;&gt;(f: Wrapped -&amp;gt; U)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;U&lt;/span&gt;?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;flatMap&lt;/span&gt;&amp;lt;U&amp;gt;&lt;span class=&quot;params&quot;&gt;(f: Wrapped -&amp;gt; U?)&lt;/span&gt;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;type&quot;&gt;U&lt;/span&gt;?&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨è¿™ä¸¤ä¸ªæ³›å‹å‡½æ•°ä¸­ï¼Œ&lt;code&gt;Wrapped&lt;/code&gt;æ˜¯Optionalçš„æ³›å‹å‚æ•°ï¼Œå³OptionalåŒ…è£¹çš„ç±»å‹ã€‚ä¸¤ä¸ªå‡½æ•°å”¯ä¸€çš„ä¸åŒæ˜¯æ¥æ”¶çš„å‚æ•°ã€Œå‡½æ•°çš„è¿”å›å€¼ã€ä¸åŒï¼Œä¸€ä¸ªæœŸå¾…å‡½æ•°è¿”å›&lt;code&gt;U&lt;/code&gt;ï¼Œå¦ä¸€ä¸ªæœŸå¾…å‡½æ•°è¿”å›&lt;code&gt;U?&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªå‡½æ•°åœ¨è¡¨ç°ä¸Šæ˜¯ç±»ä¼¼çš„ï¼Œå¦‚æœå¯é€‰ç±»å‹æœ‰å€¼ï¼ˆ!= nilï¼‰ï¼Œåˆ™è¿”å›&lt;code&gt;f(Wrapped Value)&lt;/code&gt;ï¼Œå¦åˆ™ç›´æ¥è¿”å›nilã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸éš¾ç†è§£å‰é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; url:&lt;span class=&quot;type&quot;&gt;NSURL&lt;/span&gt;? = avatarURL.flatMap &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;NSURL&lt;/span&gt;(string: $&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// NSURL? ç›¸å½“äº U?&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; nothing:&lt;span class=&quot;type&quot;&gt;Optional&lt;/span&gt; = url.&lt;span class=&quot;built_in&quot;&gt;map&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;($&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;.absoluteString) &lt;span class=&quot;comment&quot;&gt;// ä»€ä¹ˆéƒ½ä¸è¿”å›ï¼Œå› æ­¤è¿™ä¸ªmapè¿”å›ä¸€ä¸ªä»€ä¹ˆéƒ½ä¸åŒ…è£¹çš„Optional&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ç”¨è¿‡Swiftçš„è¯»è€…æƒ³å¿…å¯¹&lt;code&gt;map&lt;/code&gt;å’Œ&lt;code&gt;flatMap&lt;/code&gt;ä¸é™Œç”Ÿï¼Œå®ƒä»¬å®šä¹‰åœ¨&lt;code&gt;SequenceType&lt;/code&gt;åè®®åŠå…¶extensionä¸­ï¼Œè®²å®ƒä»¬ç”¨æ³•çš„æ–‡ç« ä¸€å¤§å †ï¼Œæˆ‘å°±ä¸æ‹¾äººç‰™æ…§äº†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç¨‹åºè®¾è®¡è¯­è¨€" scheme="http://blog.liushuaiko.be/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="Swift" scheme="http://blog.liushuaiko.be/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>é«˜çº§Auto Layoutç¬”è®°</title>
    <link href="http://blog.liushuaiko.be/blog/2016/07/09/advanced-autolayout/"/>
    <id>http://blog.liushuaiko.be/blog/2016/07/09/advanced-autolayout/</id>
    <published>2016-07-09T06:44:50.000Z</published>
    <updated>2016-07-13T14:38:02.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ¬æ–‡æ˜¯objc.ioä¸­ã€ŒAdvanced Auto Layout Toolboxã€çš„å­¦ä¹ ç¬”è®°ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;Auto Layoutï¼Œæƒ³è¯´çˆ±ä½ ä¸å®¹æ˜“ã€‚&lt;/p&gt;
&lt;h3 id=&quot;1-å¸ƒå±€è¿‡ç¨‹&quot;&gt;&lt;a href=&quot;#1-å¸ƒå±€è¿‡ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;1. å¸ƒå±€è¿‡ç¨‹&quot;&gt;&lt;/a&gt;1. å¸ƒå±€è¿‡ç¨‹&lt;/h3&gt;&lt;p&gt;åœ¨ä½¿ç”¨äº†Auto Layoutæƒ…å†µä¸‹ï¼ŒViewæ˜¾ç¤ºåˆ°å±å¹•ä¸Šåˆ†ä¸º3ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;p&gt;çº¦æŸè®¡ç®—ï¼šå‘ç”Ÿè‡ªå­View-&amp;gt;çˆ¶Viewã€‚é€šè¿‡æ˜¾å¼è°ƒç”¨&lt;code&gt;setNeedsUpdateConstraints&lt;/code&gt;æ¥è§¦å‘è¿™ä¸ªè¿‡ç¨‹ï¼Œå®é™…ä¸Šæ›´æ”¹çº¦æŸä¼šè‡ªåŠ¨è§¦å‘è¿™ä¸ªè¿‡ç¨‹ã€‚åœ¨è‡ªå®šä¹‰Viewä¸­ï¼Œå¯ä»¥è¦†ç›–&lt;code&gt;updateConstraints&lt;/code&gt;æ¥æ·»åŠ æˆ–å˜æ›´çº¦æŸã€‚&lt;br&gt;å¸ƒå±€ï¼šå‘ç”Ÿè‡ªçˆ¶View-&amp;gt;å­Viewã€‚å°†1ä¸­è®¡ç®—çš„ç»“æœï¼Œåº”ç”¨åˆ°Viewçš„frameä¸Šã€‚é€šè¿‡æ˜¾å¼è°ƒç”¨&lt;code&gt;setNeedsLayout&lt;/code&gt;æ¥è§¦å‘è¿™ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªå‡½æ•°å¾ˆå»‰ä»·ï¼Œå› ä¸ºæ‰€æœ‰çš„å¸ƒå±€è¯·æ±‚éƒ½ä¼šåˆå¹¶æˆä¸€ä¸ªlayoutè¿‡ç¨‹å»åšã€‚å½“ç„¶ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;layoutIfNeeded&lt;/code&gt;æ¥è¿«ä½¿ç³»ç»Ÿç«‹åˆ»æ›´æ–°å¸ƒå±€ã€‚åœ¨è‡ªå®šä¹‰Viewä¸­ï¼Œå¯ä»¥é€šè¿‡è¦†ç›–&lt;code&gt;layoutSubviews&lt;/code&gt;æ–¹æ³•æ¥hookè¿™ä¸ªè¿‡ç¨‹ã€‚&lt;br&gt;å±•ç¤ºï¼šè¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯å¦ä½¿ç”¨äº†Auto Layoutæ— å…³ã€‚å‘ç”Ÿè‡ªçˆ¶View-&amp;gt;å­Viewã€‚é€šè¿‡æ˜¾å¼è°ƒç”¨&lt;code&gt;setNeedsDisplay&lt;/code&gt;æ¥è§¦å‘è¿™ä¸ªè¿‡ç¨‹ï¼Œè§†å›¾çš„ç»˜åˆ¶è¿‡ç¨‹ä¹Ÿä¼šè¢«åˆå¹¶ã€‚ç±»ä¼¼åœ°ï¼Œå¯ä»¥è¦†ç›–&lt;code&gt;drawRect:&lt;/code&gt;æ¥hookè¿™ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä¸‰ä¸ªé˜¶æ®µæ˜¯ä¾æ¬¡å‘ç”Ÿçš„ï¼Œæ¯ä¸€æ­¥éƒ½ä¼šä¾èµ–å®ƒçš„å‰ä¸€æ­¥ã€‚è¦æ³¨æ„ï¼Œä»¥ä¸Šä¸‰ä¸ªé˜¶æ®µè¿™æ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚å¸ƒå±€é˜¶æ®µå¯èƒ½è§¦å‘äº†å¦ä¸€ä¸ªçº¦æŸè®¡ç®—çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹åˆè§¦å‘äº†æ–°çš„å¸ƒå±€è¿‡ç¨‹ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;2-Intrinsic-Content-Size&quot;&gt;&lt;a href=&quot;#2-Intrinsic-Content-Size&quot; class=&quot;headerlink&quot; title=&quot;2. Intrinsic Content Size&quot;&gt;&lt;/a&gt;2. Intrinsic Content Size&lt;/h3&gt;&lt;p&gt;Intrinsicè¿™ä¸ªè¯çš„æ„æ€ï¼Œã€Œæœ¬è´¨çš„ã€å›ºæœ‰çš„ã€ã€‚ä¸€ä¸ªViewçš„Intrinsic Content Sizeæ„æŒ‡è¿™ä¸ªViewæƒ³è¦èˆ’èˆ’æœæœåœ°æ˜¾ç¤ºå‡ºæ¥ï¼Œéœ€è¦å¤šå¤§çš„sizeã€‚å¯¹äºä¸€ä¸ª&lt;code&gt;numberOfLines&lt;/code&gt;ä¸º0çš„Labelæ¥è¯´ï¼Œå®ƒçš„&lt;code&gt;preferredMaxLayoutWidth&lt;/code&gt;ç¡®å®šã€fontç¡®å®šï¼Œåˆ™å®ƒçš„&lt;code&gt;intrinsicContentSize&lt;/code&gt;å°±å®šä¸‹æ¥äº†ã€‚ä¸æ˜¯æ‰€æœ‰çš„Viewéƒ½æœ‰&lt;code&gt;intrinsicContentSize&lt;/code&gt;ï¼Œåœ¨è‡ªå®šä¹‰çš„Viewä¸­ï¼Œå¯ä»¥è¦†ç›–&lt;code&gt;intrinsicContentSize&lt;/code&gt;æ–¹æ³•æ¥è¿”å›Intrinsic Content Sizeï¼Œå¹¶å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;invalidateIntrinsicContentSize&lt;/code&gt;æ¥é€šçŸ¥å¸ƒå±€ç³»ç»Ÿåœ¨ä¸‹ä¸€ä¸ªå¸ƒå±€è¿‡ç¨‹é‡‡ç”¨æ–°çš„Intrinsic Content Sizeã€‚&lt;/p&gt;
&lt;h3 id=&quot;3-Compression-Resistance-å’Œ-Content-Hugging&quot;&gt;&lt;a href=&quot;#3-Compression-Resistance-å’Œ-Content-Hugging&quot; class=&quot;headerlink&quot; title=&quot;3. Compression Resistance å’Œ Content Hugging&quot;&gt;&lt;/a&gt;3. Compression Resistance å’Œ Content Hugging&lt;/h3&gt;&lt;p&gt;é¦–å…ˆæ˜ç¡®ï¼šè¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯è®¨è®ºçš„å‰ææ˜¯Viewåœ¨ç›¸åº”çš„ç»´åº¦æœ‰Intrinsic Content Sizeã€‚å®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªå±æ€§å’ŒIntrinsic Content Sizeéƒ½æ˜¯è¢«ç¿»è¯‘æˆçº¦æŸæ¥å®ç°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼ˆè¯·åŠ¡å¿…å¤šè¯»å‡ éè¿™ä¸ªä¾‹å­ï¼‰ï¼šå‡è®¾ä¸€ä¸ªLabelçš„Intrinsic Content Sizeæ˜¯{100, 30}ï¼Œå®ƒåœ¨æ°´å¹³å’Œç«–ç›´æ–¹å‘ä¸Šçš„Compression Resistanceä¼˜å…ˆçº§æ˜¯750ï¼Œåœ¨æ°´å¹³å’Œç«–ç›´æ–¹å‘çš„Content Huggingä¼˜å…ˆçº§æ˜¯250ï¼Œé‚£ä¹ˆè¿™äº›è¢«è½¬æˆäº†å¦‚ä¸‹çº¦æŸï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;H:[label(&amp;lt;=100@250)]
H:[label(&amp;gt;=100@750)]
V:[label(&amp;lt;=30@250)]
V:[label(&amp;gt;=30@750)]
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;4-Alignment-Rect&quot;&gt;&lt;a href=&quot;#4-Alignment-Rect&quot; class=&quot;headerlink&quot; title=&quot;4. Alignment Rect&quot;&gt;&lt;/a&gt;4. Alignment Rect&lt;/h3&gt;&lt;p&gt;Auto Layoutæ“ä½œçš„æ˜¯Viewçš„Alignment Rectï¼Œä¸æ˜¯Viewçš„Frameã€‚è¿™æ˜¯ä¸ªä¼Ÿå¤§çš„æ¦‚å¿µï¼Œç”¨äºæŠŠViewçš„å¸ƒå±€å’Œæ˜¾ç¤ºè§£è€¦ï¼Œè™½ç„¶å¤§éƒ¨åˆ†æƒ…å†µå®ƒä»¬æ˜¯ç›¸ç­‰çš„ã€‚åŒæ ·ï¼ŒViewçš„Intrinsic Content Sizeä¹ŸæŒ‡çš„æ˜¯Alignment Rectã€‚åœ¨Viewæœ‰é˜´å½±ã€è‡ªå®šä¹‰Badgeæ—¶ï¼Œè¿™ä¸ªæ¦‚å¿µä¼šå¾ˆæœ‰ç”¨ã€‚åœ¨è‡ªå®šä¹‰çš„Viewä¸­ï¼Œå¯ä»¥é€šè¿‡è¦†ç›–&lt;code&gt;alignmentRectInsets&lt;/code&gt;ï¼Œæ¥è¿”å›åœ¨ç‰¹å®šçš„Frameä¸‹ï¼ŒAlignment Rectçš„edge insetsæ˜¯å¤šå°‘ã€‚è¿˜å¯ä»¥è¦†ç›–&lt;code&gt;alignmentRectForFrame:&lt;/code&gt;å’Œ&lt;code&gt;frameForAlignmentRect:&lt;/code&gt;æ¥å®ç°æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œè›‹è¿™ä¸¤ä¸ªæ–¹æ³•å¿…é¡»äº’ä¸ºåå‡½æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&quot;5-å…¶å®ƒ&quot;&gt;&lt;a href=&quot;#5-å…¶å®ƒ&quot; class=&quot;headerlink&quot; title=&quot;5. å…¶å®ƒ&quot;&gt;&lt;/a&gt;5. å…¶å®ƒ&lt;/h3&gt;&lt;p&gt;å¦‚æœè‡ªå®šä¹‰çš„Viewæ˜¯åŸºäºAuto Layoutå°è£…ï¼Œé‚£ä¹ˆå®ƒå°±ä¸èƒ½åœ¨æœªå¼€å¯Auto Layoutçš„Windowä¸Šä½¿ç”¨ï¼Œå› æ­¤æœ€å¥½è¦†ç›–Viewçš„&lt;code&gt;requiresConstraintBasedLayout&lt;/code&gt;ï¼Œè¿”å›YESæ¥å®£ç§°è¿™ä»¶äº‹ã€‚&lt;br&gt;ç¨‹åºæŒ‚æ‰ï¼šNSInternalInconsistencyException, reason: â€˜Auto Layout still required after executing -layoutSubviews. åŸå› é€šå¸¸å› ä¸ºæ˜¯æˆ‘ä»¬åœ¨ç¬¬2ä¸ªé˜¶æ®µï¼ˆå¸ƒå±€é˜¶æ®µï¼‰æ›´æ”¹äº†çº¦æŸï¼Œè¿™é€šå¸¸æ˜¯åœ¨è¢«è¦†ç›–çš„&lt;code&gt;layoutSubviews&lt;/code&gt;æ–¹æ³•é‡Œåšçš„ï¼Œè¿™è§¦å‘äº†ç¬¬1ä¸ªé˜¶æ®µï¼Œä½†æ˜¯å´æ²¡æœ‰å†æ¬¡è§¦å‘å¸ƒå±€é˜¶æ®µã€‚é€šå¸¸çš„è§£å†³åŠæ³•æ˜¯åœ¨æ›´æ”¹çº¦æŸåå†æ¬¡è°ƒç”¨&lt;code&gt;[super layoutSubviews]&lt;/code&gt;æ¥æ˜¾å¼è§¦å‘å¸ƒå±€è¿‡ç¨‹ã€‚&lt;br&gt;Auto Layoutçš„æ€§èƒ½ï¼š&lt;a href=&quot;http://floriankugler.com/2013/04/22/auto-layout-performance-on-ios/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://floriankugler.com/2013/04/22/auto-layout-performance-on-ios/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡æ˜¯objc.ioä¸­ã€ŒAdvanced Auto Layout Toolboxã€çš„å­¦ä¹ ç¬”è®°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
      <category term="AutoLayout" scheme="http://blog.liushuaiko.be/tags/AutoLayout/"/>
    
  </entry>
  
  <entry>
    <title>æ—¥æœ¬å…³è¥¿æ¸¸è®°</title>
    <link href="http://blog.liushuaiko.be/blog/2016/07/09/japan-kansai/"/>
    <id>http://blog.liushuaiko.be/blog/2016/07/09/japan-kansai/</id>
    <published>2016-07-09T06:44:29.000Z</published>
    <updated>2016-07-09T06:50:45.000Z</updated>
    
    <content type="html">&lt;p&gt;å‰æ®µæ—¶é—´åˆ°æ—¥æœ¬å…³è¥¿åœ°åŒºç©äº†å‡ å¤©ï¼Œå‘ç°äº†æ—¥æœ¬ä¸€äº›è€äººå¯»å‘³çš„ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;ç§©åºã€‚æ—¥æœ¬äººä¹˜åä¸Šä¸‹æ¥¼æ‰¶æ¢¯éƒ½æ˜¯å•äººé ä¸€ä¾§ï¼Œè®©å‡ºä¸€ä¸ªè¿‡é“ç»™é‚£äº›èµ¶æ—¶é—´çš„äººå¿«é€Ÿè¡Œèµ°ã€‚è™½ç„¶æ‰€åœ¨åœ°ä¸åŒé å·¦è¿˜æ˜¯é å³ä¸ä¸€å®šï¼Œä½†æ˜¯å‡ ä¹çœ‹ä¸åˆ°æœ‰äººç«™æˆä¸€æ’å µä½æ‰¶æ¢¯ã€‚&lt;/li&gt;
&lt;li&gt;ç¤¼ä»ªã€‚æ—¥æœ¬çš„æœåŠ¡ä¸šå¾ˆå‘è¾¾ï¼Œå•†åœºã€åœ°é“ã€é…’åº—çš„æœåŠ¡å‘˜å…¨éƒ½ç¬‘è„¸ç›¸è¿ï¼Œâ€œé˜¿ç‹¸å˜è±†â€è¯´ä¸ªä¸åœï¼Œè€Œä¸”è¯´çš„æ—¶å€™ä¼šç‚¹å¤´ç¤ºæ„ï¼Œç”šè‡³é èº¬çš„ä¹Ÿä¸åœ¨å°‘æ•°ï¼Œåœ¨è¿™ç§æ°›å›´ä¸‹ä½ ä¹Ÿä¼šä¸è‡ªè§‰å˜å¾—æ›´æœ‰ç¤¼è²Œï¼Œå¹¶è§‰å¾—é’±èŠ±çš„å¾ˆèˆ’æœã€‚æ›¾åœ¨å…¬äº¤è½¦ä¸Šè§åˆ°äº†ä¸€ä¸ªå¾ˆèŒå¾ˆæœ‰æ„æ€çš„å…¬ç›Šå¹¿å‘Šï¼Œæ—¨åœ¨æé†’ä¹˜å®¢åœ¨ä½¿ç”¨è€³æœºæ—¶ï¼Œæ³¨æ„è€³æœºçš„æ¼éŸ³æ‰“æ‰°åˆ°èº«è¾¹çš„äººï¼Œè¿™ä¸ªç»†èŠ‚ç€å®éœ‡æ’¼åˆ°æˆ‘äº†ã€‚&lt;/li&gt;
&lt;li&gt;å†…æ•›ã€‚åœ¨è¡—ä¸Šå¾ˆå°‘è§åˆ°è±ªè½¦ï¼Œå¤§å¤šæ•°æ˜¯æ—¥ç³»ç®€å•å®ç”¨çš„è½¿è½¦ï¼Œä¹Ÿå¾ˆå°‘è§åˆ°å¤–å½¢å¤¸å¼ çš„è±ªå®…ï¼Œå€’æ˜¯é›…è‡´ç²¾å·§çš„å°æœ¨å±‹å¾ˆå¸¸è§ï¼Œå±‹é—¨å£å¤§å¤šæ‘†æ”¾ç€ç²¾å¿ƒä¾å¼„çš„èŠ±å‰å’Œç›†æ™¯ï¼Œäººä»¬è¡£ç€æœ´å®ï¼Œè®²è¯å£°éŸ³å¾ˆå°ï¼Œè¡—ä¸Šçš„å¥³äººéƒ½å¸¦ç€å¦†å®¹ï¼Œæ¶‚ç€çº¢è…®ï¼Œå³ä¾¿æ˜¯è€å¦‡äººä¹Ÿä¸ä¾‹å¤–ï¼Œè¿™ä½¿å¾—ä½ ä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªäº›æ˜¯æ¸¸å®¢ï¼Œå“ªäº›æ˜¯å½“åœ°äººã€‚&lt;/li&gt;
&lt;li&gt;å®Œå–„ã€‚å…¬å…±åœºæ‰€æ— éšœç¢æŒ‡ç¤ºæ ‡è¯†éšå¤„å¯è§ï¼Œå‡ ä¹æ¯ä¸ªå…¬å…±å«ç”Ÿé—´éƒ½æœ‰æ— éšœç¢è®¾æ–½ï¼Œå…¬äº¤è½¦åœ¨åœè½¦ä¸Šä¸‹å®¢æ—¶ï¼Œè½¦èº«ä¼šå‘é—¨çš„ä¸€ä¾§å€¾æ–œä»¥æ–¹ä¾¿ä¹˜å®¢ä¸Šä¸‹è½¦ï¼Œåœ¨åœè½¦åœºæˆ–è€…å»ºç­‘å·¥åœ°ç­‰è½¦è¾†é¢‘ç¹å‡ºå…¥çš„é—¨å£ï¼Œä¼šæœ‰ä¸“äººçœ‹å®ˆï¼Œæ§åˆ¶è½¦è¾†ï¼Œåœ¨æ²¡äººç»è¿‡çš„æ—¶å€™æ‰æ”¾è¡Œè½¦è¾†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦å¤–ï¼Œåœ¨Apple Storeè§åˆ°Apple TVï¼Œåœ¨è¡—ä¸Šçœ‹åˆ°äººä»¬åˆ·Twitterï¼Œåœ¨ç”µå­ç”¨å“å•†åœºè§åˆ°Chromecastå’Œè£…ç€åŸç”ŸAndroidçš„Nexusæ‰‹æœºï¼Œåˆšå¼€å§‹å±…ç„¶ä¼šè§‰å¾—ä¸é€‚åº”ï¼Œç„¶åä¸€ä¸‹å­æ˜ç™½ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;ä¸èˆ’æœçš„åœ°æ–¹ï¼Ÿä¹Ÿæœ‰ã€‚é€†è¡Œçš„äººä¹Ÿå¾ˆå¤šï¼Œè½¦è¾†ä¸ä¼šä¸»åŠ¨è®©è¡Œäººï¼Œæˆ‘åˆ°è¿‡çš„å‡ ä¸ªåœ°æ–¹æ²¡æœ‰ç¦æ‘©æ‰˜è½¦ï¼Œç»å¸¸ä¼šæœ‰å¹´è½»äººéª‘ç€æ‘©æ‰˜è½°ç€æ²¹é—¨ç»è¿‡ï¼Œå¤šæ™®å‹’æ•ˆåº”å°¤ä¸ºåˆºè€³ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å‰æ®µæ—¶é—´åˆ°æ—¥æœ¬å…³è¥¿åœ°åŒºç©äº†å‡ å¤©ï¼Œå‘ç°äº†æ—¥æœ¬ä¸€äº›è€äººå¯»å‘³çš„ç»†èŠ‚ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://blog.liushuaiko.be/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="æ—¥æœ¬" scheme="http://blog.liushuaiko.be/tags/%E6%97%A5%E6%9C%AC/"/>
    
      <category term="å…³è¥¿" scheme="http://blog.liushuaiko.be/tags/%E5%85%B3%E8%A5%BF/"/>
    
  </entry>
  
  <entry>
    <title>2015ï¼Œæ°¸è¿œå¹´è½»ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶</title>
    <link href="http://blog.liushuaiko.be/blog/2015/12/30/my-2015/"/>
    <id>http://blog.liushuaiko.be/blog/2015/12/30/my-2015/</id>
    <published>2015-12-30T11:34:56.000Z</published>
    <updated>2016-07-09T06:07:35.000Z</updated>
    
    <content type="html">&lt;p&gt;è¿™ä¸€å¹´ï¼Œåœ¨ AliExpress åº¦è¿‡äº†å®Œæ•´çš„ä¸€å¹´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´ï¼Œæ„Ÿè§¦ã€æ€è€ƒã€å‹åŠ›ã€æŒ‘æˆ˜ã€å®Œç¾ã€ä¸å®Œç¾ï¼Œå°±åƒè½ä¸‹çš„é›¨ç‚¹ï¼Œå¤§ç å°ç è½ç‰ç›˜ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;embed src=&quot;http://www.xiami.com/widget/40156335_1772001102/singlePlayer.swf&quot; type=&quot;application/x-shockwave-flash&quot; width=&quot;257&quot; height=&quot;33&quot; wmode=&quot;transparent&quot;&gt;

&lt;p&gt;å°±ä»æ¢æˆ¿å­å¼€å§‹å§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è±†ç“£ä¸Šè®¤è¯†äº†è·Ÿæˆ‘å¹´çºªç›¸ä»¿çš„å°ç‹åŒå­¦ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹äº†å¾ˆå¤šæˆ¿å­ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘å­¦ä¼šäº†å¦‚ä½•å»åˆ¤æ–­ä¸€ä¸ªæˆ¿å­çš„å¥½åã€æ€§ä»·æ¯”é«˜ä½ï¼Œå¯¹å…¬å¸é™„è¿‘çš„å°åŒºçš„äº†å¦‚æŒ‡æŒã€‚è™½ç„¶æœ€åç”±äºç§ç§åŸå› æ²¡æœ‰ä¸€èµ·åˆç§Ÿï¼Œä½†æ˜¯è¿™çœŸæ˜¯ä¸€æ®µå¾ˆä»¤äººéš¾å¿˜çš„ç»å†ã€‚æœ€åæˆ‘ä»¬ç§Ÿçš„æˆ¿å­éƒ½è¿˜ä¸é”™ï¼Œæˆ‘æ‰¾åˆ°äº†å…¬å¸é™„è¿‘çš„ CBD æ—è¾¹çš„ä¸€ä¸ªå°åŒºï¼Œå¯¹æˆ‘æ¥è¯´å¯èƒ½æ˜¯å…¬å¸é™„è¿‘æœ€å¥½çš„å°åŒºäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè®©æˆ‘å‘¨æœ«åœ¨å®¶é‡Œå‘†ä¸€å¤©ï¼Œçœ‹ä¸€å¤©ç”µè§†ï¼Œé‚£ä¹ˆæ™šä¸Šå›é¡¾è¿™ä¸€å¤©ï¼Œæˆ‘è‚¯å®šä¼šæœ‰ä¸€ç§æµªè´¹ç”Ÿå‘½ç½ªæ¶æ„Ÿï¼Œç”šè‡³ä¼šä¸ºä¹‹æŠ“ç‹‚ã€‚ä½†æ˜¯æ›´ç½ªæ¶çš„æ˜¯ï¼Œå¦‚æœè¿™ä¸€å¤©è®©æˆ‘åœ¨å¤–é¢æš´èµ°ï¼Œå“ªæ€•ä»€ä¹ˆéƒ½ä¸å¹²ï¼Œæ²¡æœ‰ä¸€ç‚¹æ”¶è·ï¼Œæˆ‘å±…ç„¶ä¼šè§‰å¾—å¾ˆå……å®ã€‚å¥½å§ï¼Œ5æœˆä»½ä¹‹å‰ï¼Œå‡ ä¹æ¯å‘¨æœ«éƒ½ä¼šæ‰¾ä¸€ä¸‹åˆï¼Œçº¦ä¸Šéœ‡å®‡å…„å»è¥¿æ¹–ï¼Œç»•ç€è¥¿æ¹–æºœè¾¾æºœè¾¾ï¼Œçœ‹åœºç”µå½±ï¼Œä¸€èµ·åƒä¸ªæ™šé¥­ï¼Œéšä¾¿æ‰¯æ‰¯ã€‚åƒå®Œé¥­å„è‡ªå›å®¶å‰ï¼Œæˆ‘ä»¬ä¼šåœ¨é©¬è·¯è¾¹ï¼Œåœ¨å¤©æ¡¥ä¸Šï¼Œç”šè‡³åœ¨å…¬äº¤è½¦ç«™ï¼Œæ—è‹¥æ— äººåœ°å¤§å£°å–Šä¸Šä¸€å¥ï¼šâ€œfxxkï¼Œæ˜å¤©åˆè¦ä¸Šç­äº†ï¼â€&lt;/p&gt;
&lt;p&gt;æœ‰ä¸€æ®µæ—¶é—´çš„å‘¨æœ«ï¼Œæˆ‘ä»¬è¿·ä¸Šäº†ä¸€ä¸ª iPad ä¸Šçš„å¯†å®¤é€ƒè„±æ¸¸æˆï¼Œæˆ‘ä»¬æ‰¾äº†ä¸€ä¸ªå¾ˆååƒ»çš„æ˜Ÿå·´å…‹ï¼Œæ–­æ–­ç»­ç»­ï¼ŒèŠ±äº†è¿˜æŒºä¹…çš„ï¼Œç»™åˆ·é€šå…³äº†ï¼Œç„¶åé€šè¿‡ç©è¿™ä¸ªæ¸¸æˆå‘ç°ï¼Œè‡ªå·±å±…ç„¶ä¸ç®—å¤ªç¬¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œ5æœˆæœ«ï¼Œéœ‡å®‡å…„è¢«å˜åŒ–åˆ°æ»¨æ±Ÿäº†ã€‚æˆ‘å‡­å€Ÿç€ä¸°å¯Œçš„æ‰¾æˆ¿ç»éªŒï¼Œç»™ä»–ä¸åœåœ°æ¨èæˆ‘ä½çš„å°åŒºçš„æˆ¿å­ã€‚æœ€åï¼Œå¦‚æˆ‘æ‰€æ„¿ï¼Œéœ‡å®‡å…„è¿˜çœŸè·Ÿæˆ‘ä½åˆ°äº†åŒä¸€ä¸ªå°åŒºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ¥ä¸‹æ¥çš„å‘¨æœ«é‡Œï¼Œhow could you believe thatâ€¦&lt;/p&gt;
&lt;p&gt;éª‘è‡ªè¡Œè½¦å»é’±å¡˜æ±Ÿè¾¹ï¼ŒæŠŠå³å…´åœ¨åœ°æ‘Šä¸Šä¹°çš„å°é£ç­åœ¨å–ä¸€å£æ°´çš„åŠŸå¤«å†…æ”¾ä¸¢ï¼Œç„¶ååœ¨æŸå®ä¸Šä¹°äº†ä¸€ä¸ª3å€å¤§çš„é£ç­ï¼Œæœ€ç»ˆæ”¾é£;&lt;br&gt;åœ¨1688ä¸Šæ‰¹å‘äº†ä¸€æ‰¹å„¿ç«¥å°é£ç¢Ÿï¼Œç±»ä¼¼ç«¹èœ»èœ“çš„ä¸œè¥¿ï¼Œåˆ° CBD å»å–ï¼Œå·§å¦™ä¸ cops å‘¨æ—‹ï¼Œæœ€ç»ˆç›ˆäºå¹³è¡¡ï¼›&lt;br&gt;é€¢çƒ­ç‰‡å¿…ååœ°é“ç©¿è¿‡é’±å¡˜æ±Ÿå»ä¸€ä¸ªäººå°‘ä»·ä½ç¯å¢ƒå¥½çš„ç”µå½±é™¢çœ‹äº†å®ƒï¼Œå›å»çš„è·¯ä¸Šä¸€è·¯ç‹‚å–·ï¼›&lt;br&gt;è‡ªå·±åšæ™šé¥­ï¼Œéœ‡å®‡å…„ç§€åˆ€å·¥æ‰‹è¢«å‰²ä¼¤ä¸¤æ¬¡ï¼›&lt;br&gt;åœ¨å…¬å¸é”ä¸Šè‡ªè¡Œè½¦åæ‰å‘ç°æ²¡å¸¦é’¥åŒ™;&lt;br&gt;God damn insaneï¼&lt;/p&gt;
&lt;h3 id=&quot;ç¨‹åºçŒ¿&quot;&gt;&lt;a href=&quot;#ç¨‹åºçŒ¿&quot; class=&quot;headerlink&quot; title=&quot;ç¨‹åºçŒ¿&quot;&gt;&lt;/a&gt;ç¨‹åºçŒ¿&lt;/h3&gt;&lt;p&gt;å‰å‡ å¤©å¤§é£é—®æˆ‘ï¼Œè¯´ä½ ç°åœ¨ä¸åœåœ°åšéœ€æ±‚åšä¸šåŠ¡ï¼Œä¹Ÿæ²¡æ—¶é—´é’»ç ”ä¸€äº›æ–°æŠ€æœ¯å§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³äº†æƒ³ï¼Œä¸€åˆ‡è„±ç¦»ä¸šåŠ¡çš„æŠ€æœ¯éƒ½æ˜¯è€æµæ°“ã€‚æŠ€æœ¯ä¸èƒ½å‡­ç©ºäº§ç”Ÿï¼Œä¸€å®šå¾—å…ˆæœ‰ä¸šåŠ¡éœ€æ±‚ï¼ˆå¹¿ä¹‰ä¸Šçš„ï¼‰æ‰ä¼šæœ‰æŠ€æœ¯ã€‚ä¸€å®šä¸è¦åªå®ŒæˆæŸä¸ªéœ€æ±‚ï¼Œè€Œè¦æŠŠå®ƒåšå¥½ï¼Œåšç²¾ã€‚åœ¨è¿™æ–¹é¢æˆ‘ä¸€ç›´è§‰å¾—æˆ‘åšçš„è¿˜æ˜¯ä¸é”™çš„ï¼Œæ€»æ˜¯èƒ½åœ¨å®Œæˆéœ€æ±‚çš„è¿‡ç¨‹ä¸­è¿¸å‘å‡ºå¾ˆå¤šç‚¹å­ï¼Œä¹Ÿæ€»æ˜¯èƒ½å°è¯•ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œæ•ˆæœè¿˜ä¸é”™ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ŠåŠå¹´ä¸€ç›´æŠ•å…¥åœ¨ iPad App çš„å¼€å‘ã€‚å¯ä»¥è¯´è¿™æ˜¯æˆ‘æŠ€æœ¯æå‡çš„è¸æ¿ã€‚å› ä¸ºç§ç§åŸå› æˆ‘åœ¨ iPad App ä¸Šçš„ã€ŒæƒåŠ›ã€è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå¸¦æˆ‘çš„å°ä¼™æŠ€æœ¯ä¹Ÿéå¸¸æ‰å®ï¼Œè·Ÿç€ä»–åšäº†ä¸å°‘ï¼Œä¹Ÿå­¦äº†ä¸å°‘ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€èµ·æé«˜ App è´¨é‡ï¼Œæ”¹è¿›å¼€å‘æµç¨‹ï¼Œä¼˜åŒ– App æ€§èƒ½ï¼Œäº§å‡ºäº†å¾ˆå¤šè´¨é‡è¿˜ä¸é”™çš„ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä¹Ÿæ¸æ¸ç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œç†Ÿæ‚‰ iOS å¼€å‘çš„å¥—è·¯ï¼Œç†Ÿæ‚‰ä¸€ä¸ªéœ€æ±‚çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¤„å¤„ç•™å¿ƒçš†å­¦é—®ã€‚&lt;/p&gt;
&lt;p&gt;ä¹æœˆä»½å¼€å§‹è½¬æŠ• iPhone çš„å¼€å‘ï¼Œå¼€å‘äº†ä¸€ä¸ªæ¨¡å—ï¼Œåšäº†ä¸€ä¸ªå¾ˆæ ¸å¿ƒçš„ä¸šåŠ¡ï¼Œæœ‰äº† iPad çš„åŸºç¡€ï¼Œå¼€å‘èµ·æ¥è¿˜ç®—é¡ºæ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä»Šå¹´ä¹Ÿè‡ªå­¦äº†ä¸€äº›ä¸œè¥¿ã€‚èƒ½æƒ³èµ·æ¥çš„å°± Core Animation å’Œ Swfit äº†ã€‚ä»Šå¹´ä¹°äº†è‹¹æœçš„å¼€å‘è€…èµ„æ ¼ï¼Œè‡ªå­¦ Swift å†™äº†ä¸€ä¸ªçœ‹å¦¹å­çš„ Appï¼Œæœ€ç»ˆå› ä¸ºæŸäº›åŸå› æ²¡é€šè¿‡å®¡æ ¸ï¼Œä½†æ˜¯å½“æˆ‘ç…§ä¾‹æ™’åˆ°æœ‹å‹åœˆæ—¶ï¼ŒFenng å±…ç„¶ç»™æˆ‘ç‚¹äº†èµï¼Œåœ¨ GitHub ä¸Šå‘çš„æ—¶å€™ï¼Œonevcat è¿˜ star äº†ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆå“¦å¦¹å­å˜¤çš„ç»å†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŒåä¸€&quot;&gt;&lt;a href=&quot;#åŒåä¸€&quot; class=&quot;headerlink&quot; title=&quot;åŒåä¸€&quot;&gt;&lt;/a&gt;åŒåä¸€&lt;/h3&gt;&lt;p&gt;è®°å¾—å¤§ä¸€æ—¶ï¼Œä¸€å¤©æ™šä¸Šï¼Œç†„ç¯åï¼Œéƒ½å‡†å¤‡ç¡è§‰æ—¶ï¼Œå½ªå½ªè¿˜åœ¨é‚£ç©ç”µè„‘ï¼Œé¼ æ ‡å•ªå•ªç‚¹ä¸ªä¸åœï¼Œä¸€è„¸å…´å¥‹çš„å‘Šè¯‰æˆ‘ä»¬ï¼Œå…‰æ£èŠ‚ï¼ŒæŸå®åœ¨å„ç§ä¿ƒé”€ï¼Œéƒ½ç©ç–¯äº†ï¼åŸæ¥è¿™è´§è¿˜åœ¨ä¹°çƒé‹ã€‚&lt;/p&gt;
&lt;p&gt;5å¹´åï¼Œåä¸€é»„é‡‘å‘¨å‰å¤•ï¼Œæˆ‘ç»“æŸäº†4å¤©çš„ä¼‘å‡ï¼Œèµ¶å›å…¬å¸ï¼ŒåŠ ç­å‡†å¤‡åŒåä¸€ã€‚&lt;/p&gt;
&lt;p&gt;åé¢ä¸€æ®µæ—¶é—´ï¼Œæ•´ä¸ª Team éƒ½å¾ˆç´¯ã€‚&lt;/p&gt;
&lt;p&gt;å¤§ä¿ƒ App å‘å¸ƒå½“æ™šï¼Œçœ‹å¾—å‡ºæ¥ï¼Œå¤§å®¶éƒ½åƒåˆšæ”¹é€ å¥½æ”¾å‡ºæ¥ä¸€æ ·ï¼Œä»¥è‡ªå·±çš„æ–¹å¼é‡Šæ”¾ç€å‹åŠ›ã€‚ç„¶è€Œï¼Œå±…ç„¶å‘ç°äº†ä¸€ä¸ªæŒºä¸¥é‡çš„ bugï¼Œæˆ‘çš„ã€‚å¦ç‡åœ°è®²ï¼Œå½“æ—¶å¾ˆæ…Œï¼Œé¡¶ç€å·¨å¤§çš„å‹åŠ›ä¿®å¤ï¼Œè¿›å…¥äº†æ–°çš„ä¸€è½®æ‰“åŒ…è¿‡ç¨‹â€¦â€¦&lt;/p&gt;
&lt;p&gt;å‘å¸ƒåç¬¬äºŒå¤©ä¸­åˆï¼Œå“¦ä¸ï¼Œå½“å¤©ï¼Œæˆ‘ä»¬å‡Œæ™¨3ç‚¹å›å»çš„ï¼Œæˆ‘ä»¬å»å…¬å¸æ—ä¸€å®¶å°åº—åƒäº†å¯¿å¸ï¼Œéšä¾¿æ‰¯æ‰¯æ·¡ï¼Œè½»æ¾çš„æ„Ÿè§‰ï¼Œä¹…è¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŒåä¸€å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€æ¬¡è€ƒéªŒä¹Ÿæ˜¯ä¸€æ¬¡å†ç»ƒï¼Œé‚£æ—¶å€™ç¬¬ä¸€æ¬¡æœ‰ç§çœŸçœŸåˆ‡åˆ‡çš„ï¼Œæˆ‘åœ¨åšä¸€äº›äº‹æƒ…ï¼Œæˆ‘åœ¨åˆ›é€ ä»·å€¼çš„æ„Ÿè§‰ï¼Œå“¦å¦¹å­å˜¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¹°ä¹°ä¹°&quot;&gt;&lt;a href=&quot;#ä¹°ä¹°ä¹°&quot; class=&quot;headerlink&quot; title=&quot;ä¹°ä¹°ä¹°&quot;&gt;&lt;/a&gt;ä¹°ä¹°ä¹°&lt;/h3&gt;&lt;p&gt;ä¸€æ¬¡è·Ÿæœ‹å‹é—²æ‰¯ï¼Œå¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œå¹²è¿™ä¸€è¡Œå¥½å°´å°¬ï¼Œèµšçš„é’±å§ï¼Œä¸å¤ªå®¹æ˜“è®©å­©å­æˆä¸ºå¯ŒäºŒä»£ï¼Œä½†ä¹Ÿä¸è‡³äºç”Ÿæ´»çš„å¤ªå·®ã€‚è¿™ä¸ªç»“è®ºçœŸæ˜¯å¤ªå¯¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¹´ä¹°äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ·å®‰ç‰¹è‡ªè¡Œè½¦ã€Dell U2515Hã€ç”µåŠ¨ç‰™åˆ·ï¼Œåšæœæ‰‹æœºï¼Œç”šè‡³èŒç”Ÿäº†æŠŠå°æ—¶å€™å› ä¸ºçˆ¶æ¯ç»™çš„é’±ä¸å¤Ÿä¹°ä¸èµ·çš„å°ç©æ„å„¿éƒ½ä¹°å›æ¥çš„æƒ³æ³•[dogeè„¸]ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œä»Šå¹´ä¹°äº†å¾ˆå¤š Appï¼Œä¹°äº†å¾ˆå¤š Serviceï¼ŒVPS ã€GitHub ç§æœ‰ repo ç­‰ç­‰ï¼Œè¿™ä¹Ÿæ˜¯å·¥ä½œåè§‚å¿µçš„ä¸€ä¸ªè½¬å˜ï¼Œå…è´¹çš„æ€»æ˜¯æœ€è´µçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ŠåŠå¹´çš„è‚¡å¸‚çƒ­ï¼Œæˆ‘ä¹°äº†ç‚¹åŸºé‡‘ï¼Œä»¥å¦ä¸€ç§æ–¹å¼å‚ä¸åˆ°äº†ç‚’è‚¡çš„å¤§æ½®ä¸­ï¼Œç»“å±€èƒ½çŒœåˆ°ï¼Œå¾ˆæƒ¨ã€‚å¥½åœ¨æ²¡æŠ•å¤ªå¤šï¼Œå› æ­¤æŸå¤±ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä½†æ˜¯æ•´ä»¶äº‹æƒ…è®©æˆ‘æ˜ç™½æ˜¯è¯¥å­¦å­¦ç»æµã€ç†è´¢æ–¹é¢çš„çŸ¥è¯†äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å…¶å®ƒ&quot;&gt;&lt;a href=&quot;#å…¶å®ƒ&quot; class=&quot;headerlink&quot; title=&quot;å…¶å®ƒ&quot;&gt;&lt;/a&gt;å…¶å®ƒ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å¹´åº¦å¿…çœ‹å›½äº§å‰§ï¼šã€Šç…çŠæ¦œã€‹&lt;/li&gt;
&lt;li&gt;å¹´åº¦å¿…çœ‹ç¾å‰§ï¼šã€Šç–‘çŠ¯è¿½è¸ªã€‹ã€Šæ— è€»ä¹‹å¾’ã€‹&lt;/li&gt;
&lt;li&gt;å¹´åº¦å¯çœ‹å›½äº§ç”µå½±ï¼šã€Šçƒˆæ—¥ç¼å¿ƒã€‹ã€Šè€ç‚®å„¿ã€‹&lt;/li&gt;
&lt;li&gt;å¹´åº¦å¿…çœ‹å¤–å›½ç”µå½±ï¼šã€Šç«æ˜Ÿæ•‘æ´ã€‹&lt;/li&gt;
&lt;li&gt;å¹´åº¦ iOS å¼€å‘è€…å¿…ç”¨å·¥å…·ï¼šFLEX&lt;/li&gt;
&lt;li&gt;å¹´åº¦å¿…ä¹° Appï¼š1Password Dash Reeder&lt;/li&gt;
&lt;li&gt;å¹´åº¦æœ€ä¸å€¼å¾—è´­ä¹°å•†å“ï¼šåšæœæ‰‹æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;2016&quot;&gt;&lt;a href=&quot;#2016&quot; class=&quot;headerlink&quot; title=&quot;2016&quot;&gt;&lt;/a&gt;2016&lt;/h3&gt;&lt;p&gt;ç›®å‰èƒ½æƒ³åˆ°çš„æ˜¯å¤šå­¦ä¸€äº›ç»æµçŸ¥è¯†ï¼Œè¿˜æœ‰ä¸€äº›è®¾è®¡ &amp;amp; Sketchæ–¹é¢çš„çŸ¥è¯†ï¼ŒæŠ€æœ¯ä¸Šå°±ä¸è¯´äº†ï¼Œå› ä¸ºæˆ‘è§‰å¾—è‡ªå·±æ€»èƒ½æ‰¾åˆ°ä¸€äº›ç‚¹ï¼Œåšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæ¯ä¸ªç»å†éƒ½æ˜¯ä¸€æ¬¡æˆé•¿ï¼Œå¸Œæœ›è‡ªå·±èƒ½ä¸å¿˜åˆå¿ƒï¼Œåšç§¯è–„å‘ï¼Œæ°¸è¿œå¹´è½»ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸€å¹´ï¼Œåœ¨ AliExpress åº¦è¿‡äº†å®Œæ•´çš„ä¸€å¹´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´ï¼Œæ„Ÿè§¦ã€æ€è€ƒã€å‹åŠ›ã€æŒ‘æˆ˜ã€å®Œç¾ã€ä¸å®Œç¾ï¼Œå°±åƒè½ä¸‹çš„é›¨ç‚¹ï¼Œå¤§ç å°ç è½ç‰ç›˜ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://blog.liushuaiko.be/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>æé«˜å·¥ä½œæ•ˆç‡ç¯‡ä¹‹å‘½ä»¤è¡Œç‰ˆçš„ Alfred â€”â€” z</title>
    <link href="http://blog.liushuaiko.be/blog/2015/12/17/awesome-z/"/>
    <id>http://blog.liushuaiko.be/blog/2015/12/17/awesome-z/</id>
    <published>2015-12-17T11:31:38.000Z</published>
    <updated>2016-07-09T05:36:32.000Z</updated>
    
    <content type="html">&lt;p&gt; z æ˜¯ä¸€ä¸ªéå¸¸ awesome çš„è„šæœ¬ï¼Œå®ƒé€šè¿‡åˆ†æå¹¶è®°å½•ä½  &lt;code&gt;cd&lt;/code&gt; å‘½ä»¤çš„è·¯å¾„ï¼Œå»ºç«‹å®ƒè‡ªå·±çš„æ•°æ®ç´¢å¼•ï¼Œä¹‹åé€šè¿‡ z å‘½ä»¤å¯ä»¥å¿«é€Ÿè·³åˆ°ä½ æƒ³è¦ cd çš„ç›®å½•ä¸‹ã€‚å¯¹äºéœ€è¦é¢‘ç¹åœ¨å‘½ä»¤è¡Œä¸­åˆ‡æ¢è·¯å¾„çš„å·¥å‹æ¥è¯´ï¼Œç®€ç›´æ˜¯ç¥å™¨ã€‚&lt;/p&gt;
 &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;ä¸€å›¾èƒœåƒè¨€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/awesome_z.gif&quot; alt=&quot;awesome_z&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å®‰è£…å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ç”¨çš„æ˜¯ zsh + oh-my-zshï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚éœ€è¦èŠ±è´¹30ç§’ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€&lt;code&gt;~/.zshrc&lt;/code&gt;ï¼Œæ‰¾åˆ° &lt;code&gt;plugins&lt;/code&gt;è¿™ä¸€è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;plugins=(git osx sublime)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ·»åŠ  zï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;plugins=(git osx sublime z)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶å restart å‘½ä»¤è¡Œï¼Œå…ˆ cd ä¸€ç•ªï¼Œè®© z å­¦ä¹ ä¸€ä¸‹ï¼Œä¹‹åå°±å°½æƒ…çš„ z å§ï¼&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ zshï¼Œæˆ–è€…æ²¡æœ‰ä½¿ç”¨ oh-my-zshï¼Œç¨éº»çƒ¦ä¸€ç‚¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»è¿™é‡Œ &lt;a href=&quot;https://github.com/rupa/z&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/rupa/z&lt;/a&gt; æŠŠè„šæœ¬ z.sh ä¸‹è½½ä¸‹æ¥ï¼Œä¹‹ååœ¨ &lt;code&gt;~/.zshrc&lt;/code&gt; ä¸­åŠ ä¸Šè¿™æ ·çš„ä¸€å¥è¯ï¼Œåœ¨å‘½ä»¤è¡Œæ‰“å¼€åæ‰§è¡Œ zï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;source /path/to/z.sh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ ç”šè‡³æ²¡æœ‰ä½¿ç”¨ zshï¼Œé‚£ä¹ˆå¯èƒ½è¦åœ¨ ~/.bashrc é‡ŒåŠ ä¸Šç±»ä¼¼çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;. /path/to/z.sh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;BTWï¼Œå¯ä»¥ç”¨ &lt;code&gt;z -l&lt;/code&gt; æ¥çœ‹ç›®å‰ z çš„æ•°æ®æƒ…å†µã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt; z æ˜¯ä¸€ä¸ªéå¸¸ awesome çš„è„šæœ¬ï¼Œå®ƒé€šè¿‡åˆ†æå¹¶è®°å½•ä½  &lt;code&gt;cd&lt;/code&gt; å‘½ä»¤çš„è·¯å¾„ï¼Œå»ºç«‹å®ƒè‡ªå·±çš„æ•°æ®ç´¢å¼•ï¼Œä¹‹åé€šè¿‡ z å‘½ä»¤å¯ä»¥å¿«é€Ÿè·³åˆ°ä½ æƒ³è¦ cd çš„ç›®å½•ä¸‹ã€‚å¯¹äºéœ€è¦é¢‘ç¹åœ¨å‘½ä»¤è¡Œä¸­åˆ‡æ¢è·¯å¾„çš„å·¥å‹æ¥è¯´ï¼Œç®€ç›´æ˜¯ç¥å™¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å·¥å…·é›†" scheme="http://blog.liushuaiko.be/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="z" scheme="http://blog.liushuaiko.be/tags/z/"/>
    
  </entry>
  
  <entry>
    <title>ç»™iOS Appæ·»åŠ åŸºäº3D touchçš„Quick Actions</title>
    <link href="http://blog.liushuaiko.be/blog/2015/10/28/iOS9-Quick-Actions/"/>
    <id>http://blog.liushuaiko.be/blog/2015/10/28/iOS9-Quick-Actions/</id>
    <published>2015-10-28T02:41:22.000Z</published>
    <updated>2016-07-09T05:36:16.000Z</updated>
    
    <content type="html">&lt;p&gt;3D Touch çš„é—®ä¸–ï¼Œç»™ iOS App äº¤äº’å¢åŠ äº†æ›´å¤šçš„å¯èƒ½ã€‚ï¼ˆåºŸè¯ï¼‰&lt;/p&gt;
&lt;p&gt;Apple å®˜æ–¹ä»‹ç»äº†3ç§åº”ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;ç»™ App å¢åŠ  Quick Actionsï¼šé‡æŒ‰ App å›¾æ ‡ï¼Œå¼¹å‡ºä¸€ä¸ªå¿«æ·èœå•&lt;/li&gt;
&lt;li&gt;Peek &amp;amp; Popï¼šè½»æŒ‰å¼¹å‡º previewï¼Œå†ç”¨åŠ›ä¸€ç‚¹æŒ‰ commit&lt;/li&gt;
&lt;li&gt;ç»˜å›¾ç±» Appï¼šä¾‹å¦‚æŒ‰å‹çš„åŠ›é“ä¸åŒï¼Œçº¿æ¡çš„ç²—ç»†åˆ™ä¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ç»™ iOS App æ·»åŠ åŸºäº 3D touch çš„ Quick Actionsï¼Œä¹Ÿå³ Shortcut Itemsã€‚&lt;/p&gt;
&lt;p&gt;å…¶å® Apple ç»™çš„ &lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/samplecode/ApplicationShortcuts/Introduction/Intro.html#//apple_ref/doc/uid/TP40016545&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sample Project&lt;/a&gt; éå¸¸ç¿”å®ï¼Œè¯»è€…å¯ä»¥ç›´æ¥ä¸‹ä¸‹æ¥è¿è¡Œæ¥çœ‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ²¡æœ‰å±Œå±Œçš„6sçœŸæœºï¼Œæˆ‘è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&quot;&gt;&lt;a href=&quot;#æ²¡æœ‰å±Œå±Œçš„6sçœŸæœºï¼Œæˆ‘è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æ²¡æœ‰å±Œå±Œçš„6sçœŸæœºï¼Œæˆ‘è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&quot;&gt;&lt;/a&gt;æ²¡æœ‰å±Œå±Œçš„6sçœŸæœºï¼Œæˆ‘è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/h3&gt;&lt;p&gt;è¿™é‡Œæœ‰ä¸ªå¯¹ iPhone æ¨¡æ‹Ÿå™¨çš„å° tweakâ€”â€”&lt;a href=&quot;https://github.com/DeskConnect/SBShortcutMenuSimulator&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SBShortcutMenuSimulator&lt;/a&gt;ï¼Œå¯ä»¥è®© 6s æ¨¡æ‹Ÿå™¨å±•ç¤ºå‡ºæŸä¸ª App çš„å¿«æ·èœå•ã€‚&lt;/p&gt;
&lt;p&gt;ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ª tweak å¹¶æ²¡æœ‰æ¨¡æ‹Ÿ 3D touchï¼Œè€Œåªèƒ½æ¨¡æ‹Ÿå±•ç¤ºæŸä¸ª App çš„ Quick Actionsã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ•ˆæœå›¾&quot;&gt;&lt;a href=&quot;#æ•ˆæœå›¾&quot; class=&quot;headerlink&quot; title=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/a&gt;æ•ˆæœå›¾&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/iOS_quick_action_1.png&quot; width=&quot;30%&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¼€å§‹æ·»åŠ &quot;&gt;&lt;a href=&quot;#å¼€å§‹æ·»åŠ &quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹æ·»åŠ &quot;&gt;&lt;/a&gt;å¼€å§‹æ·»åŠ &lt;/h3&gt;&lt;p&gt;ä¸º App æ·»åŠ  Shortcut æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥åœ¨ info.plist é‡Œé…ç½®ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ä»£ç æ·»åŠ ã€‚åœ¨ä»£ç é‡Œæ·»åŠ è‡³å°‘éœ€è¦ App è¿è¡Œè¿‡ä¸€æ¬¡æ‰ä¼šç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;h3 id=&quot;åœ¨-info-plist-é‡Œé…ç½®ï¼šå‘ç³»ç»Ÿæ³¨å†Œ-Static-ç±»å‹çš„-Quick-Actions&quot;&gt;&lt;a href=&quot;#åœ¨-info-plist-é‡Œé…ç½®ï¼šå‘ç³»ç»Ÿæ³¨å†Œ-Static-ç±»å‹çš„-Quick-Actions&quot; class=&quot;headerlink&quot; title=&quot;åœ¨ info.plist é‡Œé…ç½®ï¼šå‘ç³»ç»Ÿæ³¨å†Œ Static ç±»å‹çš„ Quick Actions&quot;&gt;&lt;/a&gt;åœ¨ info.plist é‡Œé…ç½®ï¼šå‘ç³»ç»Ÿæ³¨å†Œ Static ç±»å‹çš„ Quick Actions&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/iOS_quick_action_2.png&quot; width=&quot;70%&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ å¾ˆç®€å•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;UIApplicationShortcutItemType&lt;/code&gt;ï¼ˆå¿…é¡»ï¼‰ - èœå•é¡¹çš„IDï¼Œå°†æ¥å¤„ç†èœå•çš„ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œå¯ä»¥ç”¨æ¥æ ‡è¯†èœå•é¡¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UIApplicationShortcutItemTitle&lt;/code&gt;ï¼ˆå¿…é¡»ï¼‰ &amp;amp; &lt;code&gt;UIApplicationShortcutItemSubtitle&lt;/code&gt;ï¼ˆå¯é€‰ï¼‰ - èœå•é¡¹çš„æ ‡é¢˜&amp;amp;å‰¯æ ‡é¢˜&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UIApplicationShortcutItemIconType&lt;/code&gt;(å¯é€‰) &amp;amp; &lt;code&gt;UIApplicationShortcutItemIconFile&lt;/code&gt;ï¼ˆå¯é€‰ï¼‰ - ç³»ç»Ÿé¢„ç½®äº†&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIApplicationShortcutIcon_Class/#//apple_ref/c/tdef/UIApplicationShortcutIconType&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‡ ç§iconç±»å‹&lt;/a&gt;ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šiconæ–‡ä»¶ï¼Œè§ &lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIApplicationShortcutIcon_Class/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UIApplicationShortcutIcon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UIApplicationShortcutItemUserInfo&lt;/code&gt;ï¼ˆå¯é€‰ï¼‰ - ç”¨äºä¼ é€’ä¿¡æ¯ï¼Œä¾‹å¦‚å¯ä»¥æŠŠAppå½“å‰ç‰ˆæœ¬ç­‰ä¿¡æ¯ä¼ åˆ°ä»£ç ä¸­ï¼Œå³åœ¨ä»£ç ä¸­è·å–åˆ° Shortcut Item å®ä¾‹æ—¶ï¼Œå¯ä»¥è¿›ä¸€æ­¥è·å–è¿™ä¸ªå­—å…¸ï¼Œæ‹¿åˆ°é‡Œé¢çš„ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åœ¨ä»£ç é‡Œæ·»åŠ ï¼šè¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œ-Quick-Actions&quot;&gt;&lt;a href=&quot;#åœ¨ä»£ç é‡Œæ·»åŠ ï¼šè¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œ-Quick-Actions&quot; class=&quot;headerlink&quot; title=&quot;åœ¨ä»£ç é‡Œæ·»åŠ ï¼šè¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œ Quick Actions&quot;&gt;&lt;/a&gt;åœ¨ä»£ç é‡Œæ·»åŠ ï¼šè¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œ Quick Actions&lt;/h3&gt;&lt;p&gt;ä¸Šå›¾ä¸­çš„æ¯ä¸ªèœå•é¡¹æŠ½è±¡åˆ°ä»£ç ä¸­æ˜¯ä¸€ä¸ª&lt;code&gt;UIApplicationShortcutItem&lt;/code&gt;ç±»ï¼Œ&lt;code&gt;UIApplication&lt;/code&gt;ç±»ä¸­æ–°å¢äº†ä¸€ä¸ªå±æ€§&lt;a href=&quot;https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/#//apple_ref/occ/instp/UIApplication/shortcutItems&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;code&gt;shortcutItems&lt;/code&gt;&lt;/a&gt;ã€‚æˆ‘ä»¬éœ€è¦åœ¨&lt;code&gt;application:didFinishLaunchingWithOptions:&lt;/code&gt;ä¸­ç»™è¿™ä¸ªå±æ€§èµ‹å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#define BUILD_TYPE(X) [NSString stringWithFormat:@&amp;quot;%@.%@&amp;quot;, [NSBundle mainBundle].bundleIdentifier, X]

if (!application.shortcutItems || application.shortcutItems.count == 0) {
    UIApplicationShortcutItem *item = [[UIMutableApplicationShortcutItem alloc] initWithType:BUILD_TYPE(@&amp;quot;Type3&amp;quot;)
                                                                              localizedTitle:@&amp;quot;GitHub&amp;quot;
                                                                           localizedSubtitle:@&amp;quot;liushuaikobe&amp;quot;
                                                                                        icon:[UIApplicationShortcutIcon iconWithType:UIApplicationShortcutIconTypeLove]
                                                                                    userInfo:nil];
    application.shortcutItems = @[item];
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä»£ç é‡Œç›´æ¥è®¾ç½®&lt;code&gt;application.shortcutItems&lt;/code&gt;ä¸ä¼šè¦†ç›–æ‰æˆ‘ä»¬åœ¨ info.plist é‡Œé™æ€è®¾ç½®çš„èœå•é¡¹ï¼Œä¼š append åœ¨ info.plist ä¸­èœå•é¡¹çš„åé¢ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å°ç»“&quot;&gt;&lt;a href=&quot;#å°ç»“&quot; class=&quot;headerlink&quot; title=&quot;å°ç»“&quot;&gt;&lt;/a&gt;å°ç»“&lt;/h3&gt;&lt;p&gt;ç³»ç»Ÿä¼šä¼˜å…ˆæ˜¾ç¤ºé™æ€çš„ Quick Actionsï¼Œç„¶åçœ‹çœ‹è¿˜æœ‰æ²¡æœ‰åœ°æ–¹å†å†³å®šæ˜¯å¦å±•ç¤ºåŠ¨æ€çš„ Quick Actionsã€‚è‡³äºæœ€å¤šæ˜¾ç¤ºå‡ ä¸ªï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿæ²¡ç»™å‡ºæ˜ç¡®çš„æ•°å­—ï¼Œåªæ˜¯ç”¨ã€Œsystem-defined limitã€å¸¦è¿‡ã€‚ä¸è¿‡ç»è¿‡æµ‹è¯•ï¼Œç›®å‰æœ€å¤šåªèƒ½å±•ç¤º4ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨runtimeè·å–åˆ°çš„&lt;code&gt;shortcutItems&lt;/code&gt;ï¼Œä¹ŸåªåŒ…æ‹¬åŠ¨æ€æ³¨å†Œçš„ Quick Actionsï¼Œé™æ€æ³¨å†Œçš„ Actions æ˜¯ä¸åŒ…æ‹¬åœ¨å†…çš„ï¼Œå› æ­¤åœ¨ä¸ºè¿™ä¸ªæ•°ç»„èµ‹å€¼æ—¶ï¼Œè¦æ³¨æ„åŠ ä¸€ä¸ªåªæ³¨å†Œä¸€æ¬¡çš„ä¿æŠ¤ï¼Œå…ˆåˆ¤æ–­é‡Œé¢æœ‰æ²¡æœ‰å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Shortcutçš„äº‹ä»¶å¤„ç†&quot;&gt;&lt;a href=&quot;#Shortcutçš„äº‹ä»¶å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;Shortcutçš„äº‹ä»¶å¤„ç†&quot;&gt;&lt;/a&gt;Shortcutçš„äº‹ä»¶å¤„ç†&lt;/h3&gt;&lt;p&gt;&lt;code&gt;UIApplicationDelegate&lt;/code&gt;ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå›è°ƒï¼š&lt;code&gt;application:performActionForShortcutItem:completionHandler:&lt;/code&gt;ï¼Œç”¨äºå¤„ç† App çš„ Quick Actionsã€‚æ— è®º App çš„ Quick Action å¯åŠ¨äº† App è¿˜æ˜¯é‡æ–°è®© App å›åˆ°å‰å°ï¼Œè¿™ä¸ªæ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤„ç† Quick Actions çš„é€»è¾‘æ”¾åœ¨è¿™é‡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- (BOOL)handleQuickActions:(UIApplicationShortcutItem *)item {

    void (^handle)(NSString *) = ^(NSString *type) {
        UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@&amp;quot;Handle&amp;quot; message:type preferredStyle:UIAlertControllerStyleAlert];
        UIAlertAction *action = [UIAlertAction actionWithTitle:@&amp;quot;OK&amp;quot; style:UIAlertActionStyleDefault handler:nil];
        [alertController addAction:action];

        [self.window.rootViewController presentViewController:alertController animated:YES completion:nil];
    };

    if ([item.type isEqualToString:BUILD_TYPE(@&amp;quot;Type1&amp;quot;)]) {
        handle(item.type);
        return YES;
    } else if ([item.type isEqualToString:BUILD_TYPE(@&amp;quot;Type2&amp;quot;)]) {
        handle(item.type);
        return YES;
    } else if ([item.type isEqualToString:BUILD_TYPE(@&amp;quot;Type3&amp;quot;)]) {
        handle(item.type);
        return YES;
    }

    return NO;
}

- (void)application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler {
    BOOL hasHandled = [self handleQuickActions:shortcutItem];
    completionHandler(hasHandled); // å‘Šè¯‰ç³»ç»ŸQuick Actionsæœ‰æ²¡æœ‰è¢«å¦¥å–„å¤„ç†
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å½“ Quick Actions å¯åŠ¨ï¼ˆä¸æ˜¯ä»åå°å”¤é†’åˆ°å‰å°ï¼‰äº† App æ—¶ï¼Œ&lt;code&gt;UIApplicationDelegate&lt;/code&gt;ä¸­çš„æ–¹æ³•&lt;code&gt;application:willFinishLaunchingWithOptions:&lt;/code&gt;å’Œ&lt;code&gt;application:didFinishLaunchingWithOptions:&lt;/code&gt;è¿˜æ˜¯ä¼šç…§å¸¸è¢«è°ƒç”¨ï¼Œä¸”è¿™ä¸¤ä¸ªæ–¹æ³•è¢«è°ƒç”¨äº†ä¹‹åï¼Œ&lt;code&gt;- application:performActionForShortcutItem:completionHandler:&lt;/code&gt;æ‰ä¼šè¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œè¢«ç‚¹å‡»çš„ Shortcut Item ä¼šè¢«æ”¾åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•° Options å­—å…¸ä¸­ï¼Œä½œä¸º&lt;code&gt;UIApplicationLaunchOptionsShortcutItemKey&lt;/code&gt;è¿™ä¸ª key çš„ valueã€‚å› æ­¤ï¼Œå½“ä½ ä¸å¾—ä¸åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­å¯¹ App ç”± Quick Action å¯åŠ¨åšä¸€äº›ç‰¹åˆ«çš„å¤„ç†ï¼Œé‚£ä¹ˆå®˜æ–¹çš„ Demo æ¨èè¿™æ ·åšï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// é¦–å…ˆåœ¨å®ç°äº† UIApplicationDelegate çš„ç±»ä¸­å¢åŠ ä¸€ä¸ªè¿™æ ·çš„å®ä¾‹å˜é‡ï¼Œ
// ç”¨äºä¿å­˜å½“å‰è§¦å‘ Quick Action çš„ Shortcut Item çš„å¼•ç”¨

UIApplicationShortcutItem *_currentItem;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    if (launchOptions &amp;amp;&amp;amp; launchOptions[UIApplicationLaunchOptionsShortcutItemKey]) {

        // è¯´æ˜æ˜¯ç”± Quick Action å¯åŠ¨çš„App
        // è·å–åˆ° Shortcut Item çš„å¼•ç”¨

        _currentItem = launchOptions[UIApplicationLaunchOptionsShortcutItemKey];

        // å¦‚è‹¥è¿”å›NOï¼Œåˆ™ç³»ç»Ÿä¸ä¼šè°ƒç”¨ performActionForShortcutItem æ–¹æ³•
        // å› ä¸ºæˆ‘ä»¬ä¼šåœ¨ applicationDidBecomeActive åšå‡ºå¤„ç†
        // å› æ­¤è¿™é‡Œä¸å¸Œæœ› performActionForShortcutItem å…ˆå¤„ç†ä¸€ä¸‹

        return NO;
    }

    return YES;
}

// æ¥ç€ï¼Œåœ¨ applicationDidBecomeActive æ—¶ï¼Œåšå‡ºå¤„ç†

- (void)applicationDidBecomeActive:(UIApplication *)application {
    if (_currentItem) {
        [self handleShortcartItem:_currentItem];
        _currentItem = nil;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;å®˜æ–¹çš„ Sample Project ç”¨ Swift ç¼–å†™ï¼Œç»¼åˆä½¿ç”¨äº† &lt;code&gt;guard&lt;/code&gt;ï¼Œæ–°å¼ enum ç­‰å¤šä¸ª Swift æ–°ç‰¹æ€§ï¼Œå¼ºçƒˆå»ºè®®è¯»è€…å‰å»é˜…è¯»ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;3D Touch çš„é—®ä¸–ï¼Œç»™ iOS App äº¤äº’å¢åŠ äº†æ›´å¤šçš„å¯èƒ½ã€‚ï¼ˆåºŸè¯ï¼‰&lt;/p&gt;
&lt;p&gt;Apple å®˜æ–¹ä»‹ç»äº†3ç§åº”ç”¨åœºæ™¯ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ç¯‡ä¸ç®—æ™šçš„Auto Layoutå…¥é—¨æ•™ç¨‹</title>
    <link href="http://blog.liushuaiko.be/blog/2015/09/22/autolayout-introduction/"/>
    <id>http://blog.liushuaiko.be/blog/2015/09/22/autolayout-introduction/</id>
    <published>2015-09-22T02:54:20.000Z</published>
    <updated>2016-07-09T05:36:07.000Z</updated>
    
    <content type="html">&lt;p&gt;è‡ªæ‰“æˆ‘æ··iOSåœˆä»¥æ¥ï¼Œå†™UIå°±ä½¿ç”¨çš„æ˜¯frameç»å¯¹å¸ƒå±€ã€‚è¯´æ˜¯ã€Œç»å¯¹ã€ï¼Œä½†åœ¨å†™çš„æ—¶å€™ä¹Ÿå·²å¸¦ç€åŠ¨æ€çš„æ€æƒ³äº†ã€‚æ¯”å¦‚ï¼Œå°½å¯èƒ½åœ°ç”¨&lt;code&gt;autoResizingMask&lt;/code&gt;ã€‚ä½†æ˜¯å¯¹äºé‚£ç§maskä¸èƒ½ç”¨çš„åœºæ™¯ï¼Œåœ¨å†™å¸ƒå±€æ—¶å°±åƒåœ¨åšå°å­¦å‡ ä½•é¢˜ï¼Œå¾ˆæ˜¯å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿‘æœŸçš„é¡¹ç›®ä¸­ï¼Œå°è¯•äº†Auto Layoutï¼Œè¯•ç€æŠŠè‡ªå·±çš„å¿ƒå¾—æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;Auto-Layout-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#Auto-Layout-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;Auto Layout ç®€ä»‹&quot;&gt;&lt;/a&gt;Auto Layout ç®€ä»‹&lt;/h3&gt;&lt;p&gt;ç½‘ä¸Šä»‹ç»Auto Layoutçš„æ–‡ç« å¾ˆå¤šï¼Œæœ‰ä¸€ç‚¹å¤§å®¶å¾ˆå°‘æåˆ°ã€‚å°±Auto Layoutæœ¬èº«æ¥è¯´ï¼Œå®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆæ–°é²œçš„æŠ€æœ¯ã€‚Auto Layouç³»ç»Ÿæ˜¯&lt;a href=&quot;https://en.wikipedia.org/wiki/Cassowary_(software&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Cassowary&lt;/a&gt;ç®—æ³•çš„Cocoaå®ç°ã€‚Cassowaryæ˜¯ä¸€ä¸ªåœ¨äºŒåä¸–çºªä¹åå¹´ä»£è¢«å‘æ˜ï¼Œè§£æ&lt;strong&gt;çº¿æ€§&lt;/strong&gt;ç­‰å¼ã€ä¸ç­‰å¼çº¦æŸçš„ä¸€ä¸ªç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å‘è€…æä¾›ä¸€ç³»åˆ—çš„&lt;strong&gt;å¸ƒå±€è§„åˆ™&lt;/strong&gt;ç»™Cocoa Auto Layoutç³»ç»Ÿï¼Œå®ƒåŸºäºCassowaryç®—æ³•ï¼ŒæŠŠè§„åˆ™è½¬æ¢æˆäº†View(s)çš„frameï¼Œå®Œæˆäº†å¸ƒå±€ã€‚è¿™ä¸ªæ‰€è°“çš„ã€Œå¸ƒå±€è§„åˆ™ã€ï¼Œå°±æ˜¯Auto Layouté‡Œçš„ã€Œçº¦æŸã€ï¼ŒConstraintã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢è¯´åˆ°ï¼ŒCassowaryç®—æ³•è§£æçš„çº¿æ€§ç­‰å¼ã€ä¸ç­‰å¼ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æä¾›ç»™Auto Layoutçš„çº¦æŸæ˜¯çº¿æ€§çš„çº¦æŸã€‚å¯ä»¥ç®€å•æŠŠçº¿æ€§çº¦æŸç†è§£ä¸ºç”¨ä¸€æ¬¡æ–¹ç¨‹æ¥æè¿°çš„çº¦æŸã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡æ–¹ç¨‹ï¼Œå®ƒçš„åŸºæœ¬å½¢å¼ï¼ˆä»¥ç­‰å¼ä¸ºä¾‹ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;y = kx + b
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è‡ªç„¶åœ°ï¼Œåœ¨Auto Layoutä¸­ï¼Œä¸€ä¸ªçº¦æŸè¯¥é•¿ä»€ä¹ˆæ ·å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;view1çš„æŸä¸ªå±æ€§ = k * view2çš„æŸä¸ªå±æ€§ + b
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚ä¸Šé¢æ‰€ç¤ºï¼Œä¸€ä¸ªçº¦æŸæè¿°äº†ä¸¤ä¸ªå±æ€§ä¹‹é—´çš„å…³ç³»ï¼Œæ¶‰åŠåˆ°äº†7ä¸ªé‡ï¼ˆview1ã€å±æ€§1ã€å…³ç³»ã€view2ã€å±æ€§2ã€kã€bï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°±æ˜¯æŠŠè¿™ç§å½¢å¼çš„ä¸€æ¡æ¡çš„è§„åˆ™æä¾›ç»™Auto Layoutï¼Œå®ƒç»¼åˆäº†è®¸è®¸å¤šå¤šè¿™æ ·çš„è§„åˆ™ï¼Œæ¥å®Œæˆå¸ƒå±€ã€‚&lt;/p&gt;
&lt;p&gt;ã€ŒHeyï¼Œå°å¥¥ï¼Œè¿™ä¸ªViewè¦é å·¦æ˜¾ç¤ºï¼Œç¦»å®ƒçˆ¹10åƒç´ å§ï¼ã€&lt;br&gt;ã€Œå°å¥¥ï¼Œè¿™ä¸ªLabelè·Ÿå®ƒä¸Šé¢çš„æŒ‰é’®å‚ç›´å±…ä¸­ï¼ã€&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆæ ·ï¼Ÿåæ­£ç»™æˆ‘çš„æ„Ÿå—æ˜¯ï¼Œframeå¸ƒå±€æ˜¯æˆ‘ä»¬æ›¿æœºå™¨æ€è€ƒï¼Œè€ŒAuto Layoutï¼Œæ˜¯ä¸ºæˆ‘ä»¬è‡ªå·±æ€è€ƒã€‚&lt;/p&gt;
&lt;h3 id=&quot;Constraint-in-Code&quot;&gt;&lt;a href=&quot;#Constraint-in-Code&quot; class=&quot;headerlink&quot; title=&quot;Constraint in Code&quot;&gt;&lt;/a&gt;Constraint in Code&lt;/h3&gt;&lt;p&gt;ä¸Šæ–‡æˆ‘ä»¬ä»‹ç»äº†åœ¨é€»è¾‘ä¸­è¯¥æ€ä¹ˆå»è¡¨ç¤ºä¸€ä¸ªã€Œçº¦æŸã€ã€‚é‚£è½å®åˆ°ä»£ç ä¸­ï¼Œè¯¥æ€ä¹ˆè¡¨ç¤ºå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è‹¹æœç»™æˆ‘ä»¬æä¾›äº†è¿™æ ·ä¸€ä¸ªç±»ï¼Œç”¨ä½œä»£ç ä¸­ä¸€ä¸ªçº¦æŸçš„æŠ½è±¡â€”â€”&lt;code&gt;NSLayoutConstraint&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæœ‰ä¸€ä¸ªå¾ˆé•¿çš„æ„é€ æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªçº¦æŸå®ä¾‹ï¼Œè¿™ä¸ªæ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸Šé¢æåˆ°çš„7ä¸ªé‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;NSLayoutConstraint *c = [NSLayoutConstraint constraintWithItem:view1 attribute:attr1
                                                     relatedBy:relation
                                                        toItem:view2 attribute:attr2
                                                    multiplier:k constant:b];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªåˆä¸€ä¸ªçš„&lt;code&gt;NSLayoutConstraint&lt;/code&gt;å®ä¾‹ï¼Œé€šè¿‡æŠŠè¿™äº›å®ä¾‹addç»™åˆé€‚çš„Viewçš„æ–¹å¼æä¾›ç»™Auto Layout Systemï¼Œå°±å®Œæˆäº†ä»£ç å±‚é¢çš„æ·»åŠ çº¦æŸçš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Before-starting&quot;&gt;&lt;a href=&quot;#Before-starting&quot; class=&quot;headerlink&quot; title=&quot;Before starting&quot;&gt;&lt;/a&gt;Before starting&lt;/h3&gt;&lt;p&gt;åœ¨ä½ è¿«ä¸åŠå¾…çš„æƒ³ä¸Šæ‰‹ä¹‹å‰ï¼Œæœ‰ä¸¤ç‚¹åŠ¡å¿…è®°ä½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£ç ä¸Šå¿˜æ‰&lt;code&gt;frame&lt;/code&gt;å’Œ&lt;code&gt;autoresizingMask&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;çˆ¶Viewå½“å‰çš„å¤§å°æ˜¯ä¸å¯é çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºç¬¬ä¸€ç‚¹ï¼Œç”±äºAuto Layout Systemå·²ç»æ¥ç®¡äº†frameçš„è®¾ç½®ï¼Œå¦‚æœä½ å†æ¥æºä¸€è„šï¼Œä¼šæœ‰å¾ˆå¤šè¯¡å¼‚çš„é—®é¢˜ã€‚æ³¨æ„æˆ‘è¯´çš„æ˜¯åœ¨ä»£ç ä¸Šå¿˜æ‰&lt;code&gt;frame&lt;/code&gt;ï¼Œåœ¨æ€è€ƒæŸä¸ªç‰¹å®šViewçš„çº¦æŸæ—¶ï¼Œè¿˜æ˜¯è¦æƒ³åˆ°å®ƒçš„frameçš„æ¦‚å¿µçš„ã€‚å›æƒ³æˆ‘ä»¬çš„frameå¸ƒå±€æ—¶ä»£ï¼Œä¸€ä¸ªframeï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{x, y, width, height}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰å››ä¸ªé‡ï¼Œä¹Ÿå°±æ˜¯è¯´è‡³å°‘éœ€è¦å››ä¸ªé‡æ‰èƒ½ç¡®å®šä¸€ä¸ªViewçš„å¸ƒå±€ï¼Œé€»è¾‘ä¸Šæƒ³æƒ³ç¡®å®æ˜¯é‚£ä¹ˆå›äº‹ã€‚é‚£æˆ‘åœ¨æˆ‘ä»¬æ·»åŠ æŸä¸ªViewçš„çº¦æŸæ—¶ï¼Œä¹Ÿè‡³å°‘éœ€è¦å››ä¸ªçº¦æŸï¼Œæ‰èƒ½ç¡®å®šä¸€ä¸ªViewçš„å¸ƒå±€ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;æ°´å¹³æ–¹å‘ï¼šæˆ‘åœ¨å“ªï¼Ÿæˆ‘å¤šå®½ï¼Ÿ
ç«–ç›´æ–¹å‘ï¼šæˆ‘åœ¨å“ªï¼Ÿæˆ‘å¤šé«˜ï¼Ÿ
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€---- ä¸€ä¸ªViewçš„ç‹¬ç™½
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¿˜æ‰&lt;code&gt;autoresizingMask&lt;/code&gt;åŒç†ã€‚æˆ‘ä»¬ç”šè‡³&lt;strong&gt;å¿…é¡»è¦&lt;/strong&gt;æ˜¾å¼åœ°è®¾ç½®&lt;code&gt;translatesAutoresizingMaskIntoConstraints&lt;/code&gt;æ¥ä¿è¯çº¦æŸçš„æ­£ç¡®è§£æã€‚å½“ä½ åœ¨Auto Layouté‡Œæ‘¸çˆ¬æ»šæ‰“ï¼Œç—›ä¸æ¬²ç”Ÿå´æ— è®ºå¦‚ä½•ä¹Ÿæ²¡æœ‰æ­£ç¡®ä¼˜é›…çš„å¸ƒå±€æ˜ å…¥ä½ çœ¼å¸˜çš„æ—¶å€™ï¼Œä¸€å®šè¦è®°å¾—å›è¿‡å¤´æ¥çœ‹çœ‹ï¼Œæ˜¯ä¸æ˜¯å¿˜è®°æŠŠç›¸å…³Viewçš„è¿™ä¸ªå±æ€§è®¾ç½®ä¸º&lt;code&gt;NO&lt;/code&gt;äº†ï¼&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬äºŒç‚¹ï¼Œè¿™æ˜¯ä¸ºäº†å¼ºè¿«ä½ ç”¨åŠ¨æ€çš„æ€ç»´å»æ€è€ƒè¯¥æ€ä¹ˆæè¿°çº¦æŸã€‚èµ°å‡ºæ ¹æ®çˆ¶Viewçš„boundsæ¥è®¾ç½®å­Viewçš„frameçš„æ—¶ä»£å§ï¼Œenjoy Auto Layoutï¼&lt;/p&gt;
&lt;h3 id=&quot;Add-Constraints&quot;&gt;&lt;a href=&quot;#Add-Constraints&quot; class=&quot;headerlink&quot; title=&quot;Add Constraints&quot;&gt;&lt;/a&gt;Add Constraints&lt;/h3&gt;&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹è®¡åˆ’ç€ç»™Viewæ·»åŠ çº¦æŸäº†ã€‚å‡è®¾ç»™äº†ä½ ä¸€å—åœ°ï¼ˆä¸€ä¸ªViewï¼‰ï¼Œä½ è¦ç»™å®ƒçš„å­Viewä»¬æ·»åŠ çº¦æŸï¼Œç”¨Auto Layoutè¿›è¡Œå¸ƒå±€ï¼Œå¤§è‡´çš„æ€è·¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»™è¿™äº›Viewså¤§è‡´åˆ†åˆ†ç»„ã€‚å½“å­Viewå¾ˆå¤šæ—¶ï¼Œæ²¡å¿…è¦å…¨æŠŠä»–ä»¬å½“å„¿å­ã€‚åˆç†åœ°ç”¨ä¸€äº›Container Viewï¼ŒæŠŠå„¿å­å˜æˆå­™å­ï¼Œè¾¾åˆ°ç®€åŒ–çº¦æŸçš„ç›®çš„ã€‚&lt;/li&gt;
&lt;li&gt;ç¡®å®šå„¿å­ä»¬çš„å¸ƒå±€ä¾èµ–ç­‰çº§å…³ç³»ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè¦æƒ³ç¡®å®šå„¿å­Açš„ä½ç½®ï¼Œé¦–å…ˆæˆ‘å¾—çŸ¥é“å„¿å­Bçš„ä½ç½®ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦å„¿å­Bçš„ä½ç½®ç¡®å®šäº†ï¼Œé‚£ä¹ˆå„¿å­Açš„ä½ç½®å°±èƒ½ç¡®å®šã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾å‡ºé‚£äº›åªä¾èµ–çˆ¶äº²çš„å„¿å­ï¼Œä¹Ÿå³ä¾èµ–å…³ç³»æœ€é¡¶å±‚çš„å„¿å­ï¼ˆä¸€å®šå­˜åœ¨ï¼‰ï¼Œå…ˆæ·»åŠ å®ƒä»¬çš„çº¦æŸã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®ä¾èµ–å…³ç³»å±‚çº§ï¼Œé€çº§æ·»åŠ çº¦æŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Example&quot;&gt;&lt;a href=&quot;#Example&quot; class=&quot;headerlink&quot; title=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªTableViewï¼Œå®ƒçš„æ¯ä¸ªCellä¸­æœ‰ä¸ªImageViewï¼Œæ˜¾ç¤ºä¸€å¼ å›¾ã€‚å¤§è‡´æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/autolayout1.png&quot; width=&quot;40%&quot;&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ç€ä¸Šé¢çš„æ€è·¯ï¼Œå› ä¸ºè¿™ä¸ªçˆ¶äº²ï¼ˆTableView Cellçš„contentViewï¼Œæ³¨æ„ä½¿ç”¨Auto Layoutå¸ƒå±€TableView Cellä¸€å®šè¦æŠŠå„¿å­åŠ åœ¨cotnentViewä¸Šï¼Œä¸ç„¶åœ¨iOS 7ã€8ä¸Šä¼šæœ‰å¾ˆè¯¡å¼‚çš„é—®é¢˜ï¼‰åªæœ‰ä¸€ä¸ªå„¿å­ï¼Œå¸ƒå±€ä¾èµ–å…³ç³»ä¹Ÿå°±å¾ˆæ¸…æ¥šäº†ï¼Œå¼€å§‹æ„æ€çº¦æŸã€‚&lt;/p&gt;
&lt;p&gt;Waitï¼Œåœ¨æ·»åŠ çº¦æŸå‰ï¼Œè¦å…ˆå‘ŠçŸ¥Auto Layout System ImageViewå’Œself.contentViewçš„çˆ¶å­å…³ç³»ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;_imageView = [[UIImageView alloc] init];
_imageView.backgroundColor = [UIColor orangeColor];
_imageView.translatesAutoresizingMaskIntoConstraints = NO; // Don&amp;apos;t forget !!
[self.contentView addSubview:_imageView];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;OKï¼Œé¦–å…ˆï¼Œè¿™ä¸ªImageViewçš„ä¸Šã€å·¦ã€ä¸‹è·ç¦»å®ƒçˆ¹å„20ï¼Œçº¦æŸå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;NSLayoutConstraint *c1 = [NSLayoutConstraint constraintWithItem:_imageView attribute:NSLayoutAttributeLeft
                                                      relatedBy:NSLayoutRelationEqual
                                                         toItem:self.contentView attribute:NSLayoutAttributeLeft
                                                     multiplier:1 constant:20];

NSLayoutConstraint *c2 = [NSLayoutConstraint constraintWithItem:_imageView attribute:NSLayoutAttributeTop
                                                      relatedBy:NSLayoutRelationEqual
                                                         toItem:self.contentView attribute:NSLayoutAttributeTop
                                                     multiplier:1 constant:20];

NSLayoutConstraint *c3 = [NSLayoutConstraint constraintWithItem:_imageView attribute:NSLayoutAttributeBottom
                                                      relatedBy:NSLayoutRelationEqual
                                                         toItem:self.contentView attribute:NSLayoutAttributeBottom
                                                     multiplier:1 constant:-20];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥åˆ†æä¸€ä¸‹ã€‚å‚ç›´æ–¹å‘ï¼Œå½“&lt;code&gt;self.contentView&lt;/code&gt;çš„é«˜åº¦ç¡®å®šåï¼Œç”±äºæˆ‘ä»¬æŒ‡å®šäº†&lt;code&gt;_imageView&lt;/code&gt;çš„ä¸Šä¸‹è¾¹è·ï¼Œåˆ™yå’Œheightéƒ½èƒ½è¢«ç¡®å®šï¼›æ°´å¹³æ–¹å‘ä¸Šï¼Œæˆ‘ä»¬æŒ‡å®šäº†å·¦è¾¹è·ï¼Œèƒ½ç¡®å®šxï¼Œä½†æ˜¯widthä¸èƒ½ç¡®å®šï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªçº¦æŸï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;NSLayoutConstraint *c4 = [NSLayoutConstraint constraintWithItem:_imageView attribute:NSLayoutAttributeWidth
                                                      relatedBy:NSLayoutRelationEqual
                                                         toItem:_imageView attribute:NSLayoutAttributeHeight
                                                     multiplier:1 constant:0];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;c4&lt;/code&gt;å‘Šè¯‰äº†Auto Layout Systemï¼Œ&lt;code&gt;_imageView&lt;/code&gt;çš„é•¿å’Œå®½ç›¸ç­‰ã€‚è¿™æ ·ï¼Œå®ƒçš„çº¦æŸå°±é½æ´»äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œè¿™å››ä¸ªçº¦æŸè¦ç»™è°åŠ ã€‚æ³¨æ„ï¼Œæ¯ä¸ªçº¦æŸè¦åŠ è½½è¿™ä¸ªçº¦æŸæ¶‰åŠåˆ°çš„ä¸¤ä¸ªViewçš„&lt;strong&gt;æœ€å°çˆ¶View&lt;/strong&gt;ä¸Šï¼ŒForgivenessï¼Œè¿™æ˜¯æˆ‘è‡ªå·±æå‡ºçš„æ¦‚å¿µã€‚æ³¨æ„åˆ°&lt;code&gt;c1&lt;/code&gt;ï¼Œ&lt;code&gt;c2&lt;/code&gt;ï¼Œ&lt;code&gt;c3&lt;/code&gt;æ¶‰åŠåˆ°çš„ä¸¤ä¸ªViewæ˜¯&lt;code&gt;self.contentView&lt;/code&gt;å’Œ&lt;code&gt;_imageView&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;_imageView&lt;/code&gt;æ˜¯&lt;code&gt;self.contentView&lt;/code&gt;çš„å­Viewï¼Œå› æ­¤çº¦æŸå°±éœ€è¦åŠ ç»™&lt;code&gt;self.contentView&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[self.contentView addConstraints:@[c1, c2, c3]];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;c4&lt;/code&gt;æ¶‰åŠåˆ°çš„ä¸¤ä¸ªViewæ˜¯&lt;code&gt;_imageView&lt;/code&gt;æœ¬èº«ï¼Œçº¦æŸåŠ ç»™å®ƒè‡ªå·±ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[_imageView addConstraint:c4];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œèµ·æ¥ï¼Œç»“æœå¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7nj23c.com1.z0.glb.clouddn.com/autolayout2.png&quot; width=&quot;30%&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Visual-Format-Language&quot;&gt;&lt;a href=&quot;#Visual-Format-Language&quot; class=&quot;headerlink&quot; title=&quot;Visual Format Language&quot;&gt;&lt;/a&gt;Visual Format Language&lt;/h3&gt;&lt;p&gt;ç»§ç»­ä¸Šé¢çš„ä¾‹å­ã€‚æˆ–è®¸ä½ ä¼šæŠ±æ€¨ï¼Œæ¯ä¸ªViewéƒ½éœ€è¦æè¿™ä¹ˆä¸€å‘ï¼Œå¾—å†™å¤šå°‘ä»£ç å•Šï¼&lt;/p&gt;
&lt;p&gt;è‹¹æœè´´å¿ƒåœ°ç»™æˆ‘ä»¬æäº†ä¸€å¥—å½¢è±¡åœ°è¡¨ç¤ºçº¦æŸçš„æ–¹æ³•â€”â€”Visual Format Languageï¼ˆVFLï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„&lt;code&gt;c1&lt;/code&gt;ï¼Œ&lt;code&gt;c2&lt;/code&gt;ï¼Œ&lt;code&gt;c3&lt;/code&gt;å¯ä»¥è¡¨ç¤ºæˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CGFloat leftMargin = 20;

NSArray *cs = [NSLayoutConstraint constraintsWithVisualFormat:@&amp;quot;H:|-(leftMargin)-[_imageView]&amp;quot;
                                                      options:0 metrics:@{@&amp;quot;leftMargin&amp;quot;: @(leftMargin)}
                                                        views:NSDictionaryOfVariableBindings(_imageView)];
NSArray *cs1 = [NSLayoutConstraint constraintsWithVisualFormat:@&amp;quot;V:|-20-[_imageView]-20-|&amp;quot;
                                                      options:0 metrics:nil
                                                        views:NSDictionaryOfVariableBindings(_imageView)];

[self.contentView addConstraints:cs];
[self.contentView addConstraints:cs1];
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¦æŠŠVFLè¯´å®Œï¼Œå¾—æ–°å†™ä¸€ç¯‡æ–‡ç« äº†å•Šï¼Œç¯‡å¹…é™åˆ¶ï¼Œå°±ä¸å±•å¼€å™è¿°äº†ï¼Œå…·ä½“è¯·çœ‹ï¼š&lt;a href=&quot;https://developer.apple.com/library/prerelease/tvos/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜ç½‘æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åç»­&quot;&gt;&lt;a href=&quot;#åç»­&quot; class=&quot;headerlink&quot; title=&quot;åç»­&quot;&gt;&lt;/a&gt;åç»­&lt;/h3&gt;&lt;p&gt;å¦‚æœè®¤çœŸçœ‹åˆ°è¿™ï¼Œé‚£ä¹ˆç›¸ä¿¡ä½ æ˜¯çœŸçš„å…¥é—¨äº†ã€‚Auto Layoutçš„ä¸œè¥¿è¿˜æœ‰å¾ˆå¤šï¼Œå€¼å¾—ä½ å»èŠ±æ—¶é—´ç»§ç»­æ·±å…¥è°ƒç ”ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œæ¯ä¸ªçº¦æŸè¿˜æœ‰ä¼˜å…ˆçº§ä¹‹åˆ†ã€‚å½“Auto Layout Systemå‘ç°ä½ ç»™å®ƒçš„çº¦æŸæœ‰å†²çªï¼Œå®ƒä¼šæ ¹æ®æœ‰å†²çªçš„çº¦æŸçš„ä¼˜å…ˆçº§è¿›è¡Œä»²è£ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›å…¶å®ƒçš„ä¸œè¥¿æ˜¯å…¥é—¨ä¹‹åéœ€è¦ç»†ç»†ä½“ä¼šçš„ï¼Œæœ€å¥½è‡ªå·±å†™ä¸€äº›Demoã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/#frame-vs-alignment-rect&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Frame vs. Alignment Rect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/#intrinsic-content-size&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Intrinsic Content Size ä»¥åŠ Compression Resistance å’Œ Content Hugging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/#animation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Animation with Auto Layout&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt; &lt;em&gt;å‚è€ƒæ–‡çŒ®&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stacks.11craft.com/cassowary-cocoa-autolayout-and-enaml-constraints.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stacks.11craft.com/cassowary-cocoa-autolayout-and-enaml-constraints.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.informit.com/articles/article.aspx?p=2151265&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.informit.com/articles/article.aspx?p=2151265&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/p/cassowary/wiki/Home/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://sourceforge.net/p/cassowary/wiki/Home/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/a/16281229/1108052&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://stackoverflow.com/a/16281229/1108052&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.objc.io/issues/3-views/advanced-auto-layout-toolbox/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/tvos/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developer.apple.com/library/prerelease/tvos/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;è‡ªæ‰“æˆ‘æ··iOSåœˆä»¥æ¥ï¼Œå†™UIå°±ä½¿ç”¨çš„æ˜¯frameç»å¯¹å¸ƒå±€ã€‚è¯´æ˜¯ã€Œç»å¯¹ã€ï¼Œä½†åœ¨å†™çš„æ—¶å€™ä¹Ÿå·²å¸¦ç€åŠ¨æ€çš„æ€æƒ³äº†ã€‚æ¯”å¦‚ï¼Œå°½å¯èƒ½åœ°ç”¨&lt;code&gt;autoResizingMask&lt;/code&gt;ã€‚ä½†æ˜¯å¯¹äºé‚£ç§maskä¸èƒ½ç”¨çš„åœºæ™¯ï¼Œåœ¨å†™å¸ƒå±€æ—¶å°±åƒåœ¨åšå°å­¦å‡ ä½•é¢˜ï¼Œå¾ˆæ˜¯å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿‘æœŸçš„é¡¹ç›®ä¸­ï¼Œå°è¯•äº†Auto Layoutï¼Œè¯•ç€æŠŠè‡ªå·±çš„å¿ƒå¾—æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
      <category term="AutoLayout" scheme="http://blog.liushuaiko.be/tags/AutoLayout/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Core Textå®ç°æ”¯æŒiOS 6çš„å›¾æ–‡æ··æ’</title>
    <link href="http://blog.liushuaiko.be/blog/2015/05/23/CoreText-Introduction/"/>
    <id>http://blog.liushuaiko.be/blog/2015/05/23/CoreText-Introduction/</id>
    <published>2015-05-23T10:14:21.000Z</published>
    <updated>2016-07-09T05:35:54.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸ºäº†è®©å›¾æ–‡æ··æ’æ”¯æŒiOS 6ï¼Œä¸å¾—ä¸æš‚æ—¶æ”¾å¼ƒå­¦ä¹ TextKitï¼Œä¸è¿‡æ­£å¥½ä¹Ÿå€Ÿç€è¿™ä¸ªæœºä¼šäº†è§£äº†æ–‡å­—æ’ç‰ˆçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œä»¥åŠå¦‚ä½•ç›´æ¥ä½¿ç”¨åº•å±‚çš„Core Text APIï¼Œæ¥è¿›è¡Œå›¾æ–‡æ··æ’ã€‚æ­£æ‰€è°“å‡ºæ¥æ··ï¼Œæ€»æ˜¯è¦è¿˜çš„ï¼Œå­¦ä¸€äº›è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯¹å­¦ä¹ TextKitä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»ä½¿ç”¨Core Textçš„APIï¼Œç»“åˆCore Graphicsæ¥å®ç°æ”¯æŒiOS 6çš„å›¾æ–‡æ··æ’çš„åŸºæœ¬æ€æƒ³åŠæ–¹æ³•ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;æ•ˆæœå›¾é¢„è§ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/CoreTextDemo.png&quot; width=&quot;30%&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;çŸ¥è¯†å‚¨å¤‡&quot;&gt;&lt;a href=&quot;#çŸ¥è¯†å‚¨å¤‡&quot; class=&quot;headerlink&quot; title=&quot;çŸ¥è¯†å‚¨å¤‡&quot;&gt;&lt;/a&gt;çŸ¥è¯†å‚¨å¤‡&lt;/h3&gt;&lt;p&gt;Core Textæ˜¯è¿›è¡Œæ–‡å­—æ’ç‰ˆçš„å·¥å…·ï¼Œä¸ºäº†æ›´ç§°æ‰‹åœ°ä½¿ç”¨å®ƒï¼Œäº†è§£ä¸€äº›æ–‡å­—æ’ç‰ˆçš„åŸºç¡€çŸ¥è¯†å¾ˆæœ‰å¿…è¦ã€‚ä¸ºäº†åç»­ç†è§£æ–¹ä¾¿ï¼Œå¼ºçƒˆå»ºè®®å…ˆé˜…è¯»&lt;a href=&quot;http://geeklu.com/2013/03/core-text/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ç¯‡å¾ˆå¥½çš„æ–‡ç« &lt;/a&gt;ï¼Œæˆ‘å°±ä¸æ‹¾äººç‰™æ…§äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç¥­å‡ºè¿™ä¸¤å¹…å¹…ç¥å›¾è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/glyphterms.png&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/glyphmetrics.png&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;
&lt;p&gt;åŸºäºä¸Šå›¾ï¼Œæœ‰å‡ ä¸ªç‚¹è¿˜æ˜¯éœ€è¦å¼ºè°ƒä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Baselineï¼ŒåŸºçº¿ã€‚æƒ³æƒ³ä½ æ˜¯å¦‚ä½•åœ¨å››çº¿ä¸‰æ ¼çº¸ä¸Šå†™è‹±æ–‡å­—æ¯çš„ï¼ŒåŸºçº¿å°±ç›¸å½“äºç¬¬ä¸‰æ¡çº¿&lt;/li&gt;
&lt;li&gt;Line Originï¼Œè¡ŒåŸç‚¹ã€‚æŠŠä¸€æ©«è¡Œæ–‡å­—çš„åŸºçº¿çœ‹æˆæ˜¯ä¸€æ¡çº¿æ®µï¼Œçº¿æ®µçš„èµ·ç‚¹å°±æ˜¯è¿™è¡Œçš„Line Origin&lt;/li&gt;
&lt;li&gt;Ascentï¼Œä¸Šé«˜ã€‚ä¸€è¡Œæ–‡å­—ï¼Œå…±äº«ä¸€æ¡åŸºçº¿ï¼Œæœ€é«˜çš„å­—å½¢åˆ°åŸºçº¿çš„é«˜å°±æ˜¯ä¸Šé«˜ï¼Œæ˜¯ä¸€ä¸ªæ­£å€¼&lt;/li&gt;
&lt;li&gt;Descentï¼Œä¸‹é«˜ã€‚åŒAscentï¼Œæœ€æ·±çš„å­—å½¢åˆ°åŸºçº¿çš„é«˜å°±æ˜¯ä¸‹é«˜ï¼Œæ˜¯ä¸€ä¸ªè´Ÿå€¼&lt;/li&gt;
&lt;li&gt;leadingï¼Œè¡Œè·ã€‚è¡Œä¸è¡Œä¹‹é—´çš„è·ç¦»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆå†å›è¿‡å¤´æ¥çœ‹Core Textä¸­ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µä»¥åŠå¯¹åº”çš„ç±»ã€‚&lt;/p&gt;
&lt;p&gt;è¿›è¡Œæ–‡å­—çš„ç»˜åˆ¶ï¼Œæ€»å¾—æœ‰ä¸ªåœ°æ–¹å§ï¼ä¹Ÿå³æ€»å¾—å‘Šè¯‰CTåœ¨é‚£å—æŠŠå­—ç»™ç”»å‡ºæ¥ï¼Ÿè¿™ä¸ªæ‰€è°“çš„ã€Œåœ°æ–¹ã€ï¼Œå°±æ˜¯CTFrameã€‚&lt;br&gt;åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸æ˜¯ç”¨ä¸€ä¸ªAttributedStringæ¥åˆå§‹åŒ–ä¸€ä¸ªCTFrameçš„å·¥å‚&lt;code&gt;CTFramesetter&lt;/code&gt;ï¼Œç„¶åç”¨è¿™ä¸ªå·¥å‚ç»“åˆä¸€ä¸ª&lt;code&gt;CGPath&lt;/code&gt;ï¼Œæ¥å¾—åˆ°ä¸€ä¸ªCTFrameã€‚&lt;/p&gt;
&lt;p&gt;CTåœ¨CTFrameä¸Šç»˜åˆ¶æ–‡å­—çš„æ—¶å€™ï¼Œä¸ä¼šè¶…å‡ºè¿™ä¸ªFrameï¼Œä¸€è¡Œæ˜¾ç¤ºä¸ä¸‹ï¼Œæ–°èµ·ä¸€è¡Œï¼Œã€Œè¡Œã€åœ¨CTä¸­çš„å¯¹è±¡æ¨¡å‹å°±æ˜¯CTLineã€‚&lt;br&gt;å¯¹äºæ¯ä¸€è¡Œï¼Œå…·æœ‰ç›¸åŒå±æ€§ï¼ˆå¯¹ï¼Œå°±æ˜¯ä½ ç»™AttributedStringæ·»åŠ çš„å±æ€§ï¼‰çš„ç´§æŒ¨ç€çš„å­—å½¢é›†åˆä½“ï¼Œè¢«ç§°ä¸ºä¸€ä¸ªCTRunã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªRunåœ¨æ¸²æŸ“çš„æ—¶å€™ï¼Œå¦‚æœè®¾ç½®äº†CTRunDelegateï¼Œé‚£ä¹ˆä¾¿ä¼šå‘å®ƒçš„Delegateè¯¢é—®ä¸€äº›ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿™ä¸ªRunçš„Ascentã€Descentï¼Œä»¥åŠå®½åº¦ç­‰ç­‰ã€‚æ³¨æ„CTæ˜¯ä¸€ä¸ªCçº§åˆ«çš„åº“ï¼ŒCTRunDelegateä¹Ÿæ˜¯é€šè¿‡Cè¯­è¨€ä¸­å‡½æ•°æŒ‡é’ˆæ¥å®Œæˆè®¾ç½®çš„ï¼Œè¯¦è§ä¸‹é¢çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³Core Textçš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µå¯ä»¥å‚è€ƒä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/coretextterms.png&quot; alt=&quot;coretextterms.png&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;åŸºæœ¬æ€æƒ³&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ€æƒ³&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬æ€æƒ³&quot;&gt;&lt;/a&gt;åŸºæœ¬æ€æƒ³&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨Core Textæ¥è¿›è¡Œæ’ç‰ˆï¼ˆtypesetï¼‰å’Œæ–‡å­—çš„ç»˜åˆ¶ï¼Œå¹¶åˆ©ç”¨å…¶è·å–å›¾ç‰‡ä½ç½®ï¼Œä½¿ç”¨Core Graphicsè¿›è¡Œå›¾ç‰‡çš„ç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†æˆä¸¤æ­¥ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨CTè¿›è¡Œæ–‡å­—çš„æ’ç‰ˆå’Œç»˜åˆ¶ï¼Œä¸ºè¯¥æ˜¾ç¤ºå›¾ç‰‡çš„åœ°æ–¹ç•™å‡ºä½ç½®&lt;/li&gt;
&lt;li&gt;éå†æ¯ä¸€è¡Œï¼ŒæŒ‰è¡Œç”»å‡ºè¿™è¡Œçš„å›¾ç‰‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Go-Go-Go&quot;&gt;&lt;a href=&quot;#Go-Go-Go&quot; class=&quot;headerlink&quot; title=&quot;Go Go Go&quot;&gt;&lt;/a&gt;Go Go Go&lt;/h3&gt;&lt;p&gt;åœ¨å¯¹åŸºæœ¬çš„æ¦‚å¿µä»¥åŠæ€æƒ³äº†è§£å„å¤§æ¦‚åï¼Œä¾¿å¯ä»¥åŠ¨æ‰‹æ¥å®ç°äº†ï¼&lt;/p&gt;
&lt;p&gt;ä¸”æ…¢ï¼Œä¸ºäº†æµ‹è¯•ç»“æœæ›´åŠ ç›´è§‚ï¼Œæˆ‘ä»¬å…ˆç¼–å†™ä¸€äº›å·¥å…·æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- (void)drawBorder:(CGRect)rect inContext:(CGContextRef)context {
    CGPathRef rectBorderPath = CGPathCreateWithRect(rect, NULL);
    [[UIColor redColor] setStroke];
    CGContextAddPath(context, rectBorderPath);
    CGContextDrawPath(context, kCGPathStroke);
    CFRelease(rectBorderPath);
}

- (void)drawPoint:(CGPoint)point inContext:(CGContextRef)context {
    CGContextFillRect(context, CGRectMake(point.x, point.y, 2, 2));
}

// å…ˆè½¬æ¢åæ ‡ç³»å†ç”»ç‚¹
- (void)drawPoint:(CGPoint)point inContext:(CGContextRef)context inRect:(CGRect)rect {
    UIView *view = [[UIView alloc] initWithFrame:rect];
    view.backgroundColor = [UIColor yellowColor];
    [self addSubview:view];
    CGPoint pointInSelf = [self convertPoint:point fromView:view];
    [view removeFromSuperview];
    [self drawPoint:pointInSelf inContext:context];
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç»ˆäºå¯ä»¥ä¸Šå…³é”®ä»£ç äº†ï¼Œä»£ç ä¸­æ³¨é‡Šå·²ç»å¾ˆç¿”å®äº†ï¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- (void)drawRect:(CGRect)rect {
    [super drawRect:rect];

    CGContextRef context = UIGraphicsGetCurrentContext();

    // ç¿»è½¬åæ ‡ç³»
    CGContextSetTextMatrix(context, CGAffineTransformIdentity);
    CGContextTranslateCTM(context, 0, CGRectGetHeight(self.bounds));
    CGContextScaleCTM(context, 1.0, -1.0);

    // å¯ä»¥åœ¨ç¿»è½¬åæ ‡ç³»ä¹‹å‰ä¹Ÿç”»ä¸ªçº¢ç»¿è‰²å—æ¥å¯¹æ¯”åæ ‡ç³»Yè½´ç¿»è½¬çš„æ•ˆæœ
    CGContextSetRGBFillColor (context, 1, 0, 0, 1);
    CGContextFillRect (context, CGRectMake (100, 100, 100, 100 ));
    CGContextSetRGBFillColor (context, 0, 1, 0, .5);
    CGContextFillRect (context, CGRectMake (150, 205, 100, 100));

    // å‡†å¤‡CGPathï¼Œç”¨äºCTFrameçš„æ„é€ 
    CGMutablePathRef path = CGPathCreateMutable();
    CGFloat frameOffsetX = 20.0f;
    CGFloat frameOffsetY = 20.0f;
    CGRect textFrame = CGRectInset(self.bounds, frameOffsetX, frameOffsetY);
    CGPathAddRect(path, NULL, textFrame);

    [self drawBorder:textFrame inContext:context];

    // è£…æ–‡å­—çš„AttributedString
    NSMutableAttributedString *str = [[NSMutableAttributedString alloc] initWithString:@&amp;quot;Our destiny offers not the cup of despair, but the chalice of opportunity. So let us seize it, not in fear, but in gladness.â€”â€”R.M. Nixon&amp;quot; attributes:@{NSForegroundColorAttributeName: [UIColor greenColor], NSFontAttributeName: [UIFont systemFontOfSize:22]}];

    // æ„é€ CTRunDelegateï¼Œç”¨ä»¥ç»™å ç€å›¾ç‰‡ä½ç½®çš„ç©ºå­—ç¬¦çš„CTRunä½œä¸ºDelegateï¼Œæä¾›è¿™äº›Runçš„å®½ã€ä¸Šä¸‹é«˜ç­‰
    NSDictionary *attrs = @{@&amp;quot;key&amp;quot;: @&amp;quot;vars.me&amp;quot;};
    CTRunDelegateCallbacks imageCallbacks;
    imageCallbacks.version = kCTRunDelegateVersion1;
    imageCallbacks.dealloc = deallocCallback;
    imageCallbacks.getDescent = descentCallback;
    imageCallbacks.getAscent = ascentCallback;
    imageCallbacks.getWidth = widthCallback;
    // http://stackoverflow.com/a/12919404/1108052
    CTRunDelegateRef runDelegate = CTRunDelegateCreate(&amp;amp;imageCallbacks, (void *)CFBridgingRetain(attrs)); // ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¼ ç»™callBackå‡½æ•°çš„void *ç±»å‹çš„å‚æ•°

    // éšæœºæ„é€ å‡ ä¸ªè£…æœ‰å›¾ç‰‡å ä½ç¬¦çš„AttributedStringï¼Œæ’å…¥åˆ°ä¸Šé¢è£…æ–‡å­—çš„AttributedStringä¸­
    unichar space = 0xFFFC; // å›¾ç‰‡å ä½ç¬¦ï¼Œä¸ºä»€ä¹ˆç”¨0xFFFCä¸‹è¿°è¯¦æƒ…
    NSString *spaceStr = [NSString stringWithCharacters:&amp;amp;space length:1];
    // è£…æœ‰å›¾ç‰‡å ä½ç¬¦çš„AttributedStringï¼Œæ³¨æ„ï¼Œå…¶å±æ€§ä¸­æœ‰ä¸€ä¸ª@&amp;quot;imageName&amp;quot;å±æ€§ï¼Œè¿™æ˜¯æˆ‘ä»¬åŒºåˆ«ä¸€ä¸ªRunæ˜¯å¦æ˜¯å›¾ç‰‡Runçš„æ ‡è¯†ï¼Œè§ä¸‹é¢éå†æ¯è¡ŒRunéƒ¨åˆ†
    NSMutableAttributedString *imageStr = [[NSMutableAttributedString alloc] initWithString:spaceStr attributes:@{(NSString *)kCTRunDelegateAttributeName: (__bridge id)runDelegate, @&amp;quot;imageName&amp;quot;: @&amp;quot;001.png&amp;quot;}];
    [str insertAttributedString:imageStr atIndex:5];
    [str insertAttributedString:imageStr atIndex:55];
    [str insertAttributedString:imageStr atIndex:75];
    [str insertAttributedString:imageStr atIndex:105];
    [str insertAttributedString:imageStr atIndex:135];

    // æ„é€ CTFrame
    CTFramesetterRef framesetter = CTFramesetterCreateWithAttributedString((CFAttributedStringRef)str);
    CTFrameRef frame = CTFramesetterCreateFrame(framesetter, CFRangeMake(0, str.length), path, NULL);

    // å¾—åˆ°Frameä¸­çš„æ¯ä¸€è¡Œï¼Œè£…åœ¨ä¸€ä¸ªCFArrayé‡Œ
    CFArrayRef lines = CTFrameGetLines(frame);

    // å¾—åˆ°æ¯ä¸€è¡Œçš„Line Originï¼ˆè§ä¸Šè¿°çŸ¥è¯†å‚¨å¤‡éƒ¨åˆ†ï¼‰ï¼Œç”¨ä»¥è®¡ç®—æ¯ä¸€è¡Œçš„å›¾ç‰‡ä½ç½®ï¼Œæ³¨æ„ï¼Œå¾—åˆ°çš„ç‚¹æ˜¯ä»¥CTFrameä¸ºåæ ‡ç³»çš„åæ ‡
    CGPoint lineOrigins[CFArrayGetCount(lines)];
    CTFrameGetLineOrigins(frame, CFRangeMake(0, 0), lineOrigins);

    // ä¸‹é¢éå†Frameä¸­çš„æ¯ä¸€è¡Œï¼Œé€è¡Œç»˜åˆ¶å›¾ç‰‡
    for (CFIndex i = 0; i &amp;lt; CFArrayGetCount(lines); ++i) {
        CTLineRef line = CFArrayGetValueAtIndex(lines, i);

        [self drawPoint:lineOrigins[i] inContext:context inRect:textFrame];

        // å¾—åˆ°è¿™è¡Œä¸­çš„æ‰€æœ‰CTRunï¼ŒçŠ¶æ€ä¸€ä¸ªCFArrayé‡Œ
        CFArrayRef runs = CTLineGetGlyphRuns(line);

        // éå†è¿™è¡Œæ‰€æœ‰Run
        for (CFIndex j = 0; j &amp;lt; CFArrayGetCount(runs); ++j) {
            CTRunRef run = CFArrayGetValueAtIndex(runs, j);
            NSDictionary *attrs = (NSDictionary *)CTRunGetAttributes(run);

            // å¦‚æœæŸä¸ªRunçš„@&amp;quot;imageName&amp;quot;å±æ€§ä¸ä¸ºç©ºï¼Œåˆ™è¯´æ˜è¿™ä¸ªRunæ˜¯å›¾ç‰‡å ä½ç¬¦ï¼Œå¼€å§‹è®¡ç®—è¿™ä¸ªRunçš„ä½ç½®ï¼Œç”¨CGç”»å›¾
            NSString *imageName = attrs[@&amp;quot;imageName&amp;quot;];
            if (imageName) {
                CGPoint lineOrigin = lineOrigins[i];

                CGRect imageRunBounds; // æ³¨æ„ï¼šå¾—åˆ°çš„imageRunçš„boundsï¼Œä¹Ÿæ˜¯åœ¨CTFrameåæ ‡ç³»ä¸­
                CGFloat imageRunAsent, imageRunDecent;
                imageRunBounds.size.width = CTRunGetTypographicBounds(run, CFRangeMake(0, 0), &amp;amp;imageRunAsent, &amp;amp;imageRunDecent, NULL);
                imageRunBounds.size.height = imageRunAsent + imageRunDecent;
                imageRunBounds.origin.x = lineOrigin.x + CTLineGetOffsetForStringIndex(line, CTRunGetStringRange(run).location, NULL);
                imageRunBounds.origin.y = lineOrigin.y;

                // å¼€å§‹ç”»å›¾
                UIImage *image = [UIImage imageNamed:imageName];
                if (image) {
                    // æ³¨æ„ï¼šç”»å›¾æ—¶ç”±äºæ˜¯åœ¨å½“å‰Viewçš„Contextä¸­ï¼Œå› æ­¤æˆ‘ä»¬è¦æ ¹æ®CTFrameåæ ‡ç³»ä¸­çš„imageRunBoundsï¼Œè½¬æ¢æˆåœ¨Viewåæ ‡ç³»çš„imageDrawRect
                    CGRect imageDrawRect;
                    imageDrawRect.origin.x = imageRunBounds.origin.x + lineOrigin.x + frameOffsetX;
                    imageDrawRect.origin.y = imageRunBounds.origin.y +  frameOffsetY;
                    imageDrawRect.size = imageRunBounds.size;

                    // ç”¨CGç”»å›¾
                    CGContextDrawImage(context, imageDrawRect, image.CGImage);

                    [self drawBorder:imageDrawRect inContext:context];
                }
            }
        }
    }

    CTFrameDraw(frame, context);

    CFRelease(runDelegate);
    CFRelease(frame);
    CFRelease(path);
    CFRelease(framesetter);
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;CTRunDelegateçš„å›è°ƒå‡½æ•°ä»£ç å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#pragma mark - CTRunDelegate

void deallocCallback(void* ref) {
    CFBridgingRelease(ref);
}

CGFloat ascentCallback(void *ref) {

    NSDictionary *attr = (__bridge NSDictionary *)ref;
    NSLog(@&amp;quot;%@&amp;quot;, attr[@&amp;quot;key&amp;quot;]);

    return 32;
}

CGFloat descentCallback(void* ref) {
    return 0;
}

CGFloat widthCallback(void* ref) {
    return 32;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯¹ä»£ç çš„ç†è§£å¯ä»¥ç»“åˆä¸‹å›¾ï¼ˆä½¿ç”¨Sketchç”»çš„ï¼ŒçœŸæ˜¯ä¸ªå¥½å·¥å…·ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/CoreTextCode.png&quot; alt=&quot;CoreTextCode.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå…³äºä¸Šé¢çš„ä»£ç æœ‰å‡ ç‚¹è¡¥å……ï¼Œä¸€æ˜¯åæ ‡ç³»Yè½´ç¿»è½¬çš„é—®é¢˜ï¼Œå‰é¢æ¨èè¿‡çš„é‚£ç¯‡å¾ˆå¥½çš„æ–‡ç« å·²ç»è¯´çš„å¾ˆè¯¦ç»†äº†ï¼Œè¿™é‡Œå°±ä¸åšèµ˜è¿°äº†ï¼›äºŒæ˜¯ä¸ºä»€ä¹ˆå ä½ç¬¦è¦é€‰æ‹©0xFFFCï¼Œæœ‰ä¸¤æ–¹é¢åŸå› ï¼Œä¸€ä¸ªæ˜¯&lt;code&gt;kCTRunDelegateAttributeName&lt;/code&gt;çš„å®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨è¿™ä¸ªå€¼ï¼ŒäºŒæ˜¯ç»è¿‡æˆ‘è‡ªå·±çš„æµ‹è¯•(iPhone 5)ï¼Œä½¿ç”¨è¿™ä¸ªå€¼æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼Œè‡ªåŠ¨æŠŠä¸€ä¸ªimageRunå½“æˆä¸€ä¸ªå•è¯å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/CTCompare.png&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡çŒ®&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://geeklu.com/2013/03/core-text/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Core Text å…¥é—¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.raywenderlich.com/4147/core-text-tutorial-for-ios-making-a-magazine-app&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Core Text Tutorial for iOS: Making a Magazine App&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.devtang.com/blog/2013/10/21/the-tech-detail-of-ape-client-3/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;çŒ¿é¢˜åº“iOSå®¢æˆ·ç«¯çš„æŠ€æœ¯ç»†èŠ‚ï¼ˆä¸‰ï¼‰ï¼šåŸºäºCoreTextçš„æ’ç‰ˆå¼•æ“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/library/prerelease/ios/documentation/Carbon/Reference/CoreText_Framework_Ref/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Core Text Reference Collection&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ºäº†è®©å›¾æ–‡æ··æ’æ”¯æŒiOS 6ï¼Œä¸å¾—ä¸æš‚æ—¶æ”¾å¼ƒå­¦ä¹ TextKitï¼Œä¸è¿‡æ­£å¥½ä¹Ÿå€Ÿç€è¿™ä¸ªæœºä¼šäº†è§£äº†æ–‡å­—æ’ç‰ˆçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼Œä»¥åŠå¦‚ä½•ç›´æ¥ä½¿ç”¨åº•å±‚çš„Core Text APIï¼Œæ¥è¿›è¡Œå›¾æ–‡æ··æ’ã€‚æ­£æ‰€è°“å‡ºæ¥æ··ï¼Œæ€»æ˜¯è¦è¿˜çš„ï¼Œå­¦ä¸€äº›è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯¹å­¦ä¹ TextKitä¹Ÿæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»ä½¿ç”¨Core Textçš„APIï¼Œç»“åˆCore Graphicsæ¥å®ç°æ”¯æŒiOS 6çš„å›¾æ–‡æ··æ’çš„åŸºæœ¬æ€æƒ³åŠæ–¹æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
      <category term="CoreText" scheme="http://blog.liushuaiko.be/tags/CoreText/"/>
    
  </entry>
  
  <entry>
    <title>UICollectionViewçš„æ•°æ®é¢„åŠ è½½åŠå›¾ç‰‡åŠ è½½é€»è¾‘çš„ä¼˜åŒ–</title>
    <link href="http://blog.liushuaiko.be/blog/2015/04/26/UICollectionView-Optimizing/"/>
    <id>http://blog.liushuaiko.be/blog/2015/04/26/UICollectionView-Optimizing/</id>
    <published>2015-04-26T09:26:34.000Z</published>
    <updated>2016-07-09T05:35:41.000Z</updated>
    
    <content type="html">&lt;p&gt;å½“Appä¸­ä½¿ç”¨äº†&lt;code&gt;UICollectionView&lt;/code&gt;ä»¥ç€‘å¸ƒæµçš„å½¢å¼æ¥å‘ˆç°æ•°æ®æ—¶ï¼Œç«™åœ¨ç”¨æˆ·çš„è§’åº¦ï¼Œç”¨æˆ·åœ¨è‡ªä¸Šè‡³ä¸‹ä¸€é¡µä¸€é¡µæµè§ˆè¿™äº›å†…å®¹çš„è¿‡ç¨‹ä¸­ï¼Œå½“ç”¨æˆ·æ„Ÿåˆ°æ»‘åŠ¨å¾ˆæµç•…è‡ªç„¶ï¼Œæ¯é¡µå†…å®¹ä»æ— åˆ°æœ‰éœ€è¦ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´å¾ˆçŸ­ç”šè‡³å‡ ä¹æ„Ÿè§‰ä¸åˆ°ï¼Œé‚£ä¹ˆ&lt;code&gt;UICollectionView&lt;/code&gt;æ‰ä¼šå¸¦ç»™ç”¨æˆ·ä¸€ä¸ªå¾ˆå¥½çš„ä½“éªŒã€‚æœ¬æ–‡ä»‹ç»äº†ä¸ºäº†è¾¾åˆ°è¿™ä¸¤ä¸ªç›®çš„æ‰€ä½œå‡ºçš„ä¸€äº›å®¢æˆ·ç«¯çš„ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;æ•°æ®çš„é¢„åŠ è½½&quot;&gt;&lt;a href=&quot;#æ•°æ®çš„é¢„åŠ è½½&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®çš„é¢„åŠ è½½&quot;&gt;&lt;/a&gt;æ•°æ®çš„é¢„åŠ è½½&lt;/h3&gt;&lt;p&gt;æ•°æ®é¢„åŠ è½½çš„ç›®çš„æ˜¯ä¸å¿…ç­‰åˆ°ç”¨æˆ·æŸä¸€æ—¶åˆ»æµè§ˆåˆ°CollectionViewçš„æœ«å°¾äº†ï¼Œä¹Ÿå³æœ¬åœ°å·²ç»æ²¡æœ‰æ›´å¤šæ•°æ®å±•ç¤ºäº†æ‰å»å‘è¯·æ±‚æ‹¿ä¸‹ä¸€é¡µæ•°æ®ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªé¢„åˆ¤ï¼Œç”¨æˆ·å°±å¿«è¦çœ‹å®Œæœ¬åœ°çš„æ•°æ®äº†ï¼Œå¯ä»¥å‘Serverè¦ä¸‹ä¸€é¡µæ•°æ®äº†ï¼&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®ç°é¢„åŠ è½½ï¼Œæœ€å¼€å§‹çš„æ–¹æ¡ˆæ˜¯åœ¨UIå±‚é¢çš„é¢„åˆ¤ã€‚æ ¹æ®&lt;code&gt;UICollectionView&lt;/code&gt;çš„åŸºç±»æ˜¯&lt;code&gt;UIScrollView&lt;/code&gt;ï¼Œå¤§è‡´æ€è·¯æ˜¯å¯¹äºæ²¿ç«–ç›´æ–¹å‘æ»šåŠ¨çš„CollectionViewï¼Œè€ƒå¯Ÿå®ƒçš„&lt;code&gt;contentOffset.y&lt;/code&gt;å’Œ&lt;code&gt;conetntSize.height&lt;/code&gt;ï¼Œç»“åˆCollectionViewçš„&lt;code&gt;frame.size.height&lt;/code&gt;ï¼Œå¯ä»¥è®¡ç®—CollectionViewå…¨éƒ¨å†…å®¹åº•ä¸‹è¿˜æœ‰å¤šé«˜æ²¡å±•ç¤ºå‡ºæ¥ï¼Œå¦‚æœé«˜åº¦å°äºæˆ‘ä»¬é¢„å…ˆè®¾å®šçš„é˜ˆå€¼ï¼ˆç”¨æˆ·å¿«æ»‘åˆ°åº•äº†ï¼‰ï¼Œé‚£ä¹ˆå°±è§¦å‘åŠ è½½ä¸‹ä¸€é¡µçš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åšä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œå…¶å®å¹¶ä¸ä¼˜é›…ã€‚ä¸€æ–¹é¢ï¼Œä¸€æ—¦æœ‰UIè°ƒæ•´çš„éœ€æ±‚ï¼ŒCollectionViewæ¯è¡Œçš„é«˜åº¦æœ‰è°ƒæ•´æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦å»è°ƒæ•´é˜ˆå€¼ï¼Œæ¥å†³å®šæ˜¯å¦å»è¯·æ±‚ä¸‹ä¸€é¡µæ•°æ®ï¼›å¦ä¸€æ–¹é¢ï¼ŒAppä¸­ä¸åŒåœºæ™¯ä¸‹çš„CollectionViewæ¯è¡Œé«˜åº¦ä¸åŒï¼Œéœ€è¦æ ¹æ®ä¸åŒåœºæ™¯å»Tuningï¼Œæ‰¾å‡ºåˆé€‚çš„é˜ˆå€¼ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥å¾ˆè‡ªç„¶æƒ³åˆ°åœ¨é€»è¾‘ä¸Šè¿›è¡Œé¢„åˆ¤ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;UICollectionView&lt;/code&gt;æ¯ä¸ªCelléƒ½éœ€è¦ä¸€ä¸ªæ•°æ®æ¨¡å‹å¯¹è±¡ï¼ˆData Transfer Objectï¼Œä¸‹ç§°DTOï¼‰æ¥æ”¯æŒå®ƒçš„æ˜¾ç¤ºï¼Œé€šå¸¸å®¢æˆ·ç«¯æ‹¿åˆ°çš„æœåŠ¡ç«¯è¿”å›çš„æ•°æ®åï¼Œåšä¸€ç³»åˆ—çš„è§£æï¼Œå¾—åˆ°ä¸€ä¸ªä¸€ä¸ªDTOï¼Œç”¨ä»¥æ”¯æŒCollectionViewçš„å±•ç¤ºã€‚åˆ°ä»£ç å±‚é¢DTOä»¬è¢«ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œä»»æ„æ—¶åˆ»åœ¨æ­£ç¡®çš„çŠ¶æ€ä¸‹&lt;code&gt;UICollectionView&lt;/code&gt;çš„æ€»Cellæ•°é‡åº”è¯¥è·Ÿå½“å‰æœ¬åœ°DTOçš„ä¸ªæ•°ç›¸ç­‰ï¼ŒCellè·ŸDTOæ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œ&lt;strong&gt;æ•°æ®çš„é¢„åŠ è½½æœ¬è´¨ä¸Šå°±æ˜¯DTOçš„é¢„åŠ è½½&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·åœ¨æ»šåŠ¨&lt;code&gt;UICollectionView&lt;/code&gt;æ—¶ï¼Œå½“&lt;code&gt;UICollectionView&lt;/code&gt;æ ¹æ®é¢„å®šçš„é…ç½®è§‰å¾—å®ƒè¯¥å±•ç¤ºæŸè¡ŒæŸåˆ—çš„Cellæ—¶ï¼Œä¼šå‘å®ƒçš„DataSource[2]å‘é€&lt;code&gt;collectionView:cellForItemAtIndexPath:&lt;/code&gt;æ¶ˆæ¯[3]ï¼Œè¯¢é—®é‚£è¡Œé‚£åˆ—è¯¥å±•ç¤ºä»€ä¹ˆï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªCellå¯¹è±¡ï¼Œ&lt;code&gt;UICollectionView&lt;/code&gt;æ‹¿åˆ°è¿™ä¸ªCellåå°±æŠŠå®ƒå±•ç¤ºåœ¨ç›¸åº”ä½ç½®ã€‚é€šå¸¸è¿™ä¸ªæ–¹æ³•ä¸­è¦åšçš„é‡è¦äº‹æƒ…å°±æ˜¯å»ä¸Šæ–‡æåˆ°çš„ä¿å­˜DTOçš„æ•°ç»„ä¸­æ ¹æ®Cellçš„è¡Œåˆ—ç´¢å¼•æ‰¾åˆ°è¿™ä¸ªCellå¯¹åº”çš„DTOï¼Œæ ¹æ®DTOå¯¹Cellé…ç½®ä¸€ç•ªï¼Œè¿”å›ç»™&lt;code&gt;UICollectionView&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt; é¡ºç€è¿™ä¸ªæ€è·¯ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥çŸ¥é“å½“å‰&lt;code&gt;UICollectionView&lt;/code&gt;éœ€è¦å±•ç¤ºçš„Cellçš„ç´¢å¼•ï¼Œç”±äºCellè·ŸDTOæ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œé‚£æˆ‘ä»¬ä¹ŸçŸ¥é“äº†å½“å‰éœ€è¦çš„DTOåœ¨æ€»æ•°æ®æ¨¡å‹å¯¹è±¡ä¸­çš„ç´¢å¼•ï¼Œå½“å‰©ä¸‹çš„æ•°æ®æ¨¡å‹å¯¹è±¡ä¸å¤Ÿæ”¯æŒä¸€é¡µçš„æ˜¾ç¤ºæ—¶ï¼Œå°±å»è¯·æ±‚ä¸‹ä¸€é¡µã€‚&lt;/p&gt;
&lt;p&gt;è¡¨è¾¾çš„å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œå‡è®¾è¯·æ±‚ä¸€æ¬¡Serverè¿”å›20ä¸ªDTOï¼Œè¿‡ç¨‹å¯ä»¥æ›´å½¢è±¡åŒ–ä¸€ç‚¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- CollectionView: æ•°æ®æºæ•°æ®æºï¼Œç”¨æˆ·æ»‘åˆ°ç¬¬181ä¸ªCellè¦éœ²å‡ºæ¥äº†ï¼Œå¿«ç»™æˆ‘ï¼
- DataSource: å¥½çš„ï¼Œæˆ‘é¦–å…ˆè¦å»æ‹¿ç¬¬181ä¸ªCellå¯¹åº”çš„DTOï¼Œæ ¹æ®è¿™ä¸ªé…ç½®å¥½ä¸€ä¸ªCellç»™ä½ å»å±•ç¤ºï¼
ç­‰ç­‰ï¼Œä½ éƒ½å·²ç»å±•ç¤ºåˆ°ç¬¬181ä¸ªCelläº†å•Šï¼æˆ‘å‘ç°DTOç›®å‰æœ¬åœ°æ€»å…±åªæœ‰200ä¸ªï¼Œ200 - 181 = 19 &amp;lt; 20ä¸å¤Ÿæ”¯æŒä½ å±•ç¤ºä¸‹ä¸€é¡µæ‰€éœ€è¦çš„20ä¸ªCelläº†ï¼Œæˆ‘å…ˆå‘èµ·ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œå»æ‹¿æ–°ä¸€é¡µçš„DTOï¼
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…³é”®ä»£ç ï¼Œå¾ˆç®€å•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;NSUInteger countOfDataModel = dataModel.count; // ç›®å‰æœ¬åœ°æœ‰çš„DTOæ•°é‡
NSUInteger currentRequestIndex = indexPath.row; // å½“å‰éœ€è¦çš„Cellç´¢å¼•ï¼Œä¹Ÿå³å½“å‰éœ€è¦çš„æ•°æ®æ¨¡å‹ç´¢å¼•

if (countOfDataModel - currentRequestIndex &amp;lt; 19) {
    [self fetchNextPageAsync];
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¦æ³¨æ„çš„é—®é¢˜æ˜¯è¦åšå¥½é˜²æ­¢é‡å¤å‘é€è¯·æ±‚çš„ä¿æŠ¤å·¥ä½œã€‚&lt;/p&gt;
&lt;h3 id=&quot;å›¾ç‰‡åŠ è½½é€»è¾‘ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡åŠ è½½é€»è¾‘ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡åŠ è½½é€»è¾‘ä¼˜åŒ–&quot;&gt;&lt;/a&gt;å›¾ç‰‡åŠ è½½é€»è¾‘ä¼˜åŒ–&lt;/h3&gt;&lt;p&gt;å½“&lt;code&gt;UICollectionView&lt;/code&gt;çš„æ¯ä¸ªCelléƒ½éœ€è¦å±•ç¤ºä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰å›¾ç‰‡æ—¶ï¼Œåœ¨ä¸Šæ–‡æåˆ°çš„æ ¹æ®DTOé…ç½®Cellè¿‡ç¨‹ä¸­ï¼Œä¼šæ ¹æ®DTOä¸­æŒ‡å®šçš„å›¾ç‰‡çš„URLï¼Œå‘é€ä¸€ä¸ªå¼‚æ­¥çš„å›¾ç‰‡è¯·æ±‚ï¼Œç­‰åˆ°å›¾ç‰‡è¯·æ±‚å®Œæ¯•äº†ï¼Œå†æŠŠå›¾ç‰‡å±•ç¤ºåˆ°å¯¹åº”çš„Cellä¸Šï¼ˆå½“ç„¶ï¼Œå¯ä»¥æŠŠè¿™ä¸€åˆ‡äº¤ç»™&lt;code&gt;SDWebImage&lt;/code&gt;: ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ–è®¸ä½ ä¼šé—®ï¼ŒåŠ è½½å›¾ç‰‡å·²ç»æ˜¯å¼‚æ­¥äº†å•Šï¼Œæˆ‘è¿˜è¦ä¼˜åŒ–ä»€ä¹ˆï¼Ÿä¸ï¼Œè¿™è¿œè¿œä¸å¤Ÿã€‚åœ¨å®é™…çš„æµ‹è¯•ä¸­ï¼Œè¿™ç§æœ´ç´ çš„åšæ³•ä¾ç„¶ä¼šå¸¦æ¥æ˜æ˜¾çš„æ»‘åŠ¨è¿‡ç¨‹çš„å¡é¡¿ã€‚ä½¿ç”¨Instrumentsè¿›è¡Œprofileå‘ç°ï¼Œåœ¨æ»‘åŠ¨è¿‡ç¨‹ä¸­å§‹ç»ˆä¼šä¸¢é‚£ä¹ˆ15å¸§å·¦å³ï¼Œä¸èƒ½å¿ï¼&lt;/p&gt;
&lt;p&gt;å†å›åˆ°&lt;code&gt;UICollectionView&lt;/code&gt;ç»§æ‰¿è‡ª&lt;code&gt;UIScrollView&lt;/code&gt;ä¸Šæ¥ã€‚é€šè¿‡&lt;code&gt;UIScrollView&lt;/code&gt;çš„Delegateï¼Œæˆ‘ä»¬èƒ½æ„ŸçŸ¥åˆ°æ»‘åŠ¨è¿‡ç¨‹ä¸­CollectionViewçš„å„ç§å…³é”®çŠ¶æ€ï¼ŒåŒ…æ‹¬ç”¨æˆ·çš„æ‰‹æ˜¯å¦æ­£åœ¨æ‹–æ‹½ï¼Œä»¥åŠCollectionViewæ˜¯å¦æ­£åœ¨æ»‘åŠ¨ã€å‡é€Ÿç­‰ç­‰ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¼˜åŒ–çš„ç§˜å¯†æ­¦å™¨ï¼&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œæœ¬ç€ä¸è¯¥åšçš„äº‹æƒ…ä¸è¦åšï¼Œæˆ–è€…ç­‰åˆ°ä¸å¾—ä¸åšçš„æ—¶å€™å†åšçš„åŸåˆ™ï¼Œè®©æˆ‘ä»¬åˆ†æç”¨æˆ·åœ¨æ»‘åŠ¨CollectionViewçš„è¿‡ç¨‹ä¸­æœ‰å“ªäº›åœ°æ–¹å¯ä»¥ç»†æŠ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·åœ¨æ»‘åŠ¨ï¼ˆæ‹–æ‹½ï¼‰CollectionViewæ—¶ï¼ˆæ‰‹ä¸å±å¹•æ­£åœ¨æ¥è§¦ï¼‰ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯ç”¨æˆ·åœ¨è®¤çœŸé€ä¸ªæµè§ˆæ¯ä¸ªCellï¼Œè¦å»åŠ è½½å½“å‰å¯è§Cellçš„å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ»‘åŠ¨CollectionViewç»“æŸåï¼Œæ‰‹ç¦»å¼€äº†å±å¹•ï¼Œå¹¶å¼•å‘äº†CollectionViewå‡é€Ÿæ—¶ï¼Œ&lt;strong&gt;é¢„åˆ¤&lt;/strong&gt;CollectionViewå‡é€Ÿç»“æŸåé™æ­¢æ—¶çš„çŠ¶æ€ï¼Œå¯¹äºé‚£äº›å°†æ¥é™æ­¢æ—¶ç”¨æˆ·å¯è§çš„Cellï¼Œæå‰å»åŠ è½½å®ƒä»¬çš„å›¾ç‰‡ï¼›å¯¹äºé‚£äº›åªæ˜¯â€œæ˜™èŠ±ä¸€ç°â€çš„Cellï¼Œå³å®ƒä»¬åªæ˜¯åœ¨å‡é€Ÿçš„è¿‡ç¨‹ä¸­å‡ºç°é‚£ä¹ˆä¸€åˆ¹é‚£ï¼Œå°±è¢«â€œé¡¶â€ä¸Šå»äº†ï¼ŒåªåŠ è½½è¿™äº›Cellä¸­å›¾ç‰‡åœ¨æœ¬åœ°æœ‰ç¼“å­˜çš„å›¾ç‰‡ï¼ˆä»å†…å­˜ä¸­åŠ è½½ï¼Œä¸å€¼å¾—å»å‘ç½‘ç»œè¯·æ±‚ï¼Œå³ä½¿æ˜¯å¼‚æ­¥çš„ä¹Ÿä¸å€¼å¾—ï¼‰&lt;/li&gt;
&lt;li&gt;å‡é€Ÿç»“æŸåï¼ŒCollectionViewå¤„äºé™æ­¢çŠ¶æ€ï¼ŒåŠ è½½å½“å‰å…¨éƒ¨å¯è§Cellçš„å›¾ç‰‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OKï¼Œé‚£ä¹ˆæ¥çœ‹æˆ‘ä»¬æ€ä¹ˆå®ç°å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºCollectionViewçš„æ¯ä¸ªCellï¼Œæˆ‘ä»¬ç»™å®ƒæ·»åŠ ä¸€ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ–¹æ³•&lt;code&gt;loadImage&lt;/code&gt;ã€‚ç›´æ¥ä¸Šå…³é”®ä»£ç ï¼Œçœ‹äº†ä¾¿çŸ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// CollectionViewå°†æ¥é™æ­¢æ—¶å¯è§çš„åŒºåŸŸï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ ‡è¯†CollectionViewå½“å‰æ˜¯æ­£åœ¨è¢«ç”¨æˆ·æ‹–æ‹½è¿˜æ˜¯å·²ç»è¢«æ‹–æ‹½å®Œæ¯•å¹¶æ­£åœ¨å‡é€Ÿ
@property (nonatomic, strong) CGRect *targetRect;

#pragma mark - UICollectionView DataSource

- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {
    // ....
    [self loadImageForCell:cell atIndexPath:indexPath];
    // ....
}

#pragma mark - UIScrollView Delegate

- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView {
    self.targetRect = nil;
    [self loadImageForVisibleCells];
}

- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset {
    self.targetRect = CGRectMake(targetContentOffset-&amp;gt;x, targetContentOffset-&amp;gt;y, scrollView.frame.size.width, scrollView.frame.size.height);
}

- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {
    self.targetRect = nil;
    [self loadImageForVisibleCells];
}

#pragma mark - Decide to Load Image For Cells

- (void)loadImageForCell:(AESmartCollectionFlowViewCell *)cell
        atIndexPath:(NSIndexPath *)indexPath {
    // Cellçš„targetURLStringæ˜¯æŒ‡æ´¾ç»™Cellçš„æ–°çš„å›¾ç‰‡URLï¼Œåœ¨æ ¹æ®Cellçš„DTOé…ç½®Cellæ—¶ä¸ºå…¶èµ‹å€¼
    if (!cell.targetURLString) {
        return;
    }
    // Cellçš„imageURLStringæ˜¯Cellçš„å½“å‰æ­£åœ¨æ˜¾ç¤ºçš„å›¾ç‰‡URL
    if (![cell.targetURLString isEqualToString:cell.imageURLString] || cell.isDisplayingPlaceholderNow) {
        SDWebImageManager *manager = [SDWebImageManager sharedManager];
        UICollectionViewLayoutAttributes *attr = [self.collectionView layoutAttributesForItemAtIndexPath:indexPath];
        CGRect cellFrame = attr.frame;

        BOOL shouldLoadImageForCurrentCell = YES;
        // å¦‚æœæ­£åœ¨å‡é€Ÿè€Œä¸”å½“å‰Cellçš„frameä¸åœ¨å°†æ¥æ»‘åŠ¨åœæ­¢åçš„å¯è§åŒºåŸŸ
        if (self.targetRect &amp;amp;&amp;amp; !CGRectIntersectsRect(self.targetRect.CGRectValue, cellFrame)) {
            // é‚£ä¹ˆåªæœ‰Cellçš„targetURLåœ¨å†…å­˜çš„ç¼“å­˜ä¸­ï¼Œæ‰å»åŠ è½½å®ƒ
            SDImageCache *imageCache = [SDImageCache sharedImageCache];
            NSString *key = [manager cacheKeyForURL:[NSURL URLWithString:cell.targetURLString]];
            if (![imageCache imageFromMemoryCacheForKey:key]) {
                shouldLoadImageForCurrentCell = NO;
            }
        }
        if (shouldLoadImageForCurrentCell) {
            [cell loadImage];
        }
    }
}

- (void)loadImageForVisibleCells {
    NSArray *visibleCells = [self.collectionView visibleCells];
    for (UICollectionViewCell *cell in visibleCells) {
        NSIndexPath *indexPath = [self.collectionView indexPathForCell:cell];
        [self loadImageForCell:cell atIndexPath:indexPath];
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åšäº†è¿™äº›åŠªåŠ›åï¼Œå†å»profileä¸€ä¸‹ï¼Œå‘ç°ç½‘é€Ÿè‰¯å¥½æƒ…å†µä¸‹æ»‘åŠ¨æ—¶å¸§ç‡åªä¸¢äº†é‚£ä¹ˆ1ã€2å¸§ï¼Œè€Œä¸”æ»‘åŠ¨èµ·æ¥æ— æ˜æ˜¾å¡é¡¿ï¼&lt;/p&gt;
&lt;h3 id=&quot;è¦ä¹ˆä¸åšï¼Œè¦ä¹ˆåšç»&quot;&gt;&lt;a href=&quot;#è¦ä¹ˆä¸åšï¼Œè¦ä¹ˆåšç»&quot; class=&quot;headerlink&quot; title=&quot;è¦ä¹ˆä¸åšï¼Œè¦ä¹ˆåšç»&quot;&gt;&lt;/a&gt;è¦ä¹ˆä¸åšï¼Œè¦ä¹ˆåšç»&lt;/h3&gt;&lt;p&gt;å“ˆå“ˆï¼Œè¿™ä¸ªæœ‰ç‚¹ç‹ å•Šï¼Œé¢‡æœ‰æœ±å…ƒç’‹çš„é£æ ¼ã€‚&lt;/p&gt;
&lt;p&gt;åšäº†è¿™ä¹ˆå¤šåï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ•°æ®é¢„åŠ è½½å®Œæ¯•åï¼Œå‘CollectionViewå‘é€&lt;code&gt;reloadData&lt;/code&gt;æ¶ˆæ¯é€šçŸ¥å®ƒæ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œå°±åœ¨è¿™ä¸€ç¬é—´ï¼Œè¿˜æ˜¯ä¼šå¯¼è‡´CollectionViewå¡é¡¿é‚£ä¹ˆä¸€ä¸‹ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å¥½å§ä¸èƒ½å¿ï¼Œå°è£…ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„&lt;code&gt;reloadData&lt;/code&gt;æ–¹æ³•ï¼Œåœ¨è¿™é‡Œç®€å•çš„holdä½reloadï¼Œæ ¹æ®ä¸Šæ–‡ä¸­çš„&lt;code&gt;targetRect&lt;/code&gt;å±æ€§çš„æ ‡è®°ä½œç”¨ï¼Œå½“ä¸”ä»…å½“åœ¨CollectionViewå‡é€Ÿåœæ­¢åï¼Œå†å»çœŸæ­£å‘å®ƒå‘é€&lt;code&gt;reloadData&lt;/code&gt;æ¶ˆæ¯ã€‚åœ¨è¿™é‡Œä»…æä¾›æ€è·¯ï¼Œä¸åšèµ˜è¿°äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€ç³»åˆ—çš„æ–¹æ³•ä»¥&lt;code&gt;NSObject&lt;/code&gt;ç±»çš„Categoryå½¢å¼åšä¸€ä¸ªå°è£…ï¼Œè¿™æ ·ä¸ç®¡è°æ˜¯CollectionViewçš„Delegateæˆ–è€…DataSourceéƒ½å¯ä»¥ä»å®¹åº”å¯¹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åè®°&quot;&gt;&lt;a href=&quot;#åè®°&quot; class=&quot;headerlink&quot; title=&quot;åè®°&quot;&gt;&lt;/a&gt;åè®°&lt;/h3&gt;&lt;p&gt;è¿™é‡Œå¤´è¿˜æ˜¯æœ‰ä¸€å®šç„æœºçš„ï¼Œç¯‡å¹…é™åˆ¶åªå†™äº†å…³é”®æ€è·¯ï¼ŒçœŸæ­£çš„å®è·µéœ€è¦ä¸€ä¸ªçŠ¶æ€æœºçš„æ€ç»´ï¼Œä¸æ–­å»æ„Ÿå—ä¸æ–­å»æµ‹è¯•ä¸æ–­å»Tuningã€‚å½“ç„¶ï¼Œ&lt;code&gt;UITableView&lt;/code&gt;çš„ä¼˜åŒ–å®Œå…¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹å¼ã€‚æœ€åï¼Œç”¨æˆ·å¯èƒ½æ„Ÿå—ä¸åˆ°ä½ åšäº†ä»€ä¹ˆï¼Œä½†èµ·ç ï¼Œå¯¹å¾—èµ·è‡ªå·±çš„æƒ…æ€€ï¼šï¼‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&quot;æ ‡è®°&quot;&gt;&lt;a href=&quot;#æ ‡è®°&quot; class=&quot;headerlink&quot; title=&quot;æ ‡è®°&quot;&gt;&lt;/a&gt;æ ‡è®°&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;[1] Androidä¸­çš„&lt;code&gt;GridView&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;[2] Androidä¸­çš„Adapter&lt;/li&gt;
&lt;li&gt;[3] Androidä¸­çš„&lt;code&gt;getView()&lt;/code&gt;æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡çŒ®&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡çŒ®&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://tech.glowing.com/cn/practice-in-uiscrollview/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UIScrollView å®è·µç»éªŒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å½“Appä¸­ä½¿ç”¨äº†&lt;code&gt;UICollectionView&lt;/code&gt;ä»¥ç€‘å¸ƒæµçš„å½¢å¼æ¥å‘ˆç°æ•°æ®æ—¶ï¼Œç«™åœ¨ç”¨æˆ·çš„è§’åº¦ï¼Œç”¨æˆ·åœ¨è‡ªä¸Šè‡³ä¸‹ä¸€é¡µä¸€é¡µæµè§ˆè¿™äº›å†…å®¹çš„è¿‡ç¨‹ä¸­ï¼Œå½“ç”¨æˆ·æ„Ÿåˆ°æ»‘åŠ¨å¾ˆæµç•…è‡ªç„¶ï¼Œæ¯é¡µå†…å®¹ä»æ— åˆ°æœ‰éœ€è¦ç”¨æˆ·ç­‰å¾…çš„æ—¶é—´å¾ˆçŸ­ç”šè‡³å‡ ä¹æ„Ÿè§‰ä¸åˆ°ï¼Œé‚£ä¹ˆ&lt;code&gt;UICollectionView&lt;/code&gt;æ‰ä¼šå¸¦ç»™ç”¨æˆ·ä¸€ä¸ªå¾ˆå¥½çš„ä½“éªŒã€‚æœ¬æ–‡ä»‹ç»äº†ä¸ºäº†è¾¾åˆ°è¿™ä¸¤ä¸ªç›®çš„æ‰€ä½œå‡ºçš„ä¸€äº›å®¢æˆ·ç«¯çš„ä¼˜åŒ–ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
      <category term="UICollectionView" scheme="http://blog.liushuaiko.be/tags/UICollectionView/"/>
    
  </entry>
  
  <entry>
    <title>Manacher&#39;s algorithmï¼šä¼˜é›…çš„æ±‚æœ€é•¿å›æ–‡å­ä¸²</title>
    <link href="http://blog.liushuaiko.be/blog/2015/04/12/Manachers-algorithm/"/>
    <id>http://blog.liushuaiko.be/blog/2015/04/12/Manachers-algorithm/</id>
    <published>2015-04-12T04:51:06.000Z</published>
    <updated>2016-07-09T05:35:10.000Z</updated>
    
    <content type="html">&lt;p&gt;2015å¹´ç¬¬ä¸€ç¯‡æ–‡ç« ï¼ŒåŠ›æ±‚åšåˆ°ç”¨ä¸­æ–‡æŠŠ&lt;a href=&quot;http://en.wikipedia.org/wiki/Longest_palindromic_substring#Manacher.27s_algorithm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Manacherâ€™sç®—æ³•&lt;/a&gt;è§£é‡Šçš„é€šä¿—æ˜“æ‡‚ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;å†å²-amp-èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#å†å²-amp-èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;å†å²&amp;amp;èƒŒæ™¯&quot;&gt;&lt;/a&gt;å†å²&amp;amp;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;Manacherâ€™sç®—æ³•æ˜¯Manacheråœ¨1975å¹´æå‡ºçš„ä¸€ä¸ªåœ¨çº¿æ€§æ—¶é—´é‡Œæ‰¾å‡ºç»™å®šå­—ç¬¦ä¸²ä¸­å…¨éƒ¨å›æ–‡å­ä¸²çš„ç®—æ³•ï¼Œéšç€äººä»¬çš„ç ”ç©¶ï¼Œäººä»¬å‘ç°Manacherâ€™sç®—æ³•ä¹Ÿå¯ä»¥ç”¨æ¥æ±‚ç»™å®šå­—ç¬¦ä¸²çš„&lt;strong&gt;æœ€é•¿&lt;/strong&gt;å›æ–‡å­ä¸²ï¼Œå½“ç„¶ä¹Ÿæ˜¯çº¿æ€§æ—¶é—´ã€‚å†åæ¥ï¼Œæœ‰ä¸¤ä¸ªå°ä¼™æå‡ºäº†åŸºäºsuffix treesçš„ç®—æ³•ï¼ŒåŒæ ·æ˜¯çº¿æ€§æ—¶é—´æ±‚è§£æœ€é•¿å›æ–‡å­ä¸²ï¼Œæ…¢æ…¢åœ°ï¼Œäººä»¬åˆæ‰¾åˆ°äº†ä¸€äº›é«˜æ•ˆçš„å¹¶è¡Œç®—æ³•æ±‚è§£è¿™ç±»é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†é˜è¿°Manacherâ€™sç®—æ³•ç”¨äºæ±‚è§£ç»™å®šå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²ï¼Œæ ·ä¾‹ä»£ç ä½¿ç”¨Pythonã€‚&lt;/p&gt;
&lt;h3 id=&quot;ç®—æ³•&quot;&gt;&lt;a href=&quot;#ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;ç®—æ³•&quot;&gt;&lt;/a&gt;ç®—æ³•&lt;/h3&gt;&lt;p&gt;Manacherâ€™sç®—æ³•çœŸçš„å¾ˆç®€å•ï¼Œä½ åªè¦é™ä¸‹å¿ƒæ¥ï¼ŒèŠ±äºŒååˆ†é’Ÿæ¥é˜…è¯»å¹¶ç†è§£ä»¥ä¸‹æ–‡å­—ï¼Œç»å¯¹å¯ä»¥ç†è§£ï¼Œç†è§£äº†å°±ä¸€è¾ˆå­éƒ½å¿˜ä¸äº†ï¼Œæ¥ç€ä½ ä¼šæš—æš—å«ç»ï¼Œè¿™ç®—æ³•çœŸå¤ªèµäº†ã€‚ç›¸ä¿¡ä½ åœ¨çœ‹åˆ°æœ¬æ–‡ä¹‹å‰ä¹Ÿçœ‹äº†å¾ˆå¤šå…¶ä»–çš„æ–‡ç« ï¼Œä¸ºäº†å‡å°‘è¯»è€…çš„ç†è§£éšœç¢ï¼Œä½¿ç”¨çš„å˜é‡åç§°æˆ‘éƒ½ä¼šå°½é‡è·Ÿå…¶ä»–æ–‡ç« çš„ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h4 id=&quot;é¢„å¤„ç†&quot;&gt;&lt;a href=&quot;#é¢„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;é¢„å¤„ç†&quot;&gt;&lt;/a&gt;&lt;strong&gt;é¢„å¤„ç†&lt;/strong&gt;&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;ä¸ºäº†å°†æœ€é•¿å­ä¸²é•¿åº¦ä¸ºå¥‡æ•°å’Œå¶æ•°è¿™ä¸¤ç§æƒ…å†µç»Ÿä¸€è½¬æˆå¥‡æ•°æƒ…å†µå¤„ç†ï¼ŒManacherâ€™sç®—æ³•åœ¨è¾“å…¥å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ä¹‹é—´åŠ äº†ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼›&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç®€åŒ–å¤„ç†è¿‡ç¨‹ä¸­éå†å­—ç¬¦ä¸²æ—¶å¯¹è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­ï¼Œåœ¨å¼€å¤´åŠ ä¸Šå¦ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œè¿™äº›ç‰¹æ®Šå­—ç¬¦è¦ä¿è¯ä¸ä¼šå‡ºç°åœ¨ä»»ä½•è¾“å…¥å­—ç¬¦ä¸²é‡Œï¼Œè§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/manacher_5.png&quot; alt=&quot;manacher_5&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;&lt;strong&gt;å‡†å¤‡å·¥ä½œ&lt;/strong&gt;&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;OKï¼Œä¸‹é¢æ˜¯ç†è§£è¿™ä¸ªç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œè¦&lt;strong&gt;éšæ—¶è£…åœ¨è„‘å­&lt;/strong&gt;é‡Œçš„ä¸€äº›ä¸œè¥¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å›æ–‡ä¸²ï¼šç”±äºæˆ‘ä»¬é¢„å¤„ç†ï¼Œæˆ‘ä»¬åªè€ƒè™‘å›æ–‡ä¸²ä¸ºå¥‡æ•°çš„æƒ…å†µï¼Œå›æ–‡ä¸²çš„ç‰¹æ€§å°±æ˜¯&lt;strong&gt;å¯¹ç§°&lt;/strong&gt;ï¼Œè®°ä½&lt;strong&gt;å¯¹ç§°&lt;/strong&gt;ï¼Œåœ¨è„‘å­é‡Œæƒ³æƒ³æ²¿ç€å›æ–‡ä¸²ä¸­é—´çš„é‚£ä¸ªå­—ç¬¦ï¼ˆä¸‹ç§°ä¸­å¿ƒå­—ç¬¦ï¼‰æŠŠå›æ–‡ä¸²å¯¹æŠ˜çš„åœºæ™¯å§ï¼Œå®Œç¾çš„é‡åˆã€‚æˆ‘ä»¬æŠŠå¤„ç†åå¾—åˆ°çš„å­—ç¬¦ä¸²å«s&lt;/li&gt;
&lt;li&gt;è€ƒè™‘sä¸­çš„ä»»ä¸€å›æ–‡å­ä¸²ï¼Œè¯¥å›æ–‡ä¸²çš„ä¸­å¿ƒå­—ç¬¦åœ¨sä¸­çš„ç´¢å¼•è®°ä¸ºcenterï¼Œè¿™ä¸ªå›æ–‡ä¸²ä¸­æŸä¸ªå­—ç¬¦åœ¨sä¸­çš„ç´¢å¼•æ˜¯iï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦åœ¨è¯¥å›æ–‡ä¸²ä¸­å¯¹ç§°å­—ç¬¦çš„ç´¢å¼•&lt;code&gt;j = 2 * center - i&lt;/code&gt;ï¼Œè§ä¸‹å›¾ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/manacher_4.png&quot; alt=&quot;manacher_4&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;é«˜èƒ½é¢„è­¦&quot;&gt;&lt;a href=&quot;#é«˜èƒ½é¢„è­¦&quot; class=&quot;headerlink&quot; title=&quot;é«˜èƒ½é¢„è­¦&quot;&gt;&lt;/a&gt;&lt;strong&gt;é«˜èƒ½é¢„è­¦&lt;/strong&gt;&lt;/h4&gt;&lt;hr&gt;
&lt;p&gt;ä¸Šé¢çš„ä½ éƒ½ç†è§£äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çœ‹ç®—æ³•çš„ç²¾é«“éƒ¨åˆ†ï¼Œé™ä¸‹å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»‹ç»ä¸€ä¸‹å˜é‡ï¼Œä»”ç»†é˜…è¯»ï¼Œå¾ˆé‡è¦ï¼Œä¸‹é¢çš„å™è¿°æ˜¯åŸºäºè¿™äº›å˜é‡çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/manacher_1.png&quot; alt=&quot;manacher_1&quot;&gt;&lt;/p&gt;
&lt;p&gt;OKï¼Œåˆå§‹å‡è®¾ current_longest_p_str çš„ä¸­å¿ƒå­—ç¬¦æ˜¯ s[0]ï¼Œä¹Ÿå³ center=0ï¼Œä¸”å‡è®¾ p[0]=0ã€‚&lt;/p&gt;
&lt;p&gt;ä» s[1] å¼€å§‹éå† sï¼ˆç•¥è¿‡æˆ‘ä»¬ä¸ºäº†å¤„ç†è¾¹ç•Œåœ¨å¼€å¤´åŠ çš„ç‰¹æ®Šå­—ç¬¦ï¼‰ï¼Œå¯¹ s[i]ï¼Œåˆ†ä¸¤ç§æƒ…å†µæ¥çœ‹ï¼š&lt;/p&gt;
&lt;h5 id=&quot;æƒ…å†µ1&quot;&gt;&lt;a href=&quot;#æƒ…å†µ1&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ1&quot;&gt;&lt;/a&gt;&lt;strong&gt;æƒ…å†µ1&lt;/strong&gt;&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;s[i] åœ¨ current_longest_p_str å†…ï¼ˆå¦‚æœåœ¨çš„è¯ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¾—å‡ºï¼Œs[i] ä¸€å®šåœ¨å…¶å³åŠéƒ¨åˆ†ï¼Œå› ä¸ºæ˜¯æŒ‰é¡ºåºéå†sï¼Œiä¸€å®šå¤§äºcenterï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è®°iå…³äºcenterçš„å¯¹ç§°ç‚¹ä¸ºjï¼ˆåˆ«å¿˜äº†&lt;code&gt;j = 2 * center - i&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå¦‚æœ&lt;code&gt;i + p[j] &amp;lt; mx&lt;/code&gt;çš„è¯ï¼Œç­‰ä»·äº&lt;code&gt;j - p[j] &amp;gt; mxçš„å¯¹ç§°ç‚¹&lt;/code&gt;ï¼Œæ„å‘³ç€ï¼Œä»¥ s[j] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²å®Œå®Œæ•´æ•´çš„åœ¨current_longest_p_strå†…ï¼Œæ ¹æ®current_longest_p_strçš„å¯¹ç§°æ€§ï¼Œå¯å¾—ä»¥s[i]ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²ä¹Ÿå®Œå®Œæ•´æ•´çš„åœ¨current_longest_p_strå†…ï¼Œå› æ­¤ p[i]=p[j] æˆç«‹ï¼Œè§ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/manacher_3.png&quot; alt=&quot;manacher_3&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ&lt;code&gt;i + p[j] &amp;gt;= mx&lt;/code&gt;çš„è¯ï¼Œæ„å‘³ç€ï¼Œä»¥ s[j] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²çš„ä¸€éƒ¨åˆ†åœ¨ current_longest_p_str å†…ã€‚æ ¹æ® current_longest_p_str çš„å¯¹ç§°æ€§æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œä»¥ s[i] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²ï¼Œè‡³å°‘å¯ä»¥å»¶å±•åˆ° mxã€‚é‚£ mx ä¹‹åçš„éƒ¨åˆ†å‘¢ï¼Ÿç”±äº mx ä¹‹åçš„å­—ç¬¦ä¸²æˆ‘ä»¬æ²¡åŠæ³•åˆ©ç”¨ current_longest_p_str çš„å¯¹ç§°æ€§äº†ï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªå»åŒ¹é…äº†ã€‚è½¬åˆ°ä»£ç ä¸Šå°±æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠ p[i] ç½®ä¸º mx - iï¼Œä¹Ÿå³æˆ‘ä»¬å·²ç»çŸ¥é“s[i]å‘å³å¯ä»¥æ‰©å±•åˆ° mx äº†ï¼ˆä¸‹å›¾æ©™è‰²æ¡†èµ·æ¥éƒ¨åˆ†ï¼‰ï¼Œå†æ ¹æ®é€æ­¥å‘ä¸¤ä¾§æ‰©å±•çš„æƒ…å†µå»æ›´æ–° p[i] ã€‚è§ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://vars.qiniudn.com/manacher_2.png&quot; alt=&quot;manacher_2&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç»¼åˆä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œå¯ä»¥å¾—å‡º&lt;code&gt;p[i] = min(p[j], mx - i)&lt;/code&gt;ï¼Œä¹Ÿå³&lt;code&gt;p[i] = min(p[2 * center - i], mx - i)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&quot;æƒ…å†µ2&quot;&gt;&lt;a href=&quot;#æƒ…å†µ2&quot; class=&quot;headerlink&quot; title=&quot;æƒ…å†µ2&quot;&gt;&lt;/a&gt;&lt;strong&gt;æƒ…å†µ2&lt;/strong&gt;&lt;/h5&gt;&lt;hr&gt;
&lt;p&gt;s[i]ä¸åœ¨ current_longest_p_str ä¸­ï¼Œæ²¡åŠæ³•åˆ©ç”¨ current_longest_p_str çš„å¯¹ç§°æ€§ï¼Œåªèƒ½å…ˆå°† p[i] ç½®ä¸º0ï¼Œå†å‘ä¸¤ä¾§æ‰©å±•ä¸€ä¸ªä¸€ä¸ªåŒ¹é…æ¥æ›´æ–° p[i] äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»£ç &quot;&gt;&lt;a href=&quot;#ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ä»£ç &quot;&gt;&lt;/a&gt;ä»£ç &lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Solution&lt;/span&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;pre_process&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, s)&lt;/span&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;.join((&lt;span class=&quot;string&quot;&gt;&quot;$#&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;#&quot;&lt;/span&gt;.join(s), &lt;span class=&quot;string&quot;&gt;&quot;#&quot;&lt;/span&gt;))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# @return a string&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;longestPalindrome&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, s)&lt;/span&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        s_new = self.pre_process(s)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        p = [&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        center = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mx = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, len(s_new)):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# æƒ…å†µ2ï¼Œs[i]ä¸åœ¨current_longest_p_strä¸­&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; i &amp;gt; mx:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                p.append(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# æƒ…å†µ1ï¼Œs[i]åœ¨current_longest_p_strä¸­&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                p.append(min(mx - i, p[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; * center - i]))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# æ²¡åŠæ³•ï¼Œåªèƒ½ä¸€ä¸ªä¸€ä¸ªå»åŒ¹é…äº†&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# æ³¨æ„ï¼Œå¯¹äºä»¥s[i]ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²å®Œå®Œæ•´æ•´åŒ…æ‹¬åœ¨current_longest_p_strçš„æƒ…å†µï¼Œwhileå¾ªç¯ä¸ä¼šæ‰§è¡Œï¼Œæƒ³æƒ³ä¸ºä»€ä¹ˆ&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (i - p[i] - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; (i + p[i]  + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;lt; len(s_new) &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; s_new[i - p[i] - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] == s_new[i + p[i] + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                p[i] += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;# æ›´æ–°current_longest_p_strç›¸å…³ä¿¡æ¯&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; p[i] &amp;gt; mx - center:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                center = i&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mx = i + p[i]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; s_new[center - p[center]: center + p[center] + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;].replace(&lt;span class=&quot;string&quot;&gt;&quot;#&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;åè®°&quot;&gt;&lt;a href=&quot;#åè®°&quot; class=&quot;headerlink&quot; title=&quot;åè®°&quot;&gt;&lt;/a&gt;åè®°&lt;/h3&gt;&lt;p&gt;å¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥ä¸€ç‚¹å¸®åŠ©ï¼Œå¦‚æœ‰ç†è§£é”™è¯¯ï¼Œæ³è¯·æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;a href=&quot;#å‚è€ƒæ–‡çŒ®&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;&lt;/a&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.felix021.com/blog/read.php?2040&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Manacherâ€™s ALGORITHM: O(n)æ—¶é—´æ±‚å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.geeksforgeeks.org/manachers-algorithm-linear-time-longest-palindromic-substring-part-1/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Manacherâ€™s Algorithm â€“ Linear Time Longest Palindromic Substring â€“ Part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://articles.leetcode.com/2011/11/longest-palindromic-substring-part-ii.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Longest Palindromic Substring Part II&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;2015å¹´ç¬¬ä¸€ç¯‡æ–‡ç« ï¼ŒåŠ›æ±‚åšåˆ°ç”¨ä¸­æ–‡æŠŠ&lt;a href=&quot;http://en.wikipedia.org/wiki/Longest_palindromic_substring#Manacher.27s_algorithm&quot;&gt;Manacherâ€™sç®—æ³•&lt;/a&gt;è§£é‡Šçš„é€šä¿—æ˜“æ‡‚ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="è®¡ç®—æœºåŸºç¡€" scheme="http://blog.liushuaiko.be/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="Manacher" scheme="http://blog.liushuaiko.be/tags/Manacher/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„2014</title>
    <link href="http://blog.liushuaiko.be/blog/2014/12/30/my-2014/"/>
    <id>http://blog.liushuaiko.be/blog/2014/12/30/my-2014/</id>
    <published>2014-12-30T13:39:44.000Z</published>
    <updated>2016-07-09T05:34:20.000Z</updated>
    
    <content type="html">&lt;p&gt;ä¸çŸ¥æ˜¯è‡ªå·±æ¥è§¦çš„æŠ€æœ¯è¶Šæ¥è¶Šç‰›é€¼äº†è¿˜æ˜¯æ¥è§¦çš„ä¸œè¥¿è¶Šæ¥è¶Šå¼±æ™ºäº†ï¼Œè¿™ä¸€å¹´çœŸçš„å¾ˆå°‘æç¬”å»å†™ä¸€äº›æŠ€æœ¯ä¸Šçš„æ–‡ç« ã€‚è¿™ç§è¡¨è¾¾ä¸ªäººæƒ…æ„Ÿçš„æ–‡ç« å†™å¤šäº†åˆä¼šè§‰å¾—è‡ªå·±å¾ˆçŸ«æƒ…ï¼Œé‚£ä¹ˆä»Šå¹´çš„å¹´ç»ˆæ€»ç»“æˆ‘ä¼šåŠ›æ±‚ä¸å¸¦ä»»ä½•æ„Ÿæƒ…è‰²å½©ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h4 id=&quot;æ”¹å˜&quot;&gt;&lt;a href=&quot;#æ”¹å˜&quot; class=&quot;headerlink&quot; title=&quot;æ”¹å˜&quot;&gt;&lt;/a&gt;æ”¹å˜&lt;/h4&gt;&lt;p&gt;å“ˆå°”æ»¨åˆ°æ­å·ï¼Œæ—§çŸ¥å·±åˆ°æ–°æ­æ¡£ï¼ŒAndroidåˆ°iOSï¼Œæ— æ‹˜æ— æŸåˆ°è°¨å°æ…å¾®ï¼Œåªæ±‚è‡ªå·±çš„æ£±è§’ä¸è¢«ç£¨å¹³ï¼Œæ— è®ºä½•æ—¶åƒé¹æ€»é‚£æ ·ä¿æŒç€å¯¹æŠ€æœ¯çš„çƒ­çˆ±ä¸æ¿€æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;åšå¾—é¥­è¶Šæ¥è¶Šå¥½åƒã€‚&lt;/p&gt;
&lt;h4 id=&quot;è¯»ä¹¦&quot;&gt;&lt;a href=&quot;#è¯»ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;è¯»ä¹¦&quot;&gt;&lt;/a&gt;è¯»ä¹¦&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ã€Šç™½å¤œè¡Œã€‹&lt;/li&gt;
&lt;li&gt;ã€Šå«Œç–‘çŠ¯Xçš„çŒ®èº«ã€‹&lt;/li&gt;
&lt;li&gt;ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ã€‹&lt;/li&gt;
&lt;li&gt;ã€ŠiOS Programming : The Big Nerd Ranch Guideã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;å½±è§†&quot;&gt;&lt;a href=&quot;#å½±è§†&quot; class=&quot;headerlink&quot; title=&quot;å½±è§†&quot;&gt;&lt;/a&gt;å½±è§†&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç”µå½±ï¼š37éƒ¨ï¼Œã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ç­‰&lt;/li&gt;
&lt;li&gt;ç¾å‰§ï¼š4éƒ¨ï¼Œã€Šç»å‘½æ¯’å¸ˆã€‹ã€ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ã€ã€Šè¶Šç‹±ã€‹ã€ã€Šè¡Œå°¸èµ°è‚‰ã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;æ—…è¡Œ&quot;&gt;&lt;a href=&quot;#æ—…è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;æ—…è¡Œ&quot;&gt;&lt;/a&gt;æ—…è¡Œ&lt;/h4&gt;&lt;p&gt;é’å²›4æ—¥æ¸¸ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç¬¬ä¸€&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸€&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸€&quot;&gt;&lt;/a&gt;ç¬¬ä¸€&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡åé£æœº&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡åé«˜é“&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡æµ·æ·˜&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€ä»½å·¥èµ„&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡ç”¨å·¥èµ„ç»™çˆ¶æ¯ä¹°ä¸œè¥¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;å…¶ä»–&quot;&gt;&lt;a href=&quot;#å…¶ä»–&quot; class=&quot;headerlink&quot; title=&quot;å…¶ä»–&quot;&gt;&lt;/a&gt;å…¶ä»–&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;2ä¸ªæœˆå…¨èŒ+ï¿¥6300è€ƒä¸‹äº†é©¾ç…§&lt;/li&gt;
&lt;li&gt;å¾€instagramä¸Šä¼ äº†38å¼ ç…§ç‰‡&lt;/li&gt;
&lt;li&gt;å†™äº†13ç¯‡æŠ€æœ¯åšå®¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;å…¥æ‰‹çš„ä¸œè¥¿&quot;&gt;&lt;a href=&quot;#å…¥æ‰‹çš„ä¸œè¥¿&quot; class=&quot;headerlink&quot; title=&quot;å…¥æ‰‹çš„ä¸œè¥¿&quot;&gt;&lt;/a&gt;å…¥æ‰‹çš„ä¸œè¥¿&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Kindle Paperwhite 2&lt;/li&gt;
&lt;li&gt;Razer DeathAdder é¼ æ ‡&lt;/li&gt;
&lt;li&gt;Logitech M545 æ— çº¿é¼ æ ‡&lt;/li&gt;
&lt;li&gt;RainDesign mStand&lt;/li&gt;
&lt;li&gt;Casio AQ-S810W-1AV Solar Watch&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h4&gt;&lt;p&gt;æŠ€æœ¯æé«˜ä¸å¤šã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸çŸ¥æ˜¯è‡ªå·±æ¥è§¦çš„æŠ€æœ¯è¶Šæ¥è¶Šç‰›é€¼äº†è¿˜æ˜¯æ¥è§¦çš„ä¸œè¥¿è¶Šæ¥è¶Šå¼±æ™ºäº†ï¼Œè¿™ä¸€å¹´çœŸçš„å¾ˆå°‘æç¬”å»å†™ä¸€äº›æŠ€æœ¯ä¸Šçš„æ–‡ç« ã€‚è¿™ç§è¡¨è¾¾ä¸ªäººæƒ…æ„Ÿçš„æ–‡ç« å†™å¤šäº†åˆä¼šè§‰å¾—è‡ªå·±å¾ˆçŸ«æƒ…ï¼Œé‚£ä¹ˆä»Šå¹´çš„å¹´ç»ˆæ€»ç»“æˆ‘ä¼šåŠ›æ±‚ä¸å¸¦ä»»ä½•æ„Ÿæƒ…è‰²å½©ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://blog.liushuaiko.be/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Pythonå…¥é—¨åˆ†äº«</title>
    <link href="http://blog.liushuaiko.be/blog/2014/12/29/Python-Introduction/"/>
    <id>http://blog.liushuaiko.be/blog/2014/12/29/Python-Introduction/</id>
    <published>2014-12-29T14:33:02.000Z</published>
    <updated>2016-07-09T05:34:24.000Z</updated>
    
    <content type="html">&lt;p&gt;ç»™ç»„å†…å°ä¼™ä¼´ä»¬åˆ†äº«PythonçŸ¥è¯†åšçš„slidesï¼Œæœ¬æ¥åˆ†äº«å…±æœ‰ä¸‰åœºï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ç¬¬ä¸‰åœºå–æ¶ˆäº†ï¼Œä¹Ÿå°±æ²¡å»å‡†å¤‡.å…¶å®ç¬¬ä¸‰æ¬¡åˆ†äº«æœ¬æ¥ä¹Ÿæ˜¯è¦è®²é‚£äº›â€œGoogle + å®˜æ–¹æ–‡æ¡£â€å°±å¯ä»¥æå®šçš„ä¸œè¥¿ã€‚æŠŠå‰ä¸¤æ¬¡åˆ†äº«çš„slidesç»™å¤§å®¶åˆ†äº«å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨slideshareä¸Šï¼Œè‡ªå¤‡æ¢¯å­ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;iframe src=&quot;//www.slideshare.net/slideshow/embed_code/43048982&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;//www.slideshare.net/ssuser146893/python-1-43048982&quot; title=&quot;Introduction to Python-1&quot; target=&quot;_blank&quot;&gt;Introduction to Python(1) - History and Basics&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;//www.slideshare.net/ssuser146893&quot; target=&quot;_blank&quot;&gt;Shuai Liu&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;iframe src=&quot;//www.slideshare.net/slideshow/embed_code/43048983&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&quot; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&quot;margin-bottom:5px&quot;&gt; &lt;strong&gt; &lt;a href=&quot;//www.slideshare.net/ssuser146893/python-2-43048983&quot; title=&quot;Introduction to Python-2&quot; target=&quot;_blank&quot;&gt;Introduction to Python(2) - Advanced and Be Pythonic&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a href=&quot;//www.slideshare.net/ssuser146893&quot; target=&quot;_blank&quot;&gt;Shuai Liu&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ç»„å†…å°ä¼™ä¼´ä»¬åˆ†äº«PythonçŸ¥è¯†åšçš„slidesï¼Œæœ¬æ¥åˆ†äº«å…±æœ‰ä¸‰åœºï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ç¬¬ä¸‰åœºå–æ¶ˆäº†ï¼Œä¹Ÿå°±æ²¡å»å‡†å¤‡.å…¶å®ç¬¬ä¸‰æ¬¡åˆ†äº«æœ¬æ¥ä¹Ÿæ˜¯è¦è®²é‚£äº›â€œGoogle + å®˜æ–¹æ–‡æ¡£â€å°±å¯ä»¥æå®šçš„ä¸œè¥¿ã€‚æŠŠå‰ä¸¤æ¬¡åˆ†äº«çš„slidesç»™å¤§å®¶åˆ†äº«å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨slideshareä¸Šï¼Œè‡ªå¤‡æ¢¯å­ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç¨‹åºè®¾è®¡è¯­è¨€" scheme="http://blog.liushuaiko.be/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="Python" scheme="http://blog.liushuaiko.be/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦çš„æ—¥å­</title>
    <link href="http://blog.liushuaiko.be/blog/2014/11/07/when-I-was-at-school/"/>
    <id>http://blog.liushuaiko.be/blog/2014/11/07/when-I-was-at-school/</id>
    <published>2014-11-07T13:45:14.000Z</published>
    <updated>2016-07-09T05:42:58.000Z</updated>
    
    <content type="html">&lt;p&gt;è¯´æ¥ä¹Ÿå·§ï¼Œæ™šä¸Šè·Ÿæ„æ—åŒ†åŒ†åƒäº†ä¸ªé¥­ï¼Œæ™šä¸Šå›æ¥å¬åˆ°çš„ç¬¬ä¸€é¦–æ­Œå°±æ˜¯æ›¾ç»å¬æ„æ—å”±è¿‡çš„ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;éƒäº‘çš„&lt;a href=&quot;http://www.xiami.com/song/1772141275&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€Šæ´»ç€ã€‹&lt;/a&gt;ã€‚é‚£æ˜¯å¤§å­¦é‡Œæœ€åä¸€æ¬¡ç­é¥­ï¼Œåƒå®Œäº†å¤§å®¶ä¼¼ä¹è¿˜ä¸å°½å…´ï¼Œç”±å½ªå½ªæ’ºæ‡ç€å»äº†å­¦æ ¡åé¢çš„KTVï¼Œå¤§å®¶å¤–è¡¨ä¸Šæ²¡æœ‰è¡¨ç°å‡ºä»»ä½•è¦æ•£ä¼™çš„ä¼¤æ„Ÿï¼Œç­ä¸Šçš„å‡ ä¸ªæ¯”è¾ƒè…¼è…†çš„åŒå­¦è¿˜æ˜¯ä¸æ€ä¹ˆè¯´è¯ï¼Œå¯¹å”±æ­Œä¸æ„Ÿå†’çš„å‡ ä¸ªåŒå­¦å‡‘æˆä¸€æ¡Œæ‰“èµ·äº†ç‰Œã€‚è®°ä¸æ¸…æ˜¯è°ç‚¹äº†è¿™é¦–æ­Œï¼Œä½†å¼€å§‹æ˜¯æ¢æ ‹æ‹¿ç€è¯ç­’å‡†å¤‡å”±çš„ï¼Œæ„æ—æ˜¯å±äºæ¯”è¾ƒæ´»è·ƒçš„ç±»å‹ï¼Œå¬åˆ°å‰å¥åèµ¶å¿™å»æŠ¢äº†å¦ä¸€åªè¯ç­’ï¼Œå°±è¿™æ ·æˆ‘å…¨ç¨‹å¬å®Œäº†ä»–ä»¬å”±çš„è¿™é¦–æ­Œã€‚&lt;/p&gt;
&lt;p&gt;å¬çš„æ—¶å€™å°±ä¸€ä¸ªæ„Ÿè§‰ï¼Œæˆ‘é å°†æ¥çš„ç”Ÿæ´»ä¸ä¼šå°±æ˜¯æ­Œé‡Œå”±çš„é‚£æ ·å§ã€‚&lt;/p&gt;
&lt;p&gt;æ¢æ ‹ï¼Œå¤§ä¸€å†›è®­æ—¶ç«™æˆ‘èº«è¾¹çš„äººã€‚é‚£æ—¶å¤§å®¶éƒ½å¾ˆè…¼è…†ï¼ŒåŠªåŠ›ç»™äººç•™ä¸ªå¥½å°è±¡ã€‚æ„æ—è·Ÿæ¢æ ‹éƒ½æ˜¯æˆ‘éš”å£å®¿èˆçš„ï¼Œä»–ä»¬ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ä»æ¥ä¸ä¸ºå­¦åˆ†ç»©å‘æ„ï¼Œæ¯å¤©éƒ½è¿‡å¾—å¾ˆå¿«ä¹ï¼Œå› æ­¤å¬æ­Œçš„æ—¶å€™æˆ‘è§‰å¾—è¿™é¦–æ­ŒçœŸæ˜¯é…æäº†ä»–ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©è·Ÿæ„æ—è¯´åˆ°ï¼Œæ¥æ­å°ä¸‰åˆ†ä¹‹ä¸€å¹´äº†ã€‚å¾ˆå¤šæ—¶å€™çœŸæ˜¯æ€€å¿µæäº†å“ˆå°”æ»¨é‚£ä¸ªå†°å¤©é›ªåœ°çš„åŸå¸‚ï¼Œæ€€å¿µæäº†åœ¨å¤§å­¦çš„æ—¥å­ã€‚å½“æ—¶æˆ‘å†³å®šæ”¾å¼ƒä¿ç ”ï¼Œå®¶äººï¼Œå„ç§åŒå­¦ç­‰æˆ‘æ·±çˆ±çš„äººéƒ½è¯´åˆ«äº†å§ï¼Œofferå¹´å¹´æœ‰ï¼Œä¿ç ”å¼ƒäº†å°†æ¥å†æƒ³è¯»ç ”å¯å°±éš¾äº†ï¼Œç”šè‡³æ˜¯åˆ°ç°åœ¨ï¼Œå°±åœ¨ä»Šæ™šï¼Œåƒå®Œé¥­æ—¶æ„æ—è¿˜è¯´ï¼Œâ€œä½ è¿™èƒ½ä¿ç ”çš„ä¸ä¿ç ”â€ï¼Œæˆ‘ä¹Ÿæ˜¯é†‰äº†ã€‚é‚£ä¹ˆç°åœ¨ä½ é—®æˆ‘å‘¢ï¼Œè°ˆä¸ä¸Šåæ‚”ï¼Œå°±ä¸¤ç‚¹è®©æˆ‘è€¿è€¿äºæ€€ï¼Œå…¶ä¸€ï¼Œç°åœ¨ç”Ÿæ´»ä¸­ï¼Œæ²¡æœ‰ä¸€ä¸ªæƒ³éª‚â€œå‚»Bâ€å°±å¯ä»¥ä¸ç”¨æ€è€ƒç›´æ¥è„±å£è€Œå‡ºçš„äººï¼Œæ›´å¤šæƒ…å†µç”šè‡³æ€è€ƒäº†ä¹Ÿä¸èƒ½è„±å£è€Œå‡ºï¼Œå…¶äºŒï¼Œä¸ä¼šéšä¾¿å–Šä¸¤å¥ï¼Œå°±ä¼šæœ‰äººè·Ÿæˆ‘ä¸€èµ·å»æ¸¸æ³³ï¼Œå»æ»‘å†°ï¼Œå»â€¦..ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œç°åœ¨è¿˜åœ¨å›½å†…ä¸Šå­¦çš„åŒå­¦ä»¬ï¼Œæˆ‘ä»ä¸€ä¸ªè¿‡æ¥äººçš„è§’åº¦ç»™ä½ ä»¬ä¸ªå»ºè®®ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºä½ åœ¨å“ªä¸ªå­¦æ ¡ï¼Œåœ¨å›´å¢™å†…è¿˜æ˜¯å›´å¢™å¤–ï¼Œæ— è®ºä»€ä¹ˆåŸå› è¿˜åœ¨è¯»ä¹¦ï¼Œè¯·ä¸€å®šè¦&lt;strong&gt;çæƒœå½“ä¸‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å››çš„æ—¶å€™ï¼Œéƒ­å“¥å°±ä¸åœç»™æˆ‘çŒè¾“ï¼Œå¤§å››æ˜¯ä½ äººç”Ÿä¸­æœ€é—²çš„æ—¥å­ã€‚åˆ°ç°åœ¨æˆ‘è§‰å¾—éƒ­å“¥è¯´çš„å¤ªæœ‰é“ç†äº†ã€‚è¯»ä¹¦çš„æ—¥å­ï¼Œæ˜¯äººç”Ÿä¸­æœ€å¿«ä¹ã€æœ€è‡ªç”±çš„æ—¥å­ã€‚åœ¨å¤§å››æˆ‘è€ƒä¸‹äº†é©¾ç…§ï¼Œå­¦ä¼šäº†æ¸¸æ³³ï¼Œåšå®Œäº†æ¯•è®¾ï¼Œå·®ä¸€ç‚¹å¾—äº†æ ¡ä¼˜ï¼Œèƒ½åœ¨åˆ®ç€é£çš„ä¸‹åˆé™ªCliffå»æ‰“ç¯®çƒï¼Œæˆ‘å¾ˆåº†å¹¸èƒ½æœ‰è¿™äº›ç»å†å’Œå›å¿†ã€‚æ­£å› ä¸ºè¿™äº›éƒ½å˜æˆäº†å›å¿†ï¼Œæˆ‘å°±æ›´åŠ ç¾¡æ…•ç°åœ¨è¿˜åœ¨è¯»ä¹¦çš„äººï¼Œå¸Œæœ›ä½ ä»¬çæƒœå½“ä¸‹ï¼Œäº«å—è¯»ä¹¦çš„ç”Ÿæ´»ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;æ…Œæ…Œå¼ å¼  åŒ†åŒ†å¿™å¿™&lt;br&gt;ä¸ºä½•ç”Ÿæ´»æ€»æ˜¯è¿™æ ·&lt;br&gt;éš¾é“è¯´æˆ‘çš„ç†æƒ³&lt;br&gt;å°±æ˜¯è¿™æ ·åº¦è¿‡ä¸€ç”Ÿçš„æ—¶å…‰&lt;br&gt;ä¸å‘ä¸äº¢ ä¸æ…Œä¸å¿™&lt;br&gt;ä¹Ÿè®¸ç”Ÿæ´»åº”è¯¥è¿™æ ·&lt;br&gt;éš¾é“è¯´å…­åå²ä»¥å&lt;br&gt;å†å»å¯»æ‰¾æˆ‘æƒ³è¦çš„è‡ªç”±&lt;br&gt;ä¸€å¹´ä¸€å¹´é£é€è€Œå»   &lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;è¯´æ¥ä¹Ÿå·§ï¼Œæ™šä¸Šè·Ÿæ„æ—åŒ†åŒ†åƒäº†ä¸ªé¥­ï¼Œæ™šä¸Šå›æ¥å¬åˆ°çš„ç¬¬ä¸€é¦–æ­Œå°±æ˜¯æ›¾ç»å¬æ„æ—å”±è¿‡çš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="éšç¬”" scheme="http://blog.liushuaiko.be/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>iOSå¼€å‘ä¹‹å†…å­˜ç®¡ç†ï¼ˆ2ï¼‰â€”â€”After ARC</title>
    <link href="http://blog.liushuaiko.be/blog/2014/07/31/ios-memory-management-arc/"/>
    <id>http://blog.liushuaiko.be/blog/2014/07/31/ios-memory-management-arc/</id>
    <published>2014-07-31T03:03:49.000Z</published>
    <updated>2016-07-09T05:42:57.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ä¸€å®šè¦è®°ä½ï¼Œ&lt;a href=&quot;http://blog.vars.me/blog/2014/07/30/ioskai-fa-zhi-nei-cun-guan-li-1-before-arc/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸Šæ–‡&lt;/a&gt;æ‰€æåˆ°çš„â€œå¼•ç”¨è®¡æ•°å¼å†…å­˜ç®¡ç†â€çš„æœ¬è´¨éƒ¨åˆ†åœ¨ARCä¸­å¹¶æ²¡æœ‰ç›¸åº”çš„æ”¹å˜ã€‚ARCåªæ˜¯åœ¨RCçš„å‰é¢åŠ äº†ä¸€ä¸ªAï¼Œå³è‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†â€œå¼•ç”¨è®¡æ•°â€çš„ç›¸å…³éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;æ‰€æœ‰æƒä¿®é¥°ç¬¦&quot;&gt;&lt;a href=&quot;#æ‰€æœ‰æƒä¿®é¥°ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;æ‰€æœ‰æƒä¿®é¥°ç¬¦&quot;&gt;&lt;/a&gt;æ‰€æœ‰æƒä¿®é¥°ç¬¦&lt;/h3&gt;&lt;p&gt;å½“ARCæœ‰æ•ˆæ—¶ï¼Œidç±»å‹å’ŒOCçš„å¯¹è±¡ç±»å‹åœ¨å£°æ˜å˜é‡æ—¶å¿…é¡»åŠ ä¸Šæ‰€æœ‰æƒä¿®é¥°ç¬¦ï¼Œå…±æœ‰å››ç§ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;__strong
__weak
__unsafe_unretained
__autoreleasing
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;strong&quot;&gt;&lt;a href=&quot;#strong&quot; class=&quot;headerlink&quot; title=&quot;__strong&quot;&gt;&lt;/a&gt;&lt;code&gt;__strong&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;è¿™æ˜¯idç±»å‹å’Œå¯¹è±¡ç±»å‹&lt;strong&gt;é»˜è®¤&lt;/strong&gt;çš„æ‰€æœ‰æƒä¿®é¥°ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;strong&gt;ARCæœ‰æ•ˆæ—¶&lt;/strong&gt;ï¼Œä¸‹é¢çš„ä»£ç ï¼Œå®é™…ä¸Šæ˜¯è¢«é™„åŠ äº†æ‰€æœ‰æƒä¿®é¥°ç¬¦ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;id obj = [[NSObject alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// ä¸Šé¢ä¸€è¡Œä»£ç ä¸ä¸‹é¢è¿™è¡Œç›¸åŒ&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;id __strong obj = [[NSObject alloc] init];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é™„æœ‰&lt;code&gt;__strong&lt;/code&gt;ä¿®é¥°ç¬¦çš„å˜é‡objåœ¨è¶…å‡ºå…¶å˜é‡ä½œç”¨åŸŸæ—¶ï¼Œå³åœ¨è¯¥å˜é‡åº”è¯¥è¢«åºŸå¼ƒæ—¶ï¼Œä¼šé‡Šæ”¾å…¶è¢«èµ‹äºˆçš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    id __strong obj = [[NSObject alloc] init]; // å¼ºå¼•ç”¨ï¼Œè‡ªå·±æŒæœ‰è¯¥å¯¹è±¡&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// åˆ°æ­¤ä¸ºæ­¢ï¼Œè¶…å‡ºäº†objçš„ä½œç”¨åŸŸï¼Œå¼ºå¼•ç”¨å¤±æ•ˆï¼Œobjè‡ªåŠ¨é‡Šæ”¾æŒæœ‰çš„å¯¹è±¡ï¼Œè€Œå¯¹è±¡çš„æ‰€æœ‰è€…ä¸å­˜åœ¨ï¼Œå› æ­¤åºŸå¼ƒè¯¥å¯¹è±¡&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// å¯è§ï¼Œé»˜è®¤çš„__strongä¸Javaç±»ä¼¼&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç ç­‰ä»·ä¸åœ¨&lt;strong&gt;ARCæ— æ•ˆ&lt;/strong&gt;æ—¶çš„ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    id obj = [[NSObject alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    [obj release];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒARCæˆ‘ä»¬ä¸ç”¨æ‰‹åŠ¨è°ƒç”¨retainå’Œreleaseï¼Œéå¸¸æ–¹ä¾¿ï¼Œå¦‚æœä½ ä¹‹å‰å†™è¿‡Javaï¼Œå°±æ›´è§‰å¾—è¿™æ‰æ˜¯æœ¬æ¥åº”è¯¥æœ‰çš„æ–¹å¼å˜›ï¼åœ¨ARCæœ‰æ•ˆæ—¶ï¼Œå–å¾—éè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰çš„å¯¹è±¡ï¼Œåœ¨è¶…å‡ºå˜é‡ä½œç”¨åŸŸæ—¶ï¼Œä¹Ÿä¼šè‡ªåŠ¨é‡Šæ”¾å˜é‡æ‰€æŒæœ‰çš„å¯¹è±¡ï¼ˆè¿™ä»…ä»…ä¼šå¯¼è‡´å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡1ï¼Œä½†æ˜¯è¿™ä¸ç­‰äºä¸€å®šä¼šåºŸå¼ƒè¯¥å¯¹è±¡ï¼Œå› ä¸ºå¯¹è±¡å¯èƒ½è¿˜è¢«å…¶ä»–å˜é‡æ‰€å¼•ç”¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼ŒJavaçš„å†…å­˜ç®¡ç†è·ŸOCè¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ï¼Œå…·ä½“çš„å¯ä»¥çœ‹çœ‹çŸ¥ä¹ä¸Šçš„&lt;a href=&quot;http://t.cn/RPIXYa2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è¿™ç¯‡å›ç­”&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&quot;weak&quot;&gt;&lt;a href=&quot;#weak&quot; class=&quot;headerlink&quot; title=&quot;__weak&quot;&gt;&lt;/a&gt;&lt;code&gt;__weak&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;çœ‹èµ·æ¥é€šè¿‡&lt;code&gt;__strong&lt;/code&gt;å¯ä»¥å®Œç¾çš„è§£å†³å†…å­˜ç®¡ç†å’Œå›æ”¶çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™é‡Œé¢æœ‰ä¸€ä¸ªé‡å¤§çš„é—®é¢˜â€”â€”&lt;strong&gt;å¾ªç¯å¼•ç”¨&lt;/strong&gt;ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;// å®šä¹‰Testç±»&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@interface Test: NSObject&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    id __strong obj_;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;- (void)setObject:(id __strong)obj;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@end&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@implementation Test&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;- (id)init&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    self = [super init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return self;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;- (void)setObject:(id __strong)obj&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    obj_ = obj;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@end&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// ä»¥ä¸‹ä¸ºå¾ªç¯å¼•ç”¨&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // å¯¹è±¡A&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // test0æŒæœ‰å¯¹è±¡Açš„å¼ºå¼•ç”¨&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    id test0 = [[Test alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // å¯¹è±¡B&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // test1æŒæœ‰å¯¹è±¡Bçš„å¼ºå¼•ç”¨&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    id test1 = [[Test alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // å¯¹è±¡Açš„obj_æˆå‘˜æŒæœ‰å¯¹è±¡Bçš„å¼ºå¼•ç”¨&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // æ­¤æ—¶ï¼ŒæŒæœ‰å¯¹è±¡Bå¼ºå¼•ç”¨çš„å˜é‡ä¸ºtest1å’Œå¯¹è±¡Açš„obj_å˜é‡&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    [test0 setObject:test1];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // åŒä¸Šåˆ†æ&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    [test1 setObject:test0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// åˆ°è¿™ä¸ºæ­¢è¶…å‡ºäº†test0å’Œtest1å˜é‡çš„ä½œç”¨åŸŸï¼Œä»–ä»¬çš„å¼ºå¼•ç”¨å¤±æ•ˆã€‚åˆ†åˆ«é‡Šæ”¾å„è‡ªæŒæœ‰çš„Testå¯¹è±¡&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// ä½†æ˜¯ï¼Œå¯¹è±¡Aè¢«å¯¹è±¡Bçš„obj_æŒæœ‰ï¼ˆå¼ºå¼•ç”¨ï¼‰ï¼Œå¯¹è±¡Bè¢«å¯¹è±¡Açš„obj_æŒæœ‰ï¼ˆå¼ºå¼•ç”¨ï¼‰&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// å‘ç”Ÿäº†å†…å­˜æ³„éœ²ï¼&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸ä»…ä¸Šé¢çš„æƒ…å†µï¼Œåœ¨å¯¹è±¡è‡ªå·±æŒæœ‰å…¶è‡ªèº«æ—¶ï¼Œä¹Ÿä¼šå‘ç”Ÿå¾ªç¯å¼•ç”¨å¯¼è‡´å†…å­˜æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ€ä¹ˆé¿å…å¾ªç¯å¼•ç”¨å‘¢ï¼Œä½¿ç”¨&lt;code&gt;__weak&lt;/code&gt;å°±å¯ä»¥åšåˆ°äº†ï¼&lt;/p&gt;
&lt;p&gt;&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦ä¸&lt;code&gt;__strong&lt;/code&gt;ç›¸åï¼Œæä¾›å¼±å¼•ç”¨ã€‚å¼±å¼•ç”¨ä¸æŒæœ‰å¯¹è±¡çš„å®ä¾‹ï¼Œä¸ä¼šå¯¼è‡´å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1ã€‚&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯å¦‚æœä¸€ä¸ªå˜é‡æŒæœ‰å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œå½“è¯¥å¯¹è±¡è¢«åºŸå¼ƒæ—¶ï¼Œå˜é‡å°†è‡ªåŠ¨å¤±æ•ˆå¹¶ä¸”è¢«èµ‹å€¼æˆnilï¼Œä¸Javaçš„WeakReferenceå¾ˆåƒï¼Œå› æ­¤ï¼Œ&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦çš„å˜é‡åœ¨ä½¿ç”¨æ—¶åº”å½“åˆ¤æ–­æ˜¯å¦ä¸ºnilã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œä½¿ç”¨&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦å°±å¯ä»¥ä¸ä¼šå¯¼è‡´å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1ï¼Œæ­£ç¡®çš„ä½¿ç”¨å¯ä»¥é¿å…å‡ºç°å¼•ç”¨ç¯ï¼Œä»è€Œé¿å…å¾ªç¯å¼•ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;unsafe-unretained&quot;&gt;&lt;a href=&quot;#unsafe-unretained&quot; class=&quot;headerlink&quot; title=&quot;__unsafe_unretained&quot;&gt;&lt;/a&gt;&lt;code&gt;__unsafe_unretained&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;é—æ†¾çš„æ˜¯ï¼Œ&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦åªèƒ½ç”¨äºiOS5ä»¥ä¸ŠåŠOS X Lionä»¥ä¸Šç‰ˆæœ¬çš„ç¨‹åºï¼Œä»¥ä¸‹çš„APPä¸å¾—ä¸ä½¿ç”¨&lt;code&gt;__unsafe_unretained&lt;/code&gt;ã€‚æ­£å¦‚å…¶åï¼Œè¯¥ä¿®é¥°ç¬¦æ˜¯ä¸å®‰å…¨çš„ä¿®é¥°ç¬¦ã€‚å°½ç®¡ä½¿ç”¨ARCå¼å†…å­˜ç®¡ç†æ˜¯ç¼–è¯‘å™¨çš„å·¥ä½œï¼Œä½†é™„æœ‰è¯¥ä¿®é¥°ç¬¦çš„å˜é‡ä¸å±äºç¼–è¯‘å™¨çš„å†…å­˜ç®¡ç†å¯¹è±¡ï¼Œè¿™ç‚¹è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;é™„æœ‰&lt;code&gt;__unsafe_unretained&lt;/code&gt;ä¿®é¥°ç¬¦çš„å˜é‡åŒé™„æœ‰&lt;code&gt;__weak&lt;/code&gt;ä¿®é¥°ç¬¦çš„å˜é‡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸æŒæœ‰å¯¹è±¡çš„ï¼Œä½†æ˜¯å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå½“å¯¹è±¡è¢«åºŸå¼ƒæ—¶ï¼Œå˜é‡ä¸ä¼šè¢«ç½®æˆnilï¼Œå¯èƒ½ä¼šé€ æˆâ€œé‡æŒ‡é’ˆâ€ï¼&lt;/p&gt;
&lt;h4 id=&quot;autoreleasing&quot;&gt;&lt;a href=&quot;#autoreleasing&quot; class=&quot;headerlink&quot; title=&quot;__autoreleasing&quot;&gt;&lt;/a&gt;&lt;code&gt;__autoreleasing&lt;/code&gt;&lt;/h4&gt;&lt;p&gt;ARCæœ‰æ•ˆæ—¶ï¼Œæ˜¾å¼åœ°é™„åŠ &lt;code&gt;__autoreleasing&lt;/code&gt;ä¿®é¥°ç¬¦æ¯”è¾ƒç½•è§ã€‚è¿™å—åŸºæœ¬ä¸Šç¼–è¯‘å™¨å·²ç»å¸®ä½ å¼„å¥½äº†ï¼Œä½ ä¸éœ€è¦æ€ä¹ˆå…³å¿ƒï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼ŒæŠŠä¸Šé¢çš„ç†è§£åº”è¯¥å°±å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åè®°&quot;&gt;&lt;a href=&quot;#åè®°&quot; class=&quot;headerlink&quot; title=&quot;åè®°&quot;&gt;&lt;/a&gt;åè®°&lt;/h3&gt;&lt;p&gt;æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ¯”å–»æ¥å¸®åŠ©ç†è§£è¿™äº›ä¿®é¥°ç¬¦ï¼Œå¯¹è±¡å°±æ˜¯æ°”çƒï¼Œ&lt;code&gt;__strong&lt;/code&gt;æŒ‡é’ˆåƒçº¿ï¼Œ&lt;code&gt;__weak&lt;/code&gt;æŒ‡é’ˆåƒçœ‹ç€æ°”çƒçš„çœ¼ç›ï¼ˆæ°”çƒè·‘äº†æˆ‘æ˜¯çŸ¥é“çš„ï¼Œæˆ‘å°±ä¸å»çœ‹æ°”çƒäº†ï¼‰ï¼Œ&lt;code&gt;__unsafe_retained&lt;/code&gt;æŒ‡é’ˆåƒä¸€é“å°„å‘æ°”çƒçš„æ¿€å…‰ï¼ˆå³ä½¿æ°”çƒè·‘äº†ä¹Ÿä¸çŸ¥é“ï¼Œæ¿€å…‰ä¾ç„¶ç…§å‘é‚£ä¸ªä½ç½®ï¼‰ï¼Œ&lt;code&gt;__autoreleasing&lt;/code&gt;åƒæŒ¡ç€æ°”çƒçš„å±‹é¡¶ï¼ˆå¯ä»¥æŒ¡ä½å¤šä¸ªæ°”çƒï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘æœ‰ä»€ä¹ˆåœ°æ–¹ç†è§£æœ‰é”™è¯¯ï¼Œæ³è¯·æŒ‡æ­£ï¼Œå› ä¸ºæˆ‘æ˜¯ç»å¯¹çš„æ–°æ‰‹ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h3&gt;&lt;p&gt;ä¸€å®šè¦è®°ä½ï¼Œ&lt;a href=&quot;http://blog.vars.me/blog/2014/07/30/ioskai-fa-zhi-nei-cun-guan-li-1-before-arc/&quot;&gt;ä¸Šæ–‡&lt;/a&gt;æ‰€æåˆ°çš„â€œå¼•ç”¨è®¡æ•°å¼å†…å­˜ç®¡ç†â€çš„æœ¬è´¨éƒ¨åˆ†åœ¨ARCä¸­å¹¶æ²¡æœ‰ç›¸åº”çš„æ”¹å˜ã€‚ARCåªæ˜¯åœ¨RCçš„å‰é¢åŠ äº†ä¸€ä¸ªAï¼Œå³è‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†â€œå¼•ç”¨è®¡æ•°â€çš„ç›¸å…³éƒ¨åˆ†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSå¼€å‘ä¹‹å†…å­˜ç®¡ç†ï¼ˆ1ï¼‰â€”â€”Before ARC</title>
    <link href="http://blog.liushuaiko.be/blog/2014/07/30/ios-memory-management-mrc/"/>
    <id>http://blog.liushuaiko.be/blog/2014/07/30/ios-memory-management-mrc/</id>
    <published>2014-07-30T09:23:10.000Z</published>
    <updated>2016-07-09T05:42:56.000Z</updated>
    
    <content type="html">&lt;h3 id=&quot;Automatic-Reference-Counting&quot;&gt;&lt;a href=&quot;#Automatic-Reference-Counting&quot; class=&quot;headerlink&quot; title=&quot;Automatic Reference Counting&quot;&gt;&lt;/a&gt;Automatic Reference Counting&lt;/h3&gt;&lt;p&gt;æåˆ°Objective-Cä¸­çš„å†…å­˜ç®¡ç†ï¼Œå°±ä¸å¾—ä¸æåˆ°ARCï¼ˆè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼‰ã€‚ä½¿ç”¨äº†ARCå’Œä¸ä½¿ç”¨ARCï¼ŒOCå†…å­˜ç®¡ç†æ–¹å¼æ²¡æœ‰å˜ï¼Œéƒ½æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ï¼Œä½†æ˜¯ç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç ä¸Šå¤§æœ‰ä¸åŒã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;é¦–å…ˆè¦æ˜ç¡®çš„&quot;&gt;&lt;a href=&quot;#é¦–å…ˆè¦æ˜ç¡®çš„&quot; class=&quot;headerlink&quot; title=&quot;é¦–å…ˆè¦æ˜ç¡®çš„&quot;&gt;&lt;/a&gt;é¦–å…ˆè¦æ˜ç¡®çš„&lt;/h3&gt;&lt;p&gt;å†…å­˜ç®¡ç†çš„ç›®çš„ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ç¡®ä¿å¯¹è±¡åœ¨åˆ†é…äº†å†…å­˜å¹¶åˆå§‹åŒ–åï¼Œç¨‹åºä¸­è¦ç”¨åˆ°è¯¥å¯¹è±¡æ—¶å€™ï¼Œå¯¹è±¡è¿˜åœ¨ï¼Œç¨‹åºä¸å†ä½¿ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡å ç”¨çš„å†…å­˜èƒ½åŠæ—¶é‡Šæ”¾ï¼Œä¸ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¼•ç”¨è®¡æ•°å¼å†…å­˜ç®¡ç†ä¸­ï¼Œè¿˜è¦æ˜ç¡®ä»¥ä¸‹å‡ ç‚¹ï¼ˆè¯´åŸåˆ™ä¸æ˜¯åŸåˆ™ï¼Œè¯»äº†ä¹‹åä½ å°±æ˜ç™½äº†ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;* è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰
* éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æŒæœ‰
* è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸å†éœ€è¦æ—¶é‡Šæ”¾
* éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½é‡Šæ”¾
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŒæœ‰ï¼Œæ¯”è¾ƒéš¾ç†è§£ï¼Œæ„æ€æ˜¯æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨æŒ‡å‘äº†å¯¹è±¡ï¼Œ&lt;strong&gt;æŒæœ‰äº†å¯¹è±¡ &amp;lt;=&amp;gt; å¯¼è‡´å¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1&lt;/strong&gt;ã€‚æŠŠå¯¹è±¡æ¯”å–»æˆæ°¢æ°”çƒï¼ŒæŒæœ‰å°±æ˜¯ç”¨ä¸€æ ¹çº¿æ‹´ä½äº†æ°”çƒï¼Œä½ æ‹¿ç€æ°”çƒçº¿ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Before-ARC&quot;&gt;&lt;a href=&quot;#Before-ARC&quot; class=&quot;headerlink&quot; title=&quot;Before ARC&quot;&gt;&lt;/a&gt;Before ARC&lt;/h3&gt;&lt;p&gt;åœ¨ARCä¹‹å‰ï¼Œç¨‹åºå‘˜éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œå¯¹å¯¹è±¡çš„æŒæœ‰å’Œé‡Šæ”¾ä¸»è¦æ˜¯é€šè¿‡retainå’Œreleaseæ–¹æ³•æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ–°ç‰ˆæœ¬çš„SDKé»˜è®¤ä½¿ç”¨äº†ARCï¼Œä½†æ˜¯æ­£å¦‚éƒ­æ€»è¯´çš„ï¼ŒçœŸæ˜¯ä¸èƒ½åŒæ„æ›´å¤šã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€‰æ‹©SDKè¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œåœ¨iOS 4.0ä»¥åï¼Œå¼•å…¥äº†Auto Reference Countingï¼ˆARCï¼‰è¿™ä¸€æŠ€æœ¯ï¼Œä¸ªäººæ„Ÿè§‰ä½¿ç”¨ARCè™½ç„¶æ–¹ä¾¿äº†å†…å­˜ç®¡ç†ï¼Œä½†æ˜¯å¯¹äºæ–°æ‰‹æ¥è¯´ç¼ºå°‘äº†æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„å†ç»ƒï¼Œè¿™é‡Œæ¬ ä¸‹çš„å€ºï¼Œå°†æ¥ä¸€å®šè¦è¿˜çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰&quot;&gt;&lt;a href=&quot;#è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰&quot;&gt;&lt;/a&gt;è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰&lt;/h4&gt;&lt;p&gt;ä¸‹é¢çš„ä»£ç ï¼Œæ„å‘³ç€åˆ›å»ºäº†ä¸€ä¸ªNSObjectçš„å¯¹è±¡ï¼Œå¹¶è®©idç±»å‹çš„å˜é‡objæŒæœ‰äº†è¯¥å¯¹è±¡ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;id obj = [[NSObject alloc] init];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœä½ çš„æ–¹æ³•ä½¿ç”¨ä»¥ä¸‹åç§°å¼€å¤´ï¼ˆé©¼å³°å¼å¼€å¤´ï¼Œä¾‹å¦‚åä¸ºallocateçš„æ–¹æ³•å°±ä¸ä¼šæœ‰ç›¸åŒçš„æ•ˆæœï¼‰ï¼Œæ„ä¸ºç€è°ƒç”¨è¿™äº›æ–¹æ³•è¾¾åˆ°çš„æ•ˆæœæ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡å¹¶æŒæœ‰è¯¥å¯¹è±¡çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;alloc
new
copy
mutableCopy
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æŒæœ‰&quot;&gt;&lt;a href=&quot;#éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æŒæœ‰&quot; class=&quot;headerlink&quot; title=&quot;éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æŒæœ‰&quot;&gt;&lt;/a&gt;éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥æŒæœ‰&lt;/h4&gt;&lt;p&gt;ä¸æ˜¯è‡ªå·±æŠŠå¯¹è±¡é€ å‡ºæ¥çš„ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æŒæœ‰è¿™ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;id obj = [NSMutableArray array];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆ°æ­¤ä¸ºæ­¢ï¼Œä¸Šé¢çš„ä»£ç å¹¶æ²¡æœ‰åˆ›å»ºä¸€ä¸ªNSMutableArrayï¼Œä»…ä»…æ˜¯å–å¾—äº†å¯¹è±¡çš„å­˜åœ¨ï¼ˆè¿™æ˜¯é€šè¿‡autoreleaseå®ç°çš„ï¼‰ï¼Œä¹Ÿå³ä»…ä»…è·å¾—äº†å¯¹è±¡çš„åœ°å€ï¼Œobjæ²¡æœ‰æŒæœ‰å¯¹è±¡ï¼Œä¹Ÿå³å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å¹¶æœªå› è¿™è¡Œä»£ç è€ŒåŠ 1ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå½“ä½ ç»™objå‘é€retainçš„æ¶ˆæ¯åï¼Œobjå°±æŒæœ‰äº†å¯¹è±¡ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°åŠ 1äº†ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;[obj retain];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸å†éœ€è¦æ—¶é‡Šæ”¾-éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½é‡Šæ”¾&quot;&gt;&lt;a href=&quot;#è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸å†éœ€è¦æ—¶é‡Šæ”¾-éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½é‡Šæ”¾&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸å†éœ€è¦æ—¶é‡Šæ”¾ | éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½é‡Šæ”¾&quot;&gt;&lt;/a&gt;è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸å†éœ€è¦æ—¶é‡Šæ”¾ | éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸èƒ½é‡Šæ”¾&lt;/h4&gt;&lt;p&gt;è‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒæŒæœ‰è€…æœ‰ä¹‰åŠ¡é‡Šæ”¾å¯¹è±¡ã€‚é‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„æ˜¯releaseæ–¹æ³•ã€‚è®°ä½ä¸€å®šå¾—æ˜¯æŒæœ‰äº†å¯¹è±¡æ‰èƒ½é‡Šæ”¾ï¼Œä½ æ ¹æœ¬å°±æ²¡ç‰µä½æ°”çƒæ€ä¹ˆé‡Šæ”¾å•Šã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;id obj = [[NSObject alloc] init];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[obj release];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è®©objæŒæœ‰äº†å¯¹è±¡ï¼Œæ¥ç€æˆ‘ä»¬è°ƒç”¨releaseæ–¹æ³•é‡Šæ”¾äº†å¯¹è±¡ã€‚åœ¨releaseæ–¹æ³•å†…éƒ¨ä¼šåˆ¤æ–­å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå¦‚æœä¸º0äº†å°±è°ƒç”¨å¯¹è±¡çš„deallocæ–¹æ³•åºŸå¼ƒå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å°ç»“&quot;&gt;&lt;a href=&quot;#å°ç»“&quot; class=&quot;headerlink&quot; title=&quot;å°ç»“&quot;&gt;&lt;/a&gt;å°ç»“&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;è°ƒç”¨allocæˆ–è€…retainæ–¹æ³•åï¼Œå¼•ç”¨è®¡æ•°å€¼åŠ 1&lt;/li&gt;
&lt;li&gt;è°ƒç”¨releaseåï¼Œå¼•ç”¨è®¡æ•°å€¼å‡1&lt;/li&gt;
&lt;li&gt;å¼•ç”¨è®¡æ•°å€¼ä¸º0æ—¶ï¼Œè°ƒç”¨deallocæ–¹æ³•åºŸå¼ƒå¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®°ä½ï¼Œè¿™äº›éƒ½æ˜¯åœ¨æ²¡æœ‰ARCï¼Œç¨‹åºå‘˜è¿›è¡Œæ‰‹åŠ¨å†…å­˜ç®¡ç†æ—¶çš„ä¸€äº›ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h3 id=&quot;After-ARC&quot;&gt;&lt;a href=&quot;#After-ARC&quot; class=&quot;headerlink&quot; title=&quot;After ARC&quot;&gt;&lt;/a&gt;After ARC&lt;/h3&gt;&lt;p&gt;è‡ªä»æœ‰äº†ARCï¼Œä¸€åˆ‡éƒ½ä¸ä¸€æ ·äº†ã€‚å…·ä½“è¯·çœ‹&lt;a href=&quot;http://blog.vars.me/blog/2014/07/31/ioskai-fa-zhi-nei-cun-guan-li-2-after-arc/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸‹ç¯‡æ–‡ç« &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€»ç»“&quot;&gt;&lt;a href=&quot;#æ€»ç»“&quot; class=&quot;headerlink&quot; title=&quot;æ€»ç»“&quot;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;è¿˜çœ‹äº†å…¶ä»–çš„ä¸œè¥¿ï¼Œå¦‚autoreleaseå’Œautoreleasepoolç­‰ï¼Œä»¥åŠå¼•ç”¨è®¡æ•°å…·ä½“çš„å®ç°ï¼ˆç›´æ¥å°†å¼•ç”¨è®¡æ•°ä¿å­˜åœ¨å¯¹è±¡é‡Œå’Œä½¿ç”¨æ•£åˆ—è¡¨ç­‰ï¼‰ï¼Œè¯´å¤ªå¤šä¸å®¹æ˜“è¢«æ¥å—ï¼Œå†åŠ ä¸Šè‡ªå·±çš„ç†è§£ä¹Ÿä¸æ˜¯å¾ˆé€å½»ï¼Œå°±ä¸å™è¿°äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–æ¨èä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„OCå’ŒiOSçš„ç½‘ç«™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.raywenderlich.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;raywenderlich&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.objc.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;objc&lt;/a&gt; | &lt;a href=&quot;http://objccn.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;objcä¸­æ–‡ç¿»è¯‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡å‚è€ƒæ–‡çŒ®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://book.douban.com/subject/24720270/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ã€‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åé€ä¸€å¥è¯ï¼Œä¸å›å…±å‹‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è¦å› ä¸ºèµ°å¾—å¤ªè¿œï¼Œå°±å¿˜äº†è‡ªå·±ä¸ºä»€ä¹ˆå‡ºå‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Automatic-Reference-Counting&quot;&gt;&lt;a href=&quot;#Automatic-Reference-Counting&quot; class=&quot;headerlink&quot; title=&quot;Automatic Reference Counting&quot;&gt;&lt;/a&gt;Automatic Reference Counting&lt;/h3&gt;&lt;p&gt;æåˆ°Objective-Cä¸­çš„å†…å­˜ç®¡ç†ï¼Œå°±ä¸å¾—ä¸æåˆ°ARCï¼ˆè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼‰ã€‚ä½¿ç”¨äº†ARCå’Œä¸ä½¿ç”¨ARCï¼ŒOCå†…å­˜ç®¡ç†æ–¹å¼æ²¡æœ‰å˜ï¼Œéƒ½æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ï¼Œä½†æ˜¯ç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç ä¸Šå¤§æœ‰ä¸åŒã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç§»åŠ¨äº’è”ç½‘å¼€å‘" scheme="http://blog.liushuaiko.be/categories/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="iOS" scheme="http://blog.liushuaiko.be/tags/iOS/"/>
    
  </entry>
  
</feed>
